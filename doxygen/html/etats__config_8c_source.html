<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Grisbi:  Fichier source de etats_config.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Généré par Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Page&nbsp;principale</span></a></li>
      <li><a href="pages.html"><span>Pages&nbsp;associées</span></a></li>
      <li><a href="annotated.html"><span>Structures&nbsp;de&nbsp;données</span></a></li>
      <li class="current"><a href="files.html"><span>Fichiers</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>Liste&nbsp;des&nbsp;fichiers</span></a></li>
      <li><a href="globals.html"><span>Portée&nbsp;globale</span></a></li>
    </ul>
  </div>
<h1>etats_config.c</h1><a href="etats__config_8c.html">Aller à la documentation de ce fichier.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* ************************************************************************** */</span>
<a name="l00002"></a>00002 <span class="comment">/* Ce fichier s&#39;occupe de la configuration des états                          */</span>
<a name="l00003"></a>00003 <span class="comment">/*                      etats_config.c                                        */</span>
<a name="l00004"></a>00004 <span class="comment">/*                                                                            */</span>
<a name="l00005"></a>00005 <span class="comment">/*     Copyright (C)    2000-2008 Cédric Auger (cedric@grisbi.org)            */</span>
<a name="l00006"></a>00006 <span class="comment">/*          2006-2008 Benjamin Drieu (bdrieu@april.org)                       */</span>
<a name="l00007"></a>00007 <span class="comment">/*          http://www.grisbi.org/                                            */</span>
<a name="l00008"></a>00008 <span class="comment">/*                                                                            */</span>
<a name="l00009"></a>00009 <span class="comment">/*  This program is free software; you can redistribute it and/or modify      */</span>
<a name="l00010"></a>00010 <span class="comment">/*  it under the terms of the GNU General Public License as published by      */</span>
<a name="l00011"></a>00011 <span class="comment">/*  the Free Software Foundation; either version 2 of the License, or         */</span>
<a name="l00012"></a>00012 <span class="comment">/*  (at your option) any later version.                                       */</span>
<a name="l00013"></a>00013 <span class="comment">/*                                                                            */</span>
<a name="l00014"></a>00014 <span class="comment">/*  This program is distributed in the hope that it will be useful,           */</span>
<a name="l00015"></a>00015 <span class="comment">/*  but WITHOUT ANY WARRANTY; without even the implied warranty of            */</span>
<a name="l00016"></a>00016 <span class="comment">/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the             */</span>
<a name="l00017"></a>00017 <span class="comment">/*  GNU General Public License for more details.                              */</span>
<a name="l00018"></a>00018 <span class="comment">/*                                                                            */</span>
<a name="l00019"></a>00019 <span class="comment">/*  You should have received a copy of the GNU General Public License         */</span>
<a name="l00020"></a>00020 <span class="comment">/*  along with this program; if not, write to the Free Software               */</span>
<a name="l00021"></a>00021 <span class="comment">/*  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA */</span>
<a name="l00022"></a>00022 <span class="comment">/*                                                                            */</span>
<a name="l00023"></a>00023 <span class="comment">/* ************************************************************************** */</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;<a class="code" href="include_8h.html">include.h</a>&quot;</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="comment">/*START_INCLUDE*/</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="etats__config_8h.html">etats_config.h</a>&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;<a class="code" href="etats__calculs_8h.html">etats_calculs.h</a>&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;<a class="code" href="tiers__onglet_8h.html">tiers_onglet.h</a>&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;<a class="code" href="utils_8h.html">utils.h</a>&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="dialog_8h.html">dialog.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="gsb__calendar__entry_8h.html">gsb_calendar_entry.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="gsb__currency_8h.html">gsb_currency.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__account_8h.html">gsb_data_account.h</a>&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__budget_8h.html">gsb_data_budget.h</a>&quot;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__category_8h.html">gsb_data_category.h</a>&quot;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__fyear_8h.html">gsb_data_fyear.h</a>&quot;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__payee_8h.html">gsb_data_payee.h</a>&quot;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__payment_8h.html">gsb_data_payment.h</a>&quot;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__report__amout__comparison_8h.html">gsb_data_report_amout_comparison.h</a>&quot;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__report_8h.html">gsb_data_report.h</a>&quot;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__report__text__comparison_8h.html">gsb_data_report_text_comparison.h</a>&quot;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &quot;<a class="code" href="utils__dates_8h.html">utils_dates.h</a>&quot;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &quot;<a class="code" href="navigation_8h.html">navigation.h</a>&quot;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &quot;<a class="code" href="gsb__real_8h.html">gsb_real.h</a>&quot;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &quot;<a class="code" href="traitement__variables_8h.html">traitement_variables.h</a>&quot;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &quot;<a class="code" href="utils__str_8h.html">utils_str.h</a>&quot;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &quot;<a class="code" href="structures_8h.html">structures.h</a>&quot;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &quot;<a class="code" href="fenetre__principale_8h.html">fenetre_principale.h</a>&quot;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &quot;<a class="code" href="include_8h.html">include.h</a>&quot;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &quot;<a class="code" href="erreur_8h.html">erreur.h</a>&quot;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &quot;<a class="code" href="gsb__real_8h.html">gsb_real.h</a>&quot;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__report_8h.html">gsb_data_report.h</a>&quot;</span>
<a name="l00056"></a>00056 <span class="comment">/*END_INCLUDE*/</span>
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 <span class="comment">/*START_STATIC*/</span>
<a name="l00059"></a>00059 <span class="keyword">static</span> <span class="keywordtype">void</span> ajoute_ligne_liste_comparaisons_montants_etat ( gint last_amount_comparison_number );
<a name="l00060"></a>00060 <span class="keyword">static</span> <span class="keywordtype">void</span> ajoute_ligne_liste_comparaisons_textes_etat ( gint last_text_comparison_number );
<a name="l00061"></a>00061 <span class="keyword">static</span> <span class="keywordtype">void</span> change_comparaison_montant ( GtkWidget *menu_item,
<a name="l00062"></a>00062                                   gint amount_comparison_number );
<a name="l00063"></a>00063 <span class="keyword">static</span> <span class="keywordtype">void</span> change_comparaison_texte ( GtkWidget *menu_item,
<a name="l00064"></a>00064                                 gint text_comparison_number );
<a name="l00065"></a>00065 <span class="keyword">static</span> <span class="keywordtype">void</span> click_bas_classement_etat ( <span class="keywordtype">void</span> );
<a name="l00066"></a>00066 <span class="keyword">static</span> <span class="keywordtype">void</span> click_haut_classement_etat ( <span class="keywordtype">void</span> );
<a name="l00067"></a>00067 <span class="keyword">static</span> <span class="keywordtype">void</span> click_liste_etat ( GtkCList *liste,
<a name="l00068"></a>00068                         GdkEventButton *evenement,
<a name="l00069"></a>00069                         gint origine );
<a name="l00070"></a>00070 <span class="keyword">static</span> GtkWidget *cree_bouton_champ ( gint text_comparison_number );
<a name="l00071"></a>00071 <span class="keyword">static</span> GtkWidget *cree_bouton_comparateur_montant ( gint amount_comparison_number );
<a name="l00072"></a>00072 <span class="keyword">static</span> GtkWidget *cree_bouton_comparateur_texte ( gint text_comparison_number );
<a name="l00073"></a>00073 <span class="keyword">static</span> GtkWidget *cree_bouton_lien ( GtkWidget *hbox );
<a name="l00074"></a>00074 <span class="keyword">static</span> GtkWidget *cree_bouton_lien_lignes_comparaison ( <span class="keywordtype">void</span> );
<a name="l00075"></a>00075 <span class="keyword">static</span> GtkWidget *cree_bouton_operateur_txt ( gint text_comparison_number );
<a name="l00076"></a>00076 <span class="keyword">static</span> GtkWidget *cree_ligne_comparaison_montant ( gint amount_comparison_number );
<a name="l00077"></a>00077 <span class="keyword">static</span> GtkWidget *cree_ligne_comparaison_texte ( gint text_comparison_number );
<a name="l00078"></a>00078 <span class="keyword">static</span> <span class="keywordtype">void</span> etat_option_menu_changed (GtkWidget *optionmenu, GtkWidget *user_data);
<a name="l00079"></a>00079 <span class="keyword">static</span> GtkWidget *onglet_affichage_etat_devises ( <span class="keywordtype">void</span> );
<a name="l00080"></a>00080 <span class="keyword">static</span> GtkWidget *onglet_affichage_etat_divers ( <span class="keywordtype">void</span> );
<a name="l00081"></a>00081 <span class="keyword">static</span> GtkWidget *onglet_affichage_etat_generalites ( <span class="keywordtype">void</span> );
<a name="l00082"></a>00082 <span class="keyword">static</span> GtkWidget *onglet_affichage_etat_operations ( <span class="keywordtype">void</span> );
<a name="l00083"></a>00083 <span class="keyword">static</span> GtkWidget *onglet_etat_categories ( <span class="keywordtype">void</span> );
<a name="l00084"></a>00084 <span class="keyword">static</span> GtkWidget *onglet_etat_comptes ( <span class="keywordtype">void</span> );
<a name="l00085"></a>00085 <span class="keyword">static</span> GtkWidget *onglet_etat_dates ( <span class="keywordtype">void</span> );
<a name="l00086"></a>00086 <span class="keyword">static</span> GtkWidget *onglet_etat_divers ( <span class="keywordtype">void</span> );
<a name="l00087"></a>00087 <span class="keyword">static</span> GtkWidget *onglet_etat_ib ( <span class="keywordtype">void</span> );
<a name="l00088"></a>00088 <span class="keyword">static</span> GtkWidget *onglet_etat_mode_paiement ( <span class="keywordtype">void</span> );
<a name="l00089"></a>00089 <span class="keyword">static</span> GtkWidget *onglet_etat_montant ( <span class="keywordtype">void</span> );
<a name="l00090"></a>00090 <span class="keyword">static</span> GtkWidget *onglet_etat_texte ( <span class="keywordtype">void</span> );
<a name="l00091"></a>00091 <span class="keyword">static</span> GtkWidget *onglet_etat_tiers ( <span class="keywordtype">void</span> );
<a name="l00092"></a>00092 <span class="keyword">static</span> GtkWidget *onglet_etat_virements ( <span class="keywordtype">void</span> );
<a name="l00093"></a>00093 <span class="keyword">static</span> GtkWidget *page_data_grouping ( <span class="keywordtype">void</span> );
<a name="l00094"></a>00094 <span class="keyword">static</span> GtkWidget *page_data_separation ( <span class="keywordtype">void</span> );
<a name="l00095"></a>00095 <span class="keyword">static</span> <span class="keywordtype">void</span> recuperation_info_perso_etat ( <span class="keywordtype">void</span> );
<a name="l00096"></a>00096 <span class="keyword">static</span> <span class="keywordtype">void</span> remplissage_liste_comptes_etats ( <span class="keywordtype">void</span> );
<a name="l00097"></a>00097 <span class="keyword">static</span> <span class="keywordtype">void</span> remplissage_liste_comptes_virements ( <span class="keywordtype">void</span> );
<a name="l00098"></a>00098 <span class="keyword">static</span> <span class="keywordtype">void</span> remplissage_liste_exo_etats ( <span class="keywordtype">void</span> );
<a name="l00099"></a>00099 <span class="keyword">static</span> <span class="keywordtype">void</span> remplissage_liste_modes_paiement_etats ( <span class="keywordtype">void</span> );
<a name="l00100"></a>00100 <span class="keyword">static</span> <span class="keywordtype">void</span> remplissage_liste_tiers_etats ( <span class="keywordtype">void</span> );
<a name="l00101"></a>00101 <span class="keyword">static</span> <span class="keywordtype">void</span> remplit_liste_comparaisons_montants_etat ( <span class="keywordtype">void</span> );
<a name="l00102"></a>00102 <span class="keyword">static</span> <span class="keywordtype">void</span> remplit_liste_comparaisons_textes_etat ( <span class="keywordtype">void</span> );
<a name="l00103"></a>00103 <span class="keyword">static</span> gboolean report_config_budget_select_all ( GtkWidget *button,
<a name="l00104"></a>00104                                                   gboolean *select_ptr );
<a name="l00105"></a>00105 <span class="keyword">static</span> gboolean report_config_budget_select_type ( GtkWidget *button,
<a name="l00106"></a>00106                                                    gboolean *type_ptr );
<a name="l00107"></a>00107 <span class="keyword">static</span> GSList *report_config_categ_budget_get_selected ( gboolean is_categ );
<a name="l00108"></a>00108 <span class="keyword">static</span> gboolean report_config_categ_budget_toggled ( GtkCellRendererToggle *radio_renderer,
<a name="l00109"></a>00109                                                      gchar *path_str,
<a name="l00110"></a>00110                                                      GtkTreeStore *store );
<a name="l00111"></a>00111 <span class="keyword">static</span> gboolean report_config_category_select_all ( GtkWidget *button,
<a name="l00112"></a>00112                                                     gboolean *select_ptr );
<a name="l00113"></a>00113 <span class="keyword">static</span> gboolean report_config_category_select_type ( GtkWidget *button,
<a name="l00114"></a>00114                                                      gboolean *type_ptr );
<a name="l00115"></a>00115 <span class="keyword">static</span> <span class="keywordtype">void</span> report_config_category_toggle_categ ( <a class="code" href="structstruct__categ__budget__sel.html">struct_categ_budget_sel</a> *categ_budget_struct,
<a name="l00116"></a>00116                                                   gboolean is_categ );
<a name="l00117"></a>00117 <span class="keyword">static</span> <span class="keywordtype">void</span> report_config_category_update_treeview ( gboolean is_categ );
<a name="l00118"></a>00118 <span class="keyword">static</span> GtkWidget *report_config_create_categ_budget_list ( <span class="keywordtype">void</span> );
<a name="l00119"></a>00119 <span class="keyword">static</span> gboolean report_config_fill_categ_budget_list ( gboolean is_categ );
<a name="l00120"></a>00120 <span class="keyword">static</span> gboolean report_config_mix_select_all ( GtkTreeModel *model,
<a name="l00121"></a>00121                                                gboolean toggle_value );
<a name="l00122"></a>00122 <span class="keyword">static</span> gboolean report_config_mix_select_type ( gboolean is_categ,
<a name="l00123"></a>00123                                                 gboolean type );
<a name="l00124"></a>00124 <span class="keyword">static</span> <span class="keywordtype">void</span> report_config_mixed_list_add_div ( gboolean is_categ,
<a name="l00125"></a>00125                                                <span class="keyword">const</span> gchar *name,
<a name="l00126"></a>00126                                                gint number );
<a name="l00127"></a>00127 <span class="keyword">static</span> <span class="keywordtype">void</span> report_config_mixed_list_add_sub_div ( gboolean is_categ,
<a name="l00128"></a>00128                                                    <span class="keyword">const</span> gchar *name,
<a name="l00129"></a>00129                                                    gint number );
<a name="l00130"></a>00130 <span class="keyword">static</span> gboolean report_tree_selectable_func (GtkTreeSelection *selection,
<a name="l00131"></a>00131                                       GtkTreeModel *model,
<a name="l00132"></a>00132                                       GtkTreePath *path,
<a name="l00133"></a>00133                                       gboolean path_currently_selected,
<a name="l00134"></a>00134                                       gpointer data);
<a name="l00135"></a>00135 <span class="keyword">static</span> gboolean report_tree_update_style ( gint * page_number );
<a name="l00136"></a>00136 <span class="keyword">static</span> gboolean report_tree_update_style_iterator ( GtkTreeModel * tree_model,
<a name="l00137"></a>00137                                              GtkTreePath *path,
<a name="l00138"></a>00138                                              GtkTreeIter *iter,
<a name="l00139"></a>00139                                              gpointer data );
<a name="l00140"></a>00140 <span class="keyword">static</span> gboolean report_tree_view_selection_changed ( GtkTreeSelection *selection,
<a name="l00141"></a>00141                                               GtkTreeModel *model );
<a name="l00142"></a>00142 <span class="keyword">static</span> <span class="keywordtype">void</span> retire_ligne_liste_comparaisons_montants_etat ( gint last_amount_comparison_number );
<a name="l00143"></a>00143 <span class="keyword">static</span> <span class="keywordtype">void</span> retire_ligne_liste_comparaisons_textes_etat ( gint last_text_comparison_number );
<a name="l00144"></a>00144 <span class="keyword">static</span> <span class="keywordtype">void</span> selectionne_devise_categ_etat_courant ( <span class="keywordtype">void</span> );
<a name="l00145"></a>00145 <span class="keyword">static</span> <span class="keywordtype">void</span> selectionne_devise_ib_etat_courant ( <span class="keywordtype">void</span> );
<a name="l00146"></a>00146 <span class="keyword">static</span> <span class="keywordtype">void</span> selectionne_devise_tiers_etat_courant ( <span class="keywordtype">void</span> );
<a name="l00147"></a>00147 <span class="keyword">static</span> <span class="keywordtype">void</span> selectionne_liste_comptes_etat_courant ( <span class="keywordtype">void</span> );
<a name="l00148"></a>00148 <span class="keyword">static</span> <span class="keywordtype">void</span> selectionne_liste_exo_etat_courant ( <span class="keywordtype">void</span> );
<a name="l00149"></a>00149 <span class="keyword">static</span> <span class="keywordtype">void</span> selectionne_liste_modes_paiement_etat_courant ( <span class="keywordtype">void</span> );
<a name="l00150"></a>00150 <span class="keyword">static</span> <span class="keywordtype">void</span> selectionne_liste_tiers_etat_courant ( <span class="keywordtype">void</span> );
<a name="l00151"></a>00151 <span class="keyword">static</span> <span class="keywordtype">void</span> selectionne_liste_virements_etat_courant ( <span class="keywordtype">void</span> );
<a name="l00152"></a>00152 <span class="keyword">static</span> <span class="keywordtype">void</span> selectionne_partie_liste_compte_etat ( gint *type_compte );
<a name="l00153"></a>00153 <span class="keyword">static</span> <span class="keywordtype">void</span> selectionne_partie_liste_compte_vir_etat ( gint *type_compte );
<a name="l00154"></a>00154 <span class="keyword">static</span> <span class="keywordtype">void</span> sensitive_hbox_fonction_bouton_txt ( gint text_comparison_number );
<a name="l00155"></a>00155 <span class="comment">/*END_STATIC*/</span>
<a name="l00156"></a>00156 
<a name="l00157"></a>00157 <span class="comment">/* the def of the columns in the categ and budget list</span>
<a name="l00158"></a>00158 <span class="comment"> * to filter by categ and budget */</span>
<a name="l00159"></a>00159 <span class="keyword">enum</span>
<a name="l00160"></a>00160 {
<a name="l00161"></a><a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7addc503a22071b40d184ea0401daf9339">00161</a>     <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7addc503a22071b40d184ea0401daf9339">REPORT_CATEG_BUDGET_LIST_NAME</a> = 0,
<a name="l00162"></a><a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7ac8591acd1831c92457cd37edb5814bbc">00162</a>     <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7ac8591acd1831c92457cd37edb5814bbc">REPORT_CATEG_BUDGET_LIST_ACTIVE</a>,
<a name="l00163"></a><a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a29d8416f73ac314b297915363e7d5ed5">00163</a>     <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a29d8416f73ac314b297915363e7d5ed5">REPORT_CATEG_BUDGET_LIST_ACTIVATABLE</a>,
<a name="l00164"></a><a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a6f68c5cac057b4ca5aa962c72a7bdcc9">00164</a>     <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a6f68c5cac057b4ca5aa962c72a7bdcc9">REPORT_CATEG_BUDGET_LIST_NUMBER</a>,
<a name="l00165"></a><a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7aa2972713d581d3fa10f20305368d0e2f">00165</a>     <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7aa2972713d581d3fa10f20305368d0e2f">REPORT_CATEG_BUDGET_LIST_SUB_NUMBER</a>,
<a name="l00166"></a>00166 
<a name="l00167"></a><a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a277c6e5e02c7dd70756f9fed8c4e7f9d">00167</a>     <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a277c6e5e02c7dd70756f9fed8c4e7f9d">REPORT_CATEG_BUDGET_LIST_NB</a>,
<a name="l00168"></a>00168 };
<a name="l00169"></a>00169 
<a name="l00170"></a>00170 
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 
<a name="l00173"></a>00173 <span class="comment">/***********************************/</span>
<a name="l00174"></a>00174 <span class="comment">/* fichier etats_config.c */</span>
<a name="l00175"></a>00175 <span class="comment">/***********************************/</span>
<a name="l00176"></a>00176 
<a name="l00177"></a><a class="code" href="etats__config_8c.html#ab8e3ed1424ff4242d1e9df58aad68eb1">00177</a> gchar *<a class="code" href="etats__config_8c.html#ab8e3ed1424ff4242d1e9df58aad68eb1">liste_plages_dates</a>[] = {
<a name="l00178"></a>00178     N_(<span class="stringliteral">&quot;All&quot;</span>),
<a name="l00179"></a>00179     N_(<span class="stringliteral">&quot;Custom&quot;</span>),
<a name="l00180"></a>00180     N_(<span class="stringliteral">&quot;Total to now&quot;</span>),
<a name="l00181"></a>00181     N_(<span class="stringliteral">&quot;Current month&quot;</span>),
<a name="l00182"></a>00182     N_(<span class="stringliteral">&quot;Current year&quot;</span>),
<a name="l00183"></a>00183     N_(<span class="stringliteral">&quot;Current month to now&quot;</span>),
<a name="l00184"></a>00184     N_(<span class="stringliteral">&quot;Current year to now&quot;</span>),
<a name="l00185"></a>00185     N_(<span class="stringliteral">&quot;Previous month&quot;</span>),
<a name="l00186"></a>00186     N_(<span class="stringliteral">&quot;Previous year&quot;</span>),
<a name="l00187"></a>00187     N_(<span class="stringliteral">&quot;Last 30 days&quot;</span>),
<a name="l00188"></a>00188     N_(<span class="stringliteral">&quot;Last 3 months&quot;</span>),
<a name="l00189"></a>00189     N_(<span class="stringliteral">&quot;Last 6 months&quot;</span>),
<a name="l00190"></a>00190     N_(<span class="stringliteral">&quot;Last 12 months&quot;</span>),
<a name="l00191"></a>00191     NULL };
<a name="l00192"></a>00192 
<a name="l00193"></a><a class="code" href="etats__config_8c.html#ac315591e8b0b5daecd30327b0a2224bf">00193</a> gchar *<a class="code" href="etats__config_8c.html#ac315591e8b0b5daecd30327b0a2224bf">jours_semaine</a>[] = {
<a name="l00194"></a>00194     N_(<span class="stringliteral">&quot;Monday&quot;</span>),
<a name="l00195"></a>00195     N_(<span class="stringliteral">&quot;Tuesday&quot;</span>),
<a name="l00196"></a>00196     N_(<span class="stringliteral">&quot;Wednesday&quot;</span>),
<a name="l00197"></a>00197     N_(<span class="stringliteral">&quot;Thursday&quot;</span>),
<a name="l00198"></a>00198     N_(<span class="stringliteral">&quot;Friday&quot;</span>),
<a name="l00199"></a>00199     N_(<span class="stringliteral">&quot;Saturday&quot;</span>),
<a name="l00200"></a>00200     N_(<span class="stringliteral">&quot;Sunday&quot;</span>),
<a name="l00201"></a>00201     NULL };
<a name="l00202"></a>00202 
<a name="l00203"></a>00203 <span class="keyword">static</span> GtkWidget *entree_nom_etat = NULL;
<a name="l00204"></a>00204 <span class="keyword">static</span> GtkWidget *liste_type_classement_etat = NULL;
<a name="l00205"></a>00205 <span class="keyword">static</span> GtkWidget *bouton_opes_r_et_non_r_etat = NULL;
<a name="l00206"></a>00206 <span class="keyword">static</span> GtkWidget *bouton_opes_non_r_etat = NULL;
<a name="l00207"></a>00207 <span class="keyword">static</span> GtkWidget *bouton_opes_r_etat = NULL;
<a name="l00208"></a>00208 <span class="keyword">static</span> GtkWidget *bouton_afficher_opes = NULL;
<a name="l00209"></a>00209 <span class="keyword">static</span> GtkWidget *bouton_afficher_nb_opes = NULL;
<a name="l00210"></a>00210 <span class="keyword">static</span> GtkWidget *bouton_afficher_date_opes = NULL;
<a name="l00211"></a>00211 <span class="keyword">static</span> GtkWidget *bouton_afficher_value_date_opes = NULL;
<a name="l00212"></a>00212 <span class="keyword">static</span> GtkWidget *bouton_afficher_tiers_opes = NULL;
<a name="l00213"></a>00213 <span class="keyword">static</span> GtkWidget *bouton_afficher_categ_opes = NULL;
<a name="l00214"></a>00214 <span class="keyword">static</span> GtkWidget *bouton_afficher_sous_categ_opes = NULL;
<a name="l00215"></a>00215 <span class="keyword">static</span> GtkWidget *bouton_afficher_ib_opes = NULL;
<a name="l00216"></a>00216 <span class="keyword">static</span> GtkWidget *bouton_afficher_sous_ib_opes = NULL;
<a name="l00217"></a>00217 <span class="keyword">static</span> GtkWidget *bouton_afficher_notes_opes = NULL;
<a name="l00218"></a>00218 <span class="keyword">static</span> GtkWidget *bouton_afficher_pc_opes = NULL;
<a name="l00219"></a>00219 <span class="keyword">static</span> GtkWidget *bouton_afficher_infobd_opes = NULL;
<a name="l00220"></a>00220 <span class="keyword">static</span> GtkWidget *bouton_afficher_no_ope = NULL;
<a name="l00221"></a>00221 <span class="keyword">static</span> GtkWidget *bouton_afficher_type_ope = NULL;
<a name="l00222"></a>00222 <span class="keyword">static</span> GtkWidget *bouton_afficher_no_rappr = NULL;
<a name="l00223"></a>00223 <span class="keyword">static</span> GtkWidget *bouton_afficher_no_cheque = NULL;
<a name="l00224"></a>00224 <span class="keyword">static</span> GtkWidget *bouton_afficher_exo_opes = NULL;
<a name="l00225"></a>00225 <span class="keyword">static</span> GtkWidget *bouton_pas_detailler_ventilation = NULL;
<a name="l00226"></a>00226 <span class="keyword">static</span> GtkWidget *bouton_separer_revenus_depenses = NULL;
<a name="l00227"></a>00227 <span class="keyword">static</span> GtkWidget *bouton_devise_general_etat = NULL;
<a name="l00228"></a>00228 <span class="keyword">static</span> GtkWidget *bouton_inclure_dans_tiers = NULL;
<a name="l00229"></a>00229 <span class="keyword">static</span> GtkWidget *bouton_afficher_titres_colonnes = NULL;
<a name="l00230"></a>00230 <span class="keyword">static</span> GtkWidget *bouton_titre_changement = NULL;
<a name="l00231"></a>00231 <span class="keyword">static</span> GtkWidget *bouton_titre_en_haut = NULL;
<a name="l00232"></a>00232 <span class="keyword">static</span> GtkWidget *bouton_choix_classement_ope_etat = NULL;
<a name="l00233"></a>00233 <span class="keyword">static</span> GtkWidget *bouton_rendre_ope_clickables = NULL;
<a name="l00234"></a>00234 <span class="keyword">static</span> GtkWidget *vbox_show_transactions = NULL;
<a name="l00235"></a>00235 
<a name="l00236"></a>00236 <span class="keyword">static</span> GtkWidget *radio_button_utilise_exo = NULL;
<a name="l00237"></a>00237 <span class="keyword">static</span> GtkWidget *radio_button_utilise_dates = NULL;
<a name="l00238"></a>00238 <span class="keyword">static</span> GtkWidget *liste_exo_etat = NULL;
<a name="l00239"></a>00239 <span class="keyword">static</span> GtkWidget *vbox_generale_exo_etat = NULL;
<a name="l00240"></a>00240 <span class="keyword">static</span> GtkWidget *bouton_exo_tous = NULL;
<a name="l00241"></a>00241 <span class="keyword">static</span> GtkWidget *bouton_exo_courant = NULL;
<a name="l00242"></a>00242 <span class="keyword">static</span> GtkWidget *bouton_exo_precedent = NULL;
<a name="l00243"></a>00243 <span class="keyword">static</span> GtkWidget *bouton_detaille_exo_etat = NULL;
<a name="l00244"></a>00244 <span class="keyword">static</span> GtkWidget *bouton_separe_exo_etat = NULL;
<a name="l00245"></a>00245 <span class="keyword">static</span> GtkWidget *liste_plages_dates_etat = NULL;
<a name="l00246"></a>00246 <span class="keyword">static</span> GtkWidget *entree_date_init_etat = NULL;
<a name="l00247"></a>00247 <span class="keyword">static</span> GtkWidget *entree_date_finale_etat = NULL;
<a name="l00248"></a>00248 <span class="keyword">static</span> GtkWidget *vbox_utilisation_exo = NULL;
<a name="l00249"></a>00249 <span class="keyword">static</span> GtkWidget *vbox_utilisation_date = NULL;
<a name="l00250"></a>00250 <span class="keyword">static</span> GtkWidget *bouton_separe_plages_etat = NULL;
<a name="l00251"></a>00251 <span class="keyword">static</span> GtkWidget *bouton_type_separe_plages_etat = NULL;
<a name="l00252"></a>00252 <span class="keyword">static</span> GtkWidget *bouton_debut_semaine = NULL;
<a name="l00253"></a>00253 
<a name="l00254"></a>00254 <span class="keyword">static</span> GtkWidget *liste_comptes_etat = NULL;
<a name="l00255"></a>00255 <span class="keyword">static</span> GtkWidget *bouton_detaille_comptes_etat = NULL;
<a name="l00256"></a>00256 <span class="keyword">static</span> GtkWidget *vbox_generale_comptes_etat = NULL;
<a name="l00257"></a>00257 <span class="keyword">static</span> GtkWidget *bouton_regroupe_ope_compte_etat = NULL;
<a name="l00258"></a>00258 <span class="keyword">static</span> GtkWidget *bouton_affiche_sous_total_compte = NULL;
<a name="l00259"></a>00259 <span class="keyword">static</span> GtkWidget *bouton_afficher_noms_comptes = NULL;
<a name="l00260"></a>00260 
<a name="l00261"></a>00261 <span class="keyword">static</span> GtkWidget *bouton_inclusion_virements_actifs_etat = NULL;
<a name="l00262"></a>00262 <span class="keyword">static</span> GtkWidget *bouton_inclusion_virements_hors_etat = NULL;
<a name="l00263"></a>00263 <span class="keyword">static</span> GtkWidget *bouton_non_inclusion_virements = NULL;
<a name="l00264"></a>00264 <span class="keyword">static</span> GtkWidget *bouton_inclusion_virements_perso = NULL;
<a name="l00265"></a>00265 <span class="keyword">static</span> GtkWidget *liste_comptes_virements = NULL;
<a name="l00266"></a>00266 <span class="keyword">static</span> GtkWidget *bouton_exclure_non_virements_etat = NULL;
<a name="l00267"></a>00267 <span class="keyword">static</span> GtkWidget *hbox_liste_comptes_virements = NULL;
<a name="l00268"></a>00268 
<a name="l00269"></a>00269 <span class="keyword">static</span> GtkWidget *button_group_by_categ = NULL;
<a name="l00270"></a>00270 <span class="keyword">static</span> GtkWidget *button_detail_categ = NULL;
<a name="l00271"></a>00271 <span class="keyword">static</span> GtkWidget *hbox_detaille_categ_etat = NULL;
<a name="l00272"></a>00272 <span class="keyword">static</span> GtkWidget *bouton_afficher_sous_categ = NULL;
<a name="l00273"></a>00273 <span class="keyword">static</span> GtkWidget *tree_view_categ = NULL;
<a name="l00274"></a>00274 <span class="keyword">static</span> GtkWidget *bouton_affiche_sous_total_categ = NULL;
<a name="l00275"></a>00275 <span class="keyword">static</span> GtkWidget *bouton_affiche_sous_total_sous_categ = NULL;
<a name="l00276"></a>00276 <span class="keyword">static</span> GtkWidget *bouton_devise_categ_etat = NULL;
<a name="l00277"></a>00277 <span class="keyword">static</span> GtkWidget *bouton_afficher_pas_de_sous_categ = NULL;
<a name="l00278"></a>00278 <span class="keyword">static</span> GtkWidget *bouton_afficher_noms_categ = NULL;
<a name="l00279"></a>00279 
<a name="l00280"></a>00280 <span class="keyword">static</span> GtkWidget *bouton_utilise_ib_etat = NULL;
<a name="l00281"></a>00281 <span class="keyword">static</span> GtkWidget *bouton_detaille_ib_etat = NULL;
<a name="l00282"></a>00282 <span class="keyword">static</span> GtkWidget *hbox_detaille_ib_etat = NULL;
<a name="l00283"></a>00283 <span class="keyword">static</span> GtkWidget *tree_view_budget = NULL;
<a name="l00284"></a>00284 <span class="keyword">static</span> GtkWidget *bouton_afficher_sous_ib = NULL;
<a name="l00285"></a>00285 <span class="keyword">static</span> GtkWidget *bouton_affiche_sous_total_ib = NULL;
<a name="l00286"></a>00286 <span class="keyword">static</span> GtkWidget *bouton_affiche_sous_total_sous_ib = NULL;
<a name="l00287"></a>00287 <span class="keyword">static</span> GtkWidget *bouton_devise_ib_etat = NULL;
<a name="l00288"></a>00288 <span class="keyword">static</span> GtkWidget *bouton_afficher_pas_de_sous_ib = NULL;
<a name="l00289"></a>00289 <span class="keyword">static</span> GtkWidget *bouton_afficher_noms_ib = NULL;
<a name="l00290"></a>00290 
<a name="l00291"></a>00291 <span class="keyword">static</span> GtkWidget *bouton_utilise_tiers_etat = NULL;
<a name="l00292"></a>00292 <span class="keyword">static</span> GtkWidget *bouton_detaille_tiers_etat = NULL;
<a name="l00293"></a>00293 <span class="keyword">static</span> GtkWidget *hbox_detaille_tiers_etat = NULL;
<a name="l00294"></a>00294 <span class="keyword">static</span> GtkWidget *liste_tiers_etat = NULL;
<a name="l00295"></a>00295 <span class="keyword">static</span> GtkWidget *bouton_affiche_sous_total_tiers = NULL;
<a name="l00296"></a>00296 <span class="keyword">static</span> GtkWidget *bouton_devise_tiers_etat = NULL;
<a name="l00297"></a>00297 <span class="keyword">static</span> GtkWidget *bouton_afficher_noms_tiers = NULL;
<a name="l00298"></a>00298 
<a name="l00299"></a>00299 <span class="keyword">static</span> GtkWidget *bouton_utilise_texte = NULL;
<a name="l00300"></a>00300 <span class="keyword">static</span> GtkWidget *vbox_generale_textes_etat = NULL;
<a name="l00301"></a>00301 <span class="keyword">static</span> GtkWidget *liste_textes_etat = NULL;
<a name="l00302"></a>00302 
<a name="l00303"></a>00303 <span class="keyword">static</span> GtkWidget *bouton_utilise_montant = NULL;
<a name="l00304"></a>00304 <span class="keyword">static</span> GtkWidget *vbox_generale_montants_etat = NULL;
<a name="l00305"></a>00305 <span class="keyword">static</span> GtkWidget *liste_montants_etat = NULL;
<a name="l00306"></a>00306 <span class="keyword">static</span> GtkWidget *bouton_devise_montant_etat = NULL;
<a name="l00307"></a>00307 <span class="keyword">static</span> GtkWidget *bouton_exclure_ope_nulles_etat = NULL;
<a name="l00308"></a>00308 
<a name="l00309"></a><a class="code" href="etats__config_8c.html#a7ec62d3e029ce7a90e4a2bbe363c4fe0">00309</a> gint <a class="code" href="etats__affiche_8c.html#a7ec62d3e029ce7a90e4a2bbe363c4fe0">ancienne_ib_etat</a>;
<a name="l00310"></a><a class="code" href="etats__config_8c.html#ab576c21677f0ca665531b1f8db06b724">00310</a> gint <a class="code" href="etats__affiche_8c.html#ab576c21677f0ca665531b1f8db06b724">ancienne_sous_ib_etat</a>;
<a name="l00311"></a><a class="code" href="etats__config_8c.html#a27ae89b8d957ad090d865123d0140660">00311</a> gint <a class="code" href="etats__affiche_8c.html#a27ae89b8d957ad090d865123d0140660">ancienne_categ_etat</a>;
<a name="l00312"></a><a class="code" href="etats__config_8c.html#a272b0e6e10dda1b35e50300cd610cfd1">00312</a> gint <a class="code" href="etats__affiche_8c.html#a272b0e6e10dda1b35e50300cd610cfd1">ancienne_categ_speciale_etat</a>;
<a name="l00313"></a><a class="code" href="etats__config_8c.html#a5542f5d3ecd5af99198cd9bf67a9ff71">00313</a> gint <a class="code" href="etats__affiche_8c.html#a5542f5d3ecd5af99198cd9bf67a9ff71">ancienne_sous_categ_etat</a>;
<a name="l00314"></a><a class="code" href="etats__config_8c.html#aa963ebc8f70f33f5f763428e5b60223d">00314</a> gint <a class="code" href="etats__affiche_8c.html#aa963ebc8f70f33f5f763428e5b60223d">ancien_compte_etat</a>;
<a name="l00315"></a><a class="code" href="etats__config_8c.html#a5b4b5a3cce8adc2c0f8d26b99a6ac237">00315</a> gint <a class="code" href="etats__config_8c.html#a5b4b5a3cce8adc2c0f8d26b99a6ac237">ancien_tiers_etat</a>;
<a name="l00316"></a><a class="code" href="etats__config_8c.html#afc4d1cbfa38b987f27933ddccd51598b">00316</a> <a class="code" href="structgsb__real.html">gsb_real</a> <a class="code" href="etats__affiche_8c.html#afc4d1cbfa38b987f27933ddccd51598b">montant_categ_etat</a>;
<a name="l00317"></a><a class="code" href="etats__config_8c.html#ab5c074fe2fc567694fbe4a2cf3ca86b9">00317</a> <a class="code" href="structgsb__real.html">gsb_real</a> <a class="code" href="etats__affiche_8c.html#ab5c074fe2fc567694fbe4a2cf3ca86b9">montant_sous_categ_etat</a>;
<a name="l00318"></a><a class="code" href="etats__config_8c.html#a73e02b2358ae86d87963134245729348">00318</a> <a class="code" href="structgsb__real.html">gsb_real</a> <a class="code" href="etats__affiche_8c.html#a73e02b2358ae86d87963134245729348">montant_ib_etat</a>;
<a name="l00319"></a><a class="code" href="etats__config_8c.html#ab5efab0379678fac2d20097c5eef106a">00319</a> <a class="code" href="structgsb__real.html">gsb_real</a> <a class="code" href="etats__affiche_8c.html#ab5efab0379678fac2d20097c5eef106a">montant_sous_ib_etat</a>;
<a name="l00320"></a><a class="code" href="etats__config_8c.html#ae5577643c4652cb316b536fe589be57a">00320</a> <a class="code" href="structgsb__real.html">gsb_real</a> <a class="code" href="etats__affiche_8c.html#ae5577643c4652cb316b536fe589be57a">montant_compte_etat</a>;
<a name="l00321"></a><a class="code" href="etats__config_8c.html#aae854ba19cf7827f321f3282a9f4b0c2">00321</a> <a class="code" href="structgsb__real.html">gsb_real</a> <a class="code" href="etats__affiche_8c.html#aae854ba19cf7827f321f3282a9f4b0c2">montant_tiers_etat</a>;
<a name="l00322"></a><a class="code" href="etats__config_8c.html#aed8c8e6d4a199c152eae898166a2e34a">00322</a> <a class="code" href="structgsb__real.html">gsb_real</a> <a class="code" href="etats__affiche_8c.html#aed8c8e6d4a199c152eae898166a2e34a">montant_periode_etat</a>;
<a name="l00323"></a><a class="code" href="etats__config_8c.html#abf2d51bfad45c9a5e7e75400c92778a2">00323</a> <a class="code" href="structgsb__real.html">gsb_real</a> <a class="code" href="etats__affiche_8c.html#abf2d51bfad45c9a5e7e75400c92778a2">montant_exo_etat</a>;
<a name="l00324"></a><a class="code" href="etats__config_8c.html#ae6985b862a00ba2b027e1563864be011">00324</a> gint <a class="code" href="etats__affiche_8c.html#ae6985b862a00ba2b027e1563864be011">nb_ope_categ_etat</a>;
<a name="l00325"></a><a class="code" href="etats__config_8c.html#a84bea4d1bc742aad297bc7746dfa4f4e">00325</a> gint <a class="code" href="etats__affiche_8c.html#a84bea4d1bc742aad297bc7746dfa4f4e">nb_ope_sous_categ_etat</a>;
<a name="l00326"></a><a class="code" href="etats__config_8c.html#a10ebe84ab2fe2ca0757b40f9bf185c83">00326</a> gint <a class="code" href="etats__affiche_8c.html#a10ebe84ab2fe2ca0757b40f9bf185c83">nb_ope_ib_etat</a>;
<a name="l00327"></a><a class="code" href="etats__config_8c.html#a1f68e24419272f0faf0d6696d763aa88">00327</a> gint <a class="code" href="etats__affiche_8c.html#a1f68e24419272f0faf0d6696d763aa88">nb_ope_sous_ib_etat</a>;
<a name="l00328"></a><a class="code" href="etats__config_8c.html#a1b11951d1a56f8c68f55c0fa1cb0c1c7">00328</a> gint <a class="code" href="etats__affiche_8c.html#a1b11951d1a56f8c68f55c0fa1cb0c1c7">nb_ope_compte_etat</a>;
<a name="l00329"></a><a class="code" href="etats__config_8c.html#a2a4a8e2b7264cdb23ba5297beee6ce9c">00329</a> gint <a class="code" href="etats__affiche_8c.html#a2a4a8e2b7264cdb23ba5297beee6ce9c">nb_ope_tiers_etat</a>;
<a name="l00330"></a><a class="code" href="etats__config_8c.html#a5a93de94b74c1dcf8b4ac05352f8a4fc">00330</a> gint <a class="code" href="etats__affiche_8c.html#a5a93de94b74c1dcf8b4ac05352f8a4fc">nb_ope_periode_etat</a>;
<a name="l00331"></a><a class="code" href="etats__config_8c.html#a4b03672e73353edd27cc31fb88ff998c">00331</a> gint <a class="code" href="etats__affiche_8c.html#a4b03672e73353edd27cc31fb88ff998c">nb_ope_exo_etat</a>;
<a name="l00332"></a><a class="code" href="etats__config_8c.html#ac17ce010b9f2b380c122b90b4059fb7b">00332</a> gint <a class="code" href="etats__affiche_8c.html#ac17ce010b9f2b380c122b90b4059fb7b">nb_ope_general_etat</a>;
<a name="l00333"></a><a class="code" href="etats__config_8c.html#a5f9793983be874655fa535ec4390fd0e">00333</a> gint <a class="code" href="etats__affiche_8c.html#a5f9793983be874655fa535ec4390fd0e">nb_ope_partie_etat</a>;
<a name="l00334"></a><a class="code" href="etats__config_8c.html#a7cae10e43ecf35e09ff52cb168a4a18c">00334</a> GDate *<a class="code" href="etats__affiche_8c.html#a7cae10e43ecf35e09ff52cb168a4a18c">date_debut_periode</a>;
<a name="l00335"></a><a class="code" href="etats__config_8c.html#a56b05d8c0d7da3d30651f195bb372762">00335</a> gint <a class="code" href="etats__affiche_8c.html#a56b05d8c0d7da3d30651f195bb372762">exo_en_cours_etat</a>;
<a name="l00336"></a><a class="code" href="etats__config_8c.html#a68a05b085bd2003ba74b209e997cf8a1">00336</a> gint <a class="code" href="etats__affiche_8c.html#a68a05b085bd2003ba74b209e997cf8a1">changement_de_groupe_etat</a>;
<a name="l00337"></a><a class="code" href="etats__config_8c.html#a5467b112388c669f4170b0d644627bdf">00337</a> gint <a class="code" href="etats__affiche_8c.html#a5467b112388c669f4170b0d644627bdf">debut_affichage_etat</a>;
<a name="l00338"></a><a class="code" href="etats__config_8c.html#a422822312d2318e4dcc89876b272190f">00338</a> gint <a class="code" href="etats__affiche_8c.html#a422822312d2318e4dcc89876b272190f">devise_compte_en_cours_etat</a>;
<a name="l00339"></a><a class="code" href="etats__config_8c.html#adaa4a489115440e4b626aa3b62a426e3">00339</a> gint <a class="code" href="etats__affiche_8c.html#adaa4a489115440e4b626aa3b62a426e3">devise_categ_etat</a>;
<a name="l00340"></a><a class="code" href="etats__config_8c.html#a98f915576da9142adfe793e027729e2a">00340</a> gint <a class="code" href="etats__affiche_8c.html#a98f915576da9142adfe793e027729e2a">devise_ib_etat</a>;
<a name="l00341"></a><a class="code" href="etats__config_8c.html#ade4d3d82f703c4de9afda7c90b2235c0">00341</a> gint <a class="code" href="etats__affiche_8c.html#ade4d3d82f703c4de9afda7c90b2235c0">devise_tiers_etat</a>;
<a name="l00342"></a><a class="code" href="etats__config_8c.html#ac386cfcb130eaec7498c754733b118df">00342</a> gint <a class="code" href="etats__affiche_8c.html#ac386cfcb130eaec7498c754733b118df">devise_generale_etat</a>;
<a name="l00343"></a>00343 
<a name="l00344"></a><a class="code" href="etats__config_8c.html#a8451d9f992a33f2f6a95572bf3ebe732">00344</a> <span class="keyword">const</span> gchar *<a class="code" href="etats__affiche_8c.html#a8451d9f992a33f2f6a95572bf3ebe732">nom_categ_en_cours</a>;
<a name="l00345"></a><a class="code" href="etats__config_8c.html#a70d5f4a7719dfb6e7256bf9c0c6c81c0">00345</a> <span class="keyword">const</span> gchar *<a class="code" href="etats__affiche_8c.html#a70d5f4a7719dfb6e7256bf9c0c6c81c0">nom_ss_categ_en_cours</a>;
<a name="l00346"></a><a class="code" href="etats__config_8c.html#ae7d124c4540ae28e59c875e7a273d1b2">00346</a> <span class="keyword">const</span> gchar *<a class="code" href="etats__affiche_8c.html#ae7d124c4540ae28e59c875e7a273d1b2">nom_ib_en_cours</a>;
<a name="l00347"></a><a class="code" href="etats__config_8c.html#aeebb77c73228c08a745bce2b31626184">00347</a> <span class="keyword">const</span> gchar *<a class="code" href="etats__affiche_8c.html#aeebb77c73228c08a745bce2b31626184">nom_ss_ib_en_cours</a>;
<a name="l00348"></a><a class="code" href="etats__config_8c.html#aec1a39f8dd6a5209e972b1e3c18692a4">00348</a> <span class="keyword">const</span> gchar *<a class="code" href="etats__affiche_8c.html#aec1a39f8dd6a5209e972b1e3c18692a4">nom_compte_en_cours</a>;
<a name="l00349"></a><a class="code" href="etats__config_8c.html#ad6c29bcab9528b5f233ca087daae59e2">00349</a> <span class="keyword">const</span> gchar *<a class="code" href="etats__affiche_8c.html#ad6c29bcab9528b5f233ca087daae59e2">nom_tiers_en_cours</a>;
<a name="l00350"></a><a class="code" href="etats__config_8c.html#aa74984417afb965dc68f02651313074b">00350</a> gint <a class="code" href="etats__affiche_8c.html#aa74984417afb965dc68f02651313074b">titres_affiches</a>;
<a name="l00351"></a>00351 
<a name="l00352"></a>00352 <span class="keyword">static</span> GtkWidget *bouton_detaille_mode_paiement_etat = NULL;
<a name="l00353"></a>00353 <span class="keyword">static</span> GtkWidget *vbox_mode_paiement_etat = NULL;
<a name="l00354"></a>00354 <span class="keyword">static</span> GtkWidget *liste_mode_paiement_etat = NULL;
<a name="l00355"></a>00355 
<a name="l00356"></a>00356 
<a name="l00357"></a>00357 <span class="keyword">static</span> GtkTreeStore * report_tree_model = NULL;
<a name="l00358"></a>00358 <span class="keyword">static</span> GtkWidget * report_tree_view = NULL;
<a name="l00359"></a>00359 
<a name="l00362"></a>00362 <span class="keyword">static</span> GtkTreeModel *model_categ;
<a name="l00363"></a>00363 <span class="keyword">static</span> GtkTreeModel *model_budget;
<a name="l00364"></a>00364 <span class="keyword">static</span> GtkTreeIter parent_iter;
<a name="l00365"></a>00365 
<a name="l00366"></a>00366 
<a name="l00367"></a>00367 <span class="comment">/*START_EXTERN*/</span>
<a name="l00368"></a>00368 <span class="keyword">extern</span> GtkWidget * <a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>;
<a name="l00369"></a>00369 <span class="keyword">extern</span> GtkWidget *<a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a>;
<a name="l00370"></a>00370 <span class="keyword">extern</span> GtkWidget *<a class="code" href="etats__config_8c.html#ae92ea175fa6b21c845c3a0971646f6d5">notebook_etats</a>;
<a name="l00371"></a>00371 <span class="keyword">extern</span> GtkWidget *<a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a>;
<a name="l00372"></a>00372 <span class="keyword">extern</span> GtkWidget *<a class="code" href="accueil_8c.html#a3d346c08cf2d67c388caabffb412b293">window</a>;
<a name="l00373"></a>00373 <span class="comment">/*END_EXTERN*/</span>
<a name="l00374"></a>00374 
<a name="l00375"></a>00375 
<a name="l00376"></a>00376 
<a name="l00377"></a>00377 <span class="comment">/******************************************************************************/</span>
<a name="l00378"></a>00378 <span class="comment">/* Fontion personnalistation_etat */</span>
<a name="l00379"></a>00379 <span class="comment">/* affiche la fenetre de personnalisation */</span>
<a name="l00380"></a>00380 <span class="comment">/******************************************************************************/</span>
<a name="l00381"></a><a class="code" href="etats__config_8h.html#a9b69a48d62d062235b3e849dbf5cd951">00381</a> <span class="keywordtype">void</span> <a class="code" href="etats__config_8c.html#a9b69a48d62d062235b3e849dbf5cd951">personnalisation_etat</a> (<span class="keywordtype">void</span>)
<a name="l00382"></a>00382 {
<a name="l00383"></a>00383     GtkWidget * dialog, *sw, *paned;
<a name="l00384"></a>00384     GtkCTreeNode *parent;
<a name="l00385"></a>00385     GSList *list_tmp;
<a name="l00386"></a>00386     gint current_report_number, page = 0;
<a name="l00387"></a>00387     GtkTreeViewColumn *column;
<a name="l00388"></a>00388     GtkCellRenderer *cell;
<a name="l00389"></a>00389     GtkTreeIter iter, iter2;
<a name="l00390"></a>00390     GtkTreeSelection *selection ;
<a name="l00391"></a>00391 
<a name="l00392"></a>00392     <span class="keywordflow">if</span> ( !(current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a>()))
<a name="l00393"></a>00393         <span class="keywordflow">return</span>;
<a name="l00394"></a>00394 
<a name="l00395"></a>00395     <span class="keywordflow">if</span> ( gtk_notebook_get_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a>)) != <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> )
<a name="l00396"></a>00396         gtk_notebook_set_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a>),
<a name="l00397"></a>00397                                 <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> );
<a name="l00398"></a>00398 
<a name="l00399"></a>00399     dialog = gtk_dialog_new_with_buttons ( _(<span class="stringliteral">&quot;Report properties&quot;</span>),
<a name="l00400"></a>00400                                            GTK_WINDOW ( <a class="code" href="accueil_8c.html#a3d346c08cf2d67c388caabffb412b293">window</a> ),
<a name="l00401"></a>00401                                            GTK_DIALOG_MODAL,
<a name="l00402"></a>00402                                            GTK_STOCK_CANCEL, GTK_RESPONSE_CANCEL,
<a name="l00403"></a>00403                                            GTK_STOCK_OK, GTK_RESPONSE_OK,
<a name="l00404"></a>00404                                            NULL );
<a name="l00405"></a>00405 
<a name="l00406"></a>00406     gtk_window_set_position ( GTK_WINDOW ( dialog ), GTK_WIN_POS_CENTER_ON_PARENT );
<a name="l00407"></a>00407     gtk_window_set_resizable ( GTK_WINDOW ( dialog ), TRUE );
<a name="l00408"></a>00408 
<a name="l00409"></a>00409     <span class="comment">/* Create model */</span>
<a name="l00410"></a>00410     report_tree_model = gtk_tree_store_new ( <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceabbdb01f94973693c938bd9d6330861d8">REPORT_TREE_NUM_COLUMNS</a>,
<a name="l00411"></a>00411                                              G_TYPE_STRING,
<a name="l00412"></a>00412                                              G_TYPE_INT,
<a name="l00413"></a>00413                                              G_TYPE_INT,
<a name="l00414"></a>00414                                              G_TYPE_INT );
<a name="l00415"></a>00415     <span class="comment">/* Create container + TreeView */</span>
<a name="l00416"></a>00416     sw = gtk_scrolled_window_new (NULL, NULL);
<a name="l00417"></a>00417     gtk_scrolled_window_set_shadow_type (GTK_SCROLLED_WINDOW (sw),
<a name="l00418"></a>00418                                          GTK_SHADOW_IN);
<a name="l00419"></a>00419     gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (sw),
<a name="l00420"></a>00420                                     GTK_POLICY_NEVER,
<a name="l00421"></a>00421                                     GTK_POLICY_AUTOMATIC);
<a name="l00422"></a>00422     report_tree_view = gtk_tree_view_new();
<a name="l00423"></a>00423     gtk_tree_view_set_model (GTK_TREE_VIEW (report_tree_view),
<a name="l00424"></a>00424                              GTK_TREE_MODEL (report_tree_model));
<a name="l00425"></a>00425     g_object_unref (G_OBJECT(report_tree_model));
<a name="l00426"></a>00426 
<a name="l00427"></a>00427     <span class="comment">/* Make column */</span>
<a name="l00428"></a>00428     cell = gtk_cell_renderer_text_new ();
<a name="l00429"></a>00429     column =
<a name="l00430"></a>00430         gtk_tree_view_column_new_with_attributes (<span class="stringliteral">&quot;Categories&quot;</span>,
<a name="l00431"></a>00431                                                   cell,
<a name="l00432"></a>00432                                                   <span class="stringliteral">&quot;text&quot;</span>, <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>,
<a name="l00433"></a>00433                                                   <span class="stringliteral">&quot;weight&quot;</span>, <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>,
<a name="l00434"></a>00434                                                   <span class="stringliteral">&quot;style&quot;</span>, <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea1b94f223d3957170a3c85914fdb0b2ae">REPORT_TREE_ITALIC_COLUMN</a>,
<a name="l00435"></a>00435                                                   NULL);
<a name="l00436"></a>00436     gtk_tree_view_append_column (GTK_TREE_VIEW (report_tree_view),
<a name="l00437"></a>00437                                  GTK_TREE_VIEW_COLUMN (column));
<a name="l00438"></a>00438     gtk_tree_view_set_headers_visible ( GTK_TREE_VIEW (report_tree_view), FALSE );
<a name="l00439"></a>00439 
<a name="l00440"></a>00440     <span class="comment">/* Handle select */</span>
<a name="l00441"></a>00441     selection = gtk_tree_view_get_selection (GTK_TREE_VIEW (report_tree_view));
<a name="l00442"></a>00442     g_signal_connect (selection, <span class="stringliteral">&quot;changed&quot;</span>,
<a name="l00443"></a>00443                       ((GCallback) report_tree_view_selection_changed),
<a name="l00444"></a>00444                       report_tree_model);
<a name="l00445"></a>00445 
<a name="l00446"></a>00446     <span class="comment">/* Choose which entries will be selectable */</span>
<a name="l00447"></a>00447     gtk_tree_selection_set_select_function ( selection, report_tree_selectable_func,
<a name="l00448"></a>00448                                              NULL, NULL );
<a name="l00449"></a>00449 
<a name="l00450"></a>00450     <span class="comment">/* Put the tree in the scroll */</span>
<a name="l00451"></a>00451     gtk_container_add (GTK_CONTAINER (sw), report_tree_view);
<a name="l00452"></a>00452 
<a name="l00453"></a>00453     <span class="comment">/* expand all rows after the treeview widget has been realized */</span>
<a name="l00454"></a>00454     g_signal_connect (report_tree_view, <span class="stringliteral">&quot;realize&quot;</span>,
<a name="l00455"></a>00455                       ((GCallback)gtk_tree_view_expand_all), NULL);
<a name="l00456"></a>00456 
<a name="l00457"></a>00457     paned = gtk_hpaned_new();
<a name="l00458"></a>00458     gtk_box_pack_start ( GTK_BOX ( GTK_DIALOG ( dialog ) -&gt; vbox ), paned,
<a name="l00459"></a>00459                          TRUE, TRUE, 0 );
<a name="l00460"></a>00460     gtk_box_set_spacing ( GTK_BOX ( GTK_DIALOG ( dialog ) -&gt; vbox ), 6 );
<a name="l00461"></a>00461     gtk_container_set_border_width ( GTK_CONTAINER ( paned ), 0 );
<a name="l00462"></a>00462 
<a name="l00463"></a>00463     gtk_paned_add1(GTK_PANED(paned), sw);
<a name="l00464"></a>00464 
<a name="l00465"></a>00465     <span class="comment">/* on commence par créer le notebook parent de la config des états */</span>
<a name="l00466"></a>00466     <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> = gtk_notebook_new ();
<a name="l00467"></a>00467     gtk_paned_add2(GTK_PANED(paned), <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> );
<a name="l00468"></a>00468 
<a name="l00469"></a>00469     gtk_notebook_set_show_tabs ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00470"></a>00470                                  FALSE );
<a name="l00471"></a>00471     gtk_notebook_set_show_border ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00472"></a>00472                                    FALSE );
<a name="l00473"></a>00473     gtk_container_set_border_width ( GTK_CONTAINER ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ), 0 );
<a name="l00474"></a>00474 
<a name="l00475"></a>00475     <span class="comment">/* on ajoute les onglets dans l&#39;onglet de base correspondant */</span>
<a name="l00476"></a>00476 
<a name="l00477"></a>00477     <span class="comment">/* remplissage de l&#39;onglet de sélection */</span>
<a name="l00478"></a>00478 
<a name="l00479"></a>00479 
<a name="l00480"></a>00480     <span class="comment">/* Display subtree */</span>
<a name="l00481"></a>00481     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter, NULL);
<a name="l00482"></a>00482     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter,
<a name="l00483"></a>00483                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Data selection&quot;</span>),
<a name="l00484"></a>00484                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, -1,
<a name="l00485"></a>00485                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 800,
<a name="l00486"></a>00486                         -1);
<a name="l00487"></a>00487 
<a name="l00488"></a>00488     gtk_notebook_append_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00489"></a>00489                                onglet_etat_dates (),
<a name="l00490"></a>00490                                gtk_label_new (<a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Dates&quot;</span>))) );
<a name="l00491"></a>00491     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter2, &amp;iter);
<a name="l00492"></a>00492     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter2,
<a name="l00493"></a>00493                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Dates&quot;</span>),
<a name="l00494"></a>00494                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, page++,
<a name="l00495"></a>00495                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 400, -1);
<a name="l00496"></a>00496 
<a name="l00497"></a>00497     gtk_notebook_append_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00498"></a>00498                                onglet_etat_virements (),
<a name="l00499"></a>00499                                gtk_label_new (<a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Transfers&quot;</span>))) );
<a name="l00500"></a>00500     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter2, &amp;iter);
<a name="l00501"></a>00501     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter2,
<a name="l00502"></a>00502                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Transfers&quot;</span>),
<a name="l00503"></a>00503                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, page++,
<a name="l00504"></a>00504                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 400, -1);
<a name="l00505"></a>00505 
<a name="l00506"></a>00506     gtk_notebook_append_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00507"></a>00507                                onglet_etat_comptes (),
<a name="l00508"></a>00508                                gtk_label_new (<a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Accounts&quot;</span>))) );
<a name="l00509"></a>00509     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter2, &amp;iter);
<a name="l00510"></a>00510     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter2,
<a name="l00511"></a>00511                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Accounts&quot;</span>),
<a name="l00512"></a>00512                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, page++,
<a name="l00513"></a>00513                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 400, -1);
<a name="l00514"></a>00514 
<a name="l00515"></a>00515     gtk_notebook_append_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00516"></a>00516                                onglet_etat_tiers (),
<a name="l00517"></a>00517                                gtk_label_new (<a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Payee&quot;</span>))) );
<a name="l00518"></a>00518     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter2, &amp;iter);
<a name="l00519"></a>00519     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter2,
<a name="l00520"></a>00520                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Payee&quot;</span>),
<a name="l00521"></a>00521                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, page++,
<a name="l00522"></a>00522                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 400, -1);
<a name="l00523"></a>00523 
<a name="l00524"></a>00524     gtk_notebook_append_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00525"></a>00525                                onglet_etat_categories (),
<a name="l00526"></a>00526                                gtk_label_new (<a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Categories&quot;</span>))) );
<a name="l00527"></a>00527     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter2, &amp;iter);
<a name="l00528"></a>00528     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter2,
<a name="l00529"></a>00529                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Categories&quot;</span>),
<a name="l00530"></a>00530                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, page++,
<a name="l00531"></a>00531                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 400, -1);
<a name="l00532"></a>00532 
<a name="l00533"></a>00533     gtk_notebook_append_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00534"></a>00534                                onglet_etat_ib (),
<a name="l00535"></a>00535                                gtk_label_new (<a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Budgetary lines&quot;</span>))) );
<a name="l00536"></a>00536     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter2, &amp;iter);
<a name="l00537"></a>00537     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter2,
<a name="l00538"></a>00538                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Budgetary lines&quot;</span>),
<a name="l00539"></a>00539                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, page++,
<a name="l00540"></a>00540                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 400, -1);
<a name="l00541"></a>00541 
<a name="l00542"></a>00542     gtk_notebook_append_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00543"></a>00543                                onglet_etat_texte (),
<a name="l00544"></a>00544                                gtk_label_new (<a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Texts&quot;</span>))) );
<a name="l00545"></a>00545     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter2, &amp;iter);
<a name="l00546"></a>00546     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter2,
<a name="l00547"></a>00547                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Texts&quot;</span>),
<a name="l00548"></a>00548                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, page++,
<a name="l00549"></a>00549                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 400, -1);
<a name="l00550"></a>00550 
<a name="l00551"></a>00551     gtk_notebook_append_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00552"></a>00552                                onglet_etat_montant (),
<a name="l00553"></a>00553                                gtk_label_new (<a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Amounts&quot;</span>))) );
<a name="l00554"></a>00554     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter2, &amp;iter);
<a name="l00555"></a>00555     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter2,
<a name="l00556"></a>00556                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Amounts&quot;</span>),
<a name="l00557"></a>00557                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, page++,
<a name="l00558"></a>00558                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 400, -1);
<a name="l00559"></a>00559 
<a name="l00560"></a>00560     gtk_notebook_append_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00561"></a>00561                                onglet_etat_mode_paiement (),
<a name="l00562"></a>00562                                gtk_label_new (<a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Payment methods&quot;</span>))) );
<a name="l00563"></a>00563     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter2, &amp;iter);
<a name="l00564"></a>00564     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter2,
<a name="l00565"></a>00565                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Payment methods&quot;</span>),
<a name="l00566"></a>00566                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, page++,
<a name="l00567"></a>00567                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 400, -1);
<a name="l00568"></a>00568 
<a name="l00569"></a>00569     gtk_notebook_append_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00570"></a>00570                                onglet_etat_divers (),
<a name="l00571"></a>00571                                gtk_label_new (<a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Misc.&quot;</span>))) );
<a name="l00572"></a>00572     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter2, &amp;iter);
<a name="l00573"></a>00573     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter2,
<a name="l00574"></a>00574                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Miscellaneous&quot;</span>),
<a name="l00575"></a>00575                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, page++,
<a name="l00576"></a>00576                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 400, -1);
<a name="l00577"></a>00577 
<a name="l00578"></a>00578 
<a name="l00579"></a>00579     <span class="comment">/* remplissage de l&#39;onglet d&#39;organisation */</span>
<a name="l00580"></a>00580     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter, NULL);
<a name="l00581"></a>00581     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter,
<a name="l00582"></a>00582                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Data organization&quot;</span>),
<a name="l00583"></a>00583                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, -1,
<a name="l00584"></a>00584                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 800, -1);
<a name="l00585"></a>00585 
<a name="l00586"></a>00586     <span class="comment">/* Data grouping */</span>
<a name="l00587"></a>00587     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter2, &amp;iter );
<a name="l00588"></a>00588     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter2,
<a name="l00589"></a>00589                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Data grouping&quot;</span>),
<a name="l00590"></a>00590                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, page++,
<a name="l00591"></a>00591                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 400, -1);
<a name="l00592"></a>00592     gtk_notebook_append_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00593"></a>00593                                page_data_grouping(),
<a name="l00594"></a>00594                                gtk_label_new (<a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Data grouping&quot;</span>))) );
<a name="l00595"></a>00595 
<a name="l00596"></a>00596     <span class="comment">/* Data separation */</span>
<a name="l00597"></a>00597     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter2, &amp;iter);
<a name="l00598"></a>00598     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter2,
<a name="l00599"></a>00599                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Data separation&quot;</span>),
<a name="l00600"></a>00600                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, page++,
<a name="l00601"></a>00601                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 400, -1);
<a name="l00602"></a>00602     gtk_notebook_append_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00603"></a>00603                                page_data_separation(),
<a name="l00604"></a>00604                                gtk_label_new (<a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Data separation&quot;</span>))) );
<a name="l00605"></a>00605 
<a name="l00606"></a>00606     <span class="comment">/* remplissage de l&#39;onglet d&#39;affichage */</span>
<a name="l00607"></a>00607     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter, NULL);
<a name="l00608"></a>00608     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter,
<a name="l00609"></a>00609                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Data display&quot;</span>),
<a name="l00610"></a>00610                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, -1,
<a name="l00611"></a>00611                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 800, -1);
<a name="l00612"></a>00612 
<a name="l00613"></a>00613     gtk_notebook_append_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00614"></a>00614                                onglet_affichage_etat_generalites (),
<a name="l00615"></a>00615                                gtk_label_new (<a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Generalities&quot;</span>))) );
<a name="l00616"></a>00616     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter2, &amp;iter);
<a name="l00617"></a>00617     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter2,
<a name="l00618"></a>00618                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Generalities&quot;</span>),
<a name="l00619"></a>00619                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, page++,
<a name="l00620"></a>00620                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 400, -1);
<a name="l00621"></a>00621 
<a name="l00622"></a>00622     gtk_notebook_append_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00623"></a>00623                                onglet_affichage_etat_divers (),
<a name="l00624"></a>00624                                gtk_label_new (<a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Titles&quot;</span>))) );
<a name="l00625"></a>00625     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter2, &amp;iter);
<a name="l00626"></a>00626     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter2,
<a name="l00627"></a>00627                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Titles&quot;</span>),
<a name="l00628"></a>00628                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, page++,
<a name="l00629"></a>00629                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 400, -1);
<a name="l00630"></a>00630 
<a name="l00631"></a>00631     gtk_notebook_append_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00632"></a>00632                                onglet_affichage_etat_operations (),
<a name="l00633"></a>00633                                gtk_label_new (<a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Transactions&quot;</span>))) );
<a name="l00634"></a>00634     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter2, &amp;iter);
<a name="l00635"></a>00635     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter2,
<a name="l00636"></a>00636                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Transactions&quot;</span>),
<a name="l00637"></a>00637                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, page++,
<a name="l00638"></a>00638                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 400, -1);
<a name="l00639"></a>00639 
<a name="l00640"></a>00640     gtk_notebook_append_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ),
<a name="l00641"></a>00641                                onglet_affichage_etat_devises (),
<a name="l00642"></a>00642                                gtk_label_new (<a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Currencies&quot;</span>))) );
<a name="l00643"></a>00643     gtk_tree_store_append (GTK_TREE_STORE (report_tree_model), &amp;iter2, &amp;iter);
<a name="l00644"></a>00644     gtk_tree_store_set (GTK_TREE_STORE (report_tree_model), &amp;iter2,
<a name="l00645"></a>00645                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cead37d222744c15bf2e7154badb6f7bee8">REPORT_TREE_TEXT_COLUMN</a>, _(<span class="stringliteral">&quot;Currencies&quot;</span>),
<a name="l00646"></a>00646                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, page++,
<a name="l00647"></a>00647                         <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5ceae64b897735ac1a145e9adcbd984177c2">REPORT_TREE_BOLD_COLUMN</a>, 400, -1);
<a name="l00648"></a>00648 
<a name="l00649"></a>00649 
<a name="l00650"></a>00650     <span class="comment">/* on va maintenant remplir toutes les infos de l&#39;état */</span>
<a name="l00651"></a>00651 
<a name="l00652"></a>00652     <span class="comment">/* onglet généralités */</span>
<a name="l00653"></a>00653 
<a name="l00654"></a>00654     <span class="comment">/* on met le name de l&#39;état */</span>
<a name="l00655"></a>00655     gtk_entry_set_text ( GTK_ENTRY ( entree_nom_etat ),
<a name="l00656"></a>00656                          <a class="code" href="gsb__data__report_8c.html#ace8a87d303afdf89ef8f3a901987db83">gsb_data_report_get_report_name</a> (current_report_number) );
<a name="l00657"></a>00657 
<a name="l00658"></a>00658     <span class="comment">/* on remplit le ctree en fonction du classement courant */</span>
<a name="l00659"></a>00659 
<a name="l00660"></a>00660     list_tmp = <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (current_report_number);
<a name="l00661"></a>00661     parent = NULL;
<a name="l00662"></a>00662     gtk_clist_clear ( GTK_CLIST ( liste_type_classement_etat ));
<a name="l00663"></a>00663 
<a name="l00664"></a>00664     <span class="keywordflow">while</span> ( list_tmp )
<a name="l00665"></a>00665     {
<a name="l00666"></a>00666         gchar *text[1];
<a name="l00667"></a>00667 
<a name="l00668"></a>00668         text[0] = NULL;
<a name="l00669"></a>00669 
<a name="l00670"></a>00670         <span class="keywordflow">switch</span> ( GPOINTER_TO_INT ( list_tmp -&gt; data ))
<a name="l00671"></a>00671         {
<a name="l00672"></a>00672             <span class="keywordflow">case</span> 1:
<a name="l00673"></a>00673                 text[0] = _(<span class="stringliteral">&quot;Category&quot;</span>);
<a name="l00674"></a>00674                 <span class="keywordflow">break</span>;
<a name="l00675"></a>00675 
<a name="l00676"></a>00676             <span class="keywordflow">case</span> 3:
<a name="l00677"></a>00677                 text[0] = _(<span class="stringliteral">&quot;Budgetary line&quot;</span>);
<a name="l00678"></a>00678                 <span class="keywordflow">break</span>;
<a name="l00679"></a>00679 
<a name="l00680"></a>00680             <span class="keywordflow">case</span> 5:
<a name="l00681"></a>00681                 text[0] = _(<span class="stringliteral">&quot;Account&quot;</span>);
<a name="l00682"></a>00682                 <span class="keywordflow">break</span>;
<a name="l00683"></a>00683 
<a name="l00684"></a>00684             <span class="keywordflow">case</span> 6:
<a name="l00685"></a>00685                 text[0] = _(<span class="stringliteral">&quot;Payee&quot;</span>);
<a name="l00686"></a>00686                 <span class="keywordflow">break</span>;
<a name="l00687"></a>00687 
<a name="l00688"></a>00688         }
<a name="l00689"></a>00689 
<a name="l00690"></a>00690         <span class="keywordflow">if</span> ( text[0] )
<a name="l00691"></a>00691         {
<a name="l00692"></a>00692             parent = gtk_ctree_insert_node ( GTK_CTREE ( liste_type_classement_etat ),
<a name="l00693"></a>00693                                              parent,
<a name="l00694"></a>00694                                              NULL,
<a name="l00695"></a>00695                                              text,
<a name="l00696"></a>00696                                              5,
<a name="l00697"></a>00697                                              NULL,
<a name="l00698"></a>00698                                              NULL,
<a name="l00699"></a>00699                                              NULL,
<a name="l00700"></a>00700                                              NULL,
<a name="l00701"></a>00701                                              FALSE,
<a name="l00702"></a>00702                                              TRUE );
<a name="l00703"></a>00703             gtk_ctree_node_set_row_data ( GTK_CTREE ( liste_type_classement_etat ),
<a name="l00704"></a>00704                                           GTK_CTREE_NODE ( parent ),
<a name="l00705"></a>00705                                           list_tmp -&gt; data );
<a name="l00706"></a>00706         }
<a name="l00707"></a>00707 
<a name="l00708"></a>00708         list_tmp = list_tmp -&gt; next;
<a name="l00709"></a>00709     }
<a name="l00710"></a>00710 
<a name="l00711"></a>00711     gtk_clist_select_row ( GTK_CLIST ( liste_type_classement_etat ),
<a name="l00712"></a>00712                            0,
<a name="l00713"></a>00713                            0 );
<a name="l00714"></a>00714 
<a name="l00715"></a>00715     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#af0c735cb4932dfd39c1bac8b709aac41">gsb_data_report_get_show_r</a> (current_report_number))
<a name="l00716"></a>00716     {
<a name="l00717"></a>00717         <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#af0c735cb4932dfd39c1bac8b709aac41">gsb_data_report_get_show_r</a> (current_report_number) == 1 )
<a name="l00718"></a>00718             gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_opes_non_r_etat ),
<a name="l00719"></a>00719                                            TRUE );
<a name="l00720"></a>00720         <span class="keywordflow">else</span>
<a name="l00721"></a>00721             <span class="keywordflow">if</span> (<a class="code" href="gsb__data__report_8c.html#af0c735cb4932dfd39c1bac8b709aac41">gsb_data_report_get_show_r</a> (current_report_number))
<a name="l00722"></a>00722                 gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_opes_r_etat ),
<a name="l00723"></a>00723                                                TRUE );
<a name="l00724"></a>00724     }
<a name="l00725"></a>00725     <span class="keywordflow">else</span>
<a name="l00726"></a>00726         gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_opes_r_et_non_r_etat ),
<a name="l00727"></a>00727                                        TRUE );
<a name="l00728"></a>00728 
<a name="l00729"></a>00729     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_opes ),
<a name="l00730"></a>00730                                    <a class="code" href="gsb__data__report_8c.html#a60ef2fcdc574a669ba7a14975ba532fa">gsb_data_report_get_show_report_transactions</a> (current_report_number));
<a name="l00731"></a>00731     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_nb_opes ),
<a name="l00732"></a>00732                                    <a class="code" href="gsb__data__report_8c.html#a321cacb63f18e3aec2beca8b1939078f">gsb_data_report_get_show_report_transaction_amount</a> (current_report_number));
<a name="l00733"></a>00733 
<a name="l00734"></a>00734     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_no_ope ),
<a name="l00735"></a>00735                                    <a class="code" href="gsb__data__report_8c.html#a1aaaf5b7a5cc6f02509c108607b21714">gsb_data_report_get_show_report_transaction_number</a> (current_report_number));
<a name="l00736"></a>00736     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_date_opes ),
<a name="l00737"></a>00737                                    <a class="code" href="gsb__data__report_8c.html#aed1abedff7cfc02a95dcaf2d22edb14c">gsb_data_report_get_show_report_date</a> (current_report_number));
<a name="l00738"></a>00738     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_value_date_opes ),
<a name="l00739"></a>00739                                    <a class="code" href="gsb__data__report_8c.html#ae74ac68a4250f92c23047231fd86e183">gsb_data_report_get_show_report_value_date</a> (current_report_number));
<a name="l00740"></a>00740     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_tiers_opes ),
<a name="l00741"></a>00741                                    <a class="code" href="gsb__data__report_8c.html#a4c1ff27e8311c12f34ec351fb4ece8c1">gsb_data_report_get_show_report_payee</a> (current_report_number));
<a name="l00742"></a>00742     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_categ_opes ),
<a name="l00743"></a>00743                                    <a class="code" href="gsb__data__report_8c.html#aa89d2ab64f4f6b8646abe25855047517">gsb_data_report_get_show_report_category</a> (current_report_number));
<a name="l00744"></a>00744     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_sous_categ_opes ),
<a name="l00745"></a>00745                                    <a class="code" href="gsb__data__report_8c.html#ad1fcc27701930ed8407141e2229fc84b">gsb_data_report_get_show_report_sub_category</a> (current_report_number));
<a name="l00746"></a>00746     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_type_ope ),
<a name="l00747"></a>00747                                    <a class="code" href="gsb__data__report_8c.html#ad8c2e7e73636943574c5fbdca0504623">gsb_data_report_get_show_report_method_of_payment</a> (current_report_number));
<a name="l00748"></a>00748     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_ib_opes ),
<a name="l00749"></a>00749                                    <a class="code" href="gsb__data__report_8c.html#ae0d188ce272dba7a32193cd3b0def51a">gsb_data_report_get_show_report_budget</a> (current_report_number));
<a name="l00750"></a>00750     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_sous_ib_opes ),
<a name="l00751"></a>00751                                    <a class="code" href="gsb__data__report_8c.html#a286e3676a77392b04bb3d95301d1e31a">gsb_data_report_get_show_report_sub_budget</a> (current_report_number));
<a name="l00752"></a>00752     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_no_cheque ),
<a name="l00753"></a>00753                                    <a class="code" href="gsb__data__report_8c.html#a04806d05098cdb8e2d62ed4fc08b6758">gsb_data_report_get_show_report_method_of_payment_content</a> (current_report_number));
<a name="l00754"></a>00754     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_notes_opes ),
<a name="l00755"></a>00755                                    <a class="code" href="gsb__data__report_8c.html#a68663f18a0398ffded17aa69413cac65">gsb_data_report_get_show_report_note</a> (current_report_number));
<a name="l00756"></a>00756     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_pc_opes ),
<a name="l00757"></a>00757                                    <a class="code" href="gsb__data__report_8c.html#aace6b2c39c7cf9c260300071a9e79c8b">gsb_data_report_get_show_report_voucher</a> (current_report_number));
<a name="l00758"></a>00758     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_no_rappr ),
<a name="l00759"></a>00759                                    <a class="code" href="gsb__data__report_8c.html#a73804ddf13bb7adef8f0280f796029df">gsb_data_report_get_show_report_marked</a> (current_report_number));
<a name="l00760"></a>00760     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_infobd_opes ),
<a name="l00761"></a>00761                                    <a class="code" href="gsb__data__report_8c.html#ad9ba2ec81d468b2897d7602159076a18">gsb_data_report_get_show_report_bank_references</a> (current_report_number));
<a name="l00762"></a>00762     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_pas_detailler_ventilation ),
<a name="l00763"></a>00763                                    <a class="code" href="gsb__data__report_8c.html#a8fadaed4b6bb256487ab1d3a96f1d810">gsb_data_report_get_not_detail_split</a> (current_report_number));
<a name="l00764"></a>00764     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_separer_revenus_depenses ),
<a name="l00765"></a>00765                                    <a class="code" href="gsb__data__report_8c.html#a89c0ba1f36ce26a92b596f677ed040ea">gsb_data_report_get_split_credit_debit</a> (current_report_number));
<a name="l00766"></a>00766     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_exo_opes ),
<a name="l00767"></a>00767                                    <a class="code" href="gsb__data__report_8c.html#aaa96b52e90b04814a016c44bc68f05af">gsb_data_report_get_show_report_financial_year</a> (current_report_number));
<a name="l00768"></a>00768     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_titres_colonnes ),
<a name="l00769"></a>00769                                    <a class="code" href="gsb__data__report_8c.html#a342b5f849aa7502164adca331cc01e70">gsb_data_report_get_column_title_show</a> (current_report_number));
<a name="l00770"></a>00770 
<a name="l00771"></a>00771     gtk_option_menu_set_history ( GTK_OPTION_MENU ( bouton_choix_classement_ope_etat ),
<a name="l00772"></a>00772                                   <a class="code" href="gsb__data__report_8c.html#a819b84a6821b23316bbb49770677a2fd">gsb_data_report_get_sorting_report</a> (current_report_number));
<a name="l00773"></a>00773 
<a name="l00774"></a>00774     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_rendre_ope_clickables ),
<a name="l00775"></a>00775                                    <a class="code" href="gsb__data__report_8c.html#ac5a36bf3cb9623e0c53a4e7a0d1f6633">gsb_data_report_get_report_can_click</a> (current_report_number));
<a name="l00776"></a>00776 
<a name="l00777"></a>00777     <span class="keywordflow">if</span> ( !<a class="code" href="gsb__data__report_8c.html#a754246c573f2bada728cb53c8b8e64d2">gsb_data_report_get_column_title_type</a> (current_report_number))
<a name="l00778"></a>00778         gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_titre_en_haut ),
<a name="l00779"></a>00779                                        TRUE );
<a name="l00780"></a>00780     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_inclure_dans_tiers ),
<a name="l00781"></a>00781                                    <a class="code" href="gsb__data__report_8c.html#afc1cb357b4bcd3737c5f3e629e85c2d3">gsb_data_report_get_append_in_payee</a> (current_report_number));
<a name="l00782"></a>00782 
<a name="l00783"></a>00783     <span class="comment">/* on rend insensitif les sous qque choses si nécessaire */</span>
<a name="l00784"></a>00784     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_afficher_opes,
<a name="l00785"></a>00785                                 vbox_show_transactions );
<a name="l00786"></a>00786     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_afficher_categ_opes,
<a name="l00787"></a>00787                                 bouton_afficher_sous_categ_opes );
<a name="l00788"></a>00788     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_afficher_ib_opes,
<a name="l00789"></a>00789                                 bouton_afficher_sous_ib_opes );
<a name="l00790"></a>00790     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_afficher_titres_colonnes,
<a name="l00791"></a>00791                                 bouton_titre_changement );
<a name="l00792"></a>00792     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_afficher_titres_colonnes,
<a name="l00793"></a>00793                                 bouton_titre_en_haut );
<a name="l00794"></a>00794 
<a name="l00795"></a>00795     <span class="comment">/* mise en forme de la devise */</span>
<a name="l00796"></a>00796     <a class="code" href="gsb__currency_8c.html#a8774e282bad3c3101b161fd54bcb660a">gsb_currency_set_combobox_history</a> ( bouton_devise_general_etat,
<a name="l00797"></a>00797                                         <a class="code" href="gsb__data__report_8c.html#a612672a2c6a8f7a8d88eab53bbd675ea">gsb_data_report_get_currency_general</a> (current_report_number));
<a name="l00798"></a>00798 
<a name="l00799"></a>00799     <span class="comment">/* onglet dates */</span>
<a name="l00800"></a>00800 
<a name="l00801"></a>00801 
<a name="l00802"></a>00802     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#a333c4b8854b3251bcaed0af381f6c9f0">gsb_data_report_get_use_financial_year</a> (current_report_number))
<a name="l00803"></a>00803     {
<a name="l00804"></a>00804         gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( radio_button_utilise_exo ),
<a name="l00805"></a>00805                                        TRUE );
<a name="l00806"></a>00806         gtk_widget_set_sensitive ( vbox_utilisation_date,
<a name="l00807"></a>00807                                    FALSE );
<a name="l00808"></a>00808     }
<a name="l00809"></a>00809     <span class="keywordflow">else</span>
<a name="l00810"></a>00810         gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( radio_button_utilise_dates ),
<a name="l00811"></a>00811                                        TRUE );
<a name="l00812"></a>00812 
<a name="l00813"></a>00813     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( radio_button_utilise_exo,
<a name="l00814"></a>00814                                 bouton_separe_exo_etat );
<a name="l00815"></a>00815 
<a name="l00816"></a>00816     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#a7a1b2e1c08c6f27b78e33cc36b812b09">gsb_data_report_get_financial_year_type</a> (current_report_number) == 3 )
<a name="l00817"></a>00817         gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_detaille_exo_etat ),
<a name="l00818"></a>00818                                        TRUE );
<a name="l00819"></a>00819     <span class="keywordflow">else</span>
<a name="l00820"></a>00820     {
<a name="l00821"></a>00821         gtk_widget_set_sensitive ( vbox_generale_exo_etat,
<a name="l00822"></a>00822                                    FALSE );
<a name="l00823"></a>00823 
<a name="l00824"></a>00824         <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#a7a1b2e1c08c6f27b78e33cc36b812b09">gsb_data_report_get_financial_year_type</a> (current_report_number))
<a name="l00825"></a>00825         {
<a name="l00826"></a>00826             <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#a7a1b2e1c08c6f27b78e33cc36b812b09">gsb_data_report_get_financial_year_type</a> (current_report_number) == 1 )
<a name="l00827"></a>00827                 gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_exo_courant ),
<a name="l00828"></a>00828                                                TRUE );
<a name="l00829"></a>00829             <span class="keywordflow">else</span>
<a name="l00830"></a>00830                 gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_exo_precedent ),
<a name="l00831"></a>00831                                                TRUE );
<a name="l00832"></a>00832         }
<a name="l00833"></a>00833         <span class="keywordflow">else</span>
<a name="l00834"></a>00834             gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_exo_tous ),
<a name="l00835"></a>00835                                            TRUE );
<a name="l00836"></a>00836     }
<a name="l00837"></a>00837 
<a name="l00838"></a>00838 
<a name="l00839"></a>00839     <span class="comment">/* on sélectionne les exercices */</span>
<a name="l00840"></a>00840 
<a name="l00841"></a>00841     selectionne_liste_exo_etat_courant ();
<a name="l00842"></a>00842 
<a name="l00843"></a>00843     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_separe_exo_etat ),
<a name="l00844"></a>00844                                    <a class="code" href="gsb__data__report_8c.html#a996aadce24ac64e6632f9984a358b8bc">gsb_data_report_get_financial_year_split</a> (current_report_number));
<a name="l00845"></a>00845 
<a name="l00846"></a>00846     <span class="comment">/* on sélectionne la plage de date */</span>
<a name="l00847"></a>00847 
<a name="l00848"></a>00848     gtk_clist_select_row ( GTK_CLIST ( liste_plages_dates_etat ),
<a name="l00849"></a>00849                            <a class="code" href="gsb__data__report_8c.html#af7a006077d16fc48a7b50dda1bc1a003">gsb_data_report_get_date_type</a> (current_report_number),
<a name="l00850"></a>00850                            0 );
<a name="l00851"></a>00851 
<a name="l00852"></a>00852     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#af7a006077d16fc48a7b50dda1bc1a003">gsb_data_report_get_date_type</a> (current_report_number) != 1 )
<a name="l00853"></a>00853     {
<a name="l00854"></a>00854         gtk_widget_set_sensitive ( entree_date_init_etat,
<a name="l00855"></a>00855                                    FALSE );
<a name="l00856"></a>00856         gtk_widget_set_sensitive ( entree_date_finale_etat,
<a name="l00857"></a>00857                                    FALSE );
<a name="l00858"></a>00858     }
<a name="l00859"></a>00859     <span class="keywordflow">else</span>
<a name="l00860"></a>00860     {
<a name="l00861"></a>00861         gtk_widget_set_sensitive ( entree_date_init_etat,
<a name="l00862"></a>00862                                    TRUE );
<a name="l00863"></a>00863         gtk_widget_set_sensitive ( entree_date_finale_etat,
<a name="l00864"></a>00864                                    TRUE );
<a name="l00865"></a>00865     }
<a name="l00866"></a>00866 
<a name="l00867"></a>00867     <span class="comment">/* on remplit les dates perso si elles existent */</span>
<a name="l00868"></a>00868 
<a name="l00869"></a>00869     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#af91c5f48c615e21c7b46de6410743888">gsb_data_report_get_personal_date_start</a> (current_report_number))
<a name="l00870"></a>00870         <a class="code" href="gsb__calendar__entry_8c.html#af96bec76fa28a05a4ea3355cccb68b96">gsb_calendar_entry_set_date</a> ( entree_date_init_etat,
<a name="l00871"></a>00871                                       <a class="code" href="gsb__data__report_8c.html#af91c5f48c615e21c7b46de6410743888">gsb_data_report_get_personal_date_start</a> (current_report_number));
<a name="l00872"></a>00872 
<a name="l00873"></a>00873     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#a3a534591a126c244500d4fb6e2e114bb">gsb_data_report_get_personal_date_end</a> (current_report_number))
<a name="l00874"></a>00874         <a class="code" href="gsb__calendar__entry_8c.html#af96bec76fa28a05a4ea3355cccb68b96">gsb_calendar_entry_set_date</a> ( entree_date_finale_etat,
<a name="l00875"></a>00875                                       <a class="code" href="gsb__data__report_8c.html#a3a534591a126c244500d4fb6e2e114bb">gsb_data_report_get_personal_date_end</a> (current_report_number));
<a name="l00876"></a>00876 
<a name="l00877"></a>00877     <span class="comment">/* on remplit les détails de la séparation des dates */</span>
<a name="l00878"></a>00878     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#ae6b88858361f9e177a6be4372786a98e">gsb_data_report_get_period_split</a> (current_report_number))
<a name="l00879"></a>00879     {
<a name="l00880"></a>00880         gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_separe_plages_etat ),
<a name="l00881"></a>00881                                        TRUE );
<a name="l00882"></a>00882         <span class="keywordflow">if</span> (gtk_option_menu_get_history ( GTK_OPTION_MENU ( bouton_type_separe_plages_etat )) == 1)
<a name="l00883"></a>00883         gtk_widget_set_sensitive ( bouton_debut_semaine,
<a name="l00884"></a>00884                                    TRUE );
<a name="l00885"></a>00885     <span class="keywordflow">else</span>
<a name="l00886"></a>00886         gtk_widget_set_sensitive ( bouton_debut_semaine,
<a name="l00887"></a>00887                                    FALSE );
<a name="l00888"></a>00888     }
<a name="l00889"></a>00889     <span class="keywordflow">else</span>
<a name="l00890"></a>00890     {
<a name="l00891"></a>00891         gtk_widget_set_sensitive ( bouton_type_separe_plages_etat,
<a name="l00892"></a>00892                                    FALSE );
<a name="l00893"></a>00893         gtk_widget_set_sensitive ( bouton_debut_semaine,
<a name="l00894"></a>00894                                    FALSE );
<a name="l00895"></a>00895     }
<a name="l00896"></a>00896 
<a name="l00897"></a>00897     gtk_option_menu_set_history ( GTK_OPTION_MENU ( bouton_type_separe_plages_etat ),
<a name="l00898"></a>00898                                   <a class="code" href="gsb__data__report_8c.html#ab62bea16821cbdf1770049a1f2a957dd">gsb_data_report_get_period_split_type</a> (current_report_number));
<a name="l00899"></a>00899     gtk_option_menu_set_history ( GTK_OPTION_MENU ( bouton_debut_semaine ),
<a name="l00900"></a>00900                                   <a class="code" href="gsb__data__report_8c.html#ade2bfa0985adb8d198819ed4017fbf69">gsb_data_report_get_period_split_day</a> (current_report_number));
<a name="l00901"></a>00901 
<a name="l00902"></a>00902     <span class="comment">/* onglet comptes */</span>
<a name="l00903"></a>00903 
<a name="l00904"></a>00904     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_detaille_comptes_etat ),
<a name="l00905"></a>00905                                    <a class="code" href="gsb__data__report_8c.html#a8795e1ce126fb9646150f81dc88bec5e">gsb_data_report_get_account_use_chosen</a> (current_report_number));
<a name="l00906"></a>00906 
<a name="l00907"></a>00907     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_detaille_comptes_etat,
<a name="l00908"></a>00908                                 vbox_generale_comptes_etat );
<a name="l00909"></a>00909 
<a name="l00910"></a>00910 
<a name="l00911"></a>00911     selectionne_liste_comptes_etat_courant ();
<a name="l00912"></a>00912 
<a name="l00913"></a>00913     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_regroupe_ope_compte_etat ),
<a name="l00914"></a>00914                                    <a class="code" href="gsb__data__report_8c.html#a42a9f65da4a9151a990da2d4a65cc226">gsb_data_report_get_account_group_reports</a> (current_report_number));
<a name="l00915"></a>00915     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_affiche_sous_total_compte ),
<a name="l00916"></a>00916                                    <a class="code" href="gsb__data__report_8c.html#a9c5625a1a402793ea655690e1a3574a1">gsb_data_report_get_account_show_amount</a> (current_report_number));
<a name="l00917"></a>00917 
<a name="l00918"></a>00918     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_regroupe_ope_compte_etat,
<a name="l00919"></a>00919                                 bouton_affiche_sous_total_compte );
<a name="l00920"></a>00920 
<a name="l00921"></a>00921     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_noms_comptes ),
<a name="l00922"></a>00922                                    <a class="code" href="gsb__data__report_8c.html#a6dc235068d7d26ab61b2093f601c7d47">gsb_data_report_get_account_show_name</a> (current_report_number));
<a name="l00923"></a>00923 
<a name="l00924"></a>00924 
<a name="l00925"></a>00925     <span class="comment">/* onglet virements */</span>
<a name="l00926"></a>00926 
<a name="l00927"></a>00927 
<a name="l00928"></a>00928     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#ac06e2bf2147480c80e6b718b9a4684c8">gsb_data_report_get_transfer_choice</a> (current_report_number))
<a name="l00929"></a>00929     {
<a name="l00930"></a>00930         <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#ac06e2bf2147480c80e6b718b9a4684c8">gsb_data_report_get_transfer_choice</a> (current_report_number)== 1 )
<a name="l00931"></a>00931             gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_inclusion_virements_actifs_etat ),
<a name="l00932"></a>00932                                            TRUE );
<a name="l00933"></a>00933         <span class="keywordflow">else</span>
<a name="l00934"></a>00934         {
<a name="l00935"></a>00935             <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#ac06e2bf2147480c80e6b718b9a4684c8">gsb_data_report_get_transfer_choice</a> (current_report_number)== 2 )
<a name="l00936"></a>00936                 gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_inclusion_virements_hors_etat ),
<a name="l00937"></a>00937                                                TRUE );
<a name="l00938"></a>00938             <span class="keywordflow">else</span>
<a name="l00939"></a>00939                 gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_inclusion_virements_perso ),
<a name="l00940"></a>00940                                                TRUE );
<a name="l00941"></a>00941         }
<a name="l00942"></a>00942     }
<a name="l00943"></a>00943     <span class="keywordflow">else</span>
<a name="l00944"></a>00944     {
<a name="l00945"></a>00945         gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_non_inclusion_virements ),
<a name="l00946"></a>00946                                        TRUE );
<a name="l00947"></a>00947         gtk_widget_set_sensitive ( bouton_exclure_non_virements_etat,
<a name="l00948"></a>00948                                    FALSE );
<a name="l00949"></a>00949     }
<a name="l00950"></a>00950 
<a name="l00951"></a>00951     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_inclusion_virements_perso,
<a name="l00952"></a>00952                                 hbox_liste_comptes_virements );
<a name="l00953"></a>00953 
<a name="l00954"></a>00954     selectionne_liste_virements_etat_courant ();
<a name="l00955"></a>00955 
<a name="l00956"></a>00956     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_exclure_non_virements_etat ),
<a name="l00957"></a>00957                                    <a class="code" href="gsb__data__report_8c.html#a84ed85db03b9ff0dbf79a4fa05f77cf9">gsb_data_report_get_transfer_reports_only</a> (current_report_number));
<a name="l00958"></a>00958 
<a name="l00959"></a>00959 
<a name="l00960"></a>00960     <span class="comment">/* onglet catégories */</span>
<a name="l00961"></a>00961     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( button_group_by_categ ),
<a name="l00962"></a>00962                                    <a class="code" href="gsb__data__report_8c.html#af669229d09ac127bba5200c85a5c55f2">gsb_data_report_get_category_used</a> (current_report_number));
<a name="l00963"></a>00963 
<a name="l00964"></a>00964     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( button_group_by_categ,
<a name="l00965"></a>00965                                 bouton_affiche_sous_total_categ );
<a name="l00966"></a>00966     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( button_group_by_categ,
<a name="l00967"></a>00967                                 bouton_afficher_sous_categ );
<a name="l00968"></a>00968     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( button_group_by_categ,
<a name="l00969"></a>00969                                 bouton_affiche_sous_total_sous_categ );
<a name="l00970"></a>00970     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( button_group_by_categ,
<a name="l00971"></a>00971                                 bouton_afficher_pas_de_sous_categ );
<a name="l00972"></a>00972     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( button_group_by_categ,
<a name="l00973"></a>00973                                 bouton_afficher_noms_categ );
<a name="l00974"></a>00974 
<a name="l00975"></a>00975     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( button_detail_categ ),
<a name="l00976"></a>00976                                    <a class="code" href="gsb__data__report_8c.html#ad49bc1036e429d9980dee8af4ca566f8">gsb_data_report_get_category_detail_used</a> (current_report_number));
<a name="l00977"></a>00977 
<a name="l00978"></a>00978     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( button_detail_categ,
<a name="l00979"></a>00979                                 hbox_detaille_categ_etat );
<a name="l00980"></a>00980 
<a name="l00981"></a>00981     <span class="comment">/* select the categories and sub-categories */</span>
<a name="l00982"></a>00982     report_config_category_update_treeview (TRUE);
<a name="l00983"></a>00983 
<a name="l00984"></a>00984     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_affiche_sous_total_categ ),
<a name="l00985"></a>00985                                    <a class="code" href="gsb__data__report_8c.html#ab3344874887e7a1a8b6c8c697f25839d">gsb_data_report_get_category_show_category_amount</a> (current_report_number));
<a name="l00986"></a>00986     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_sous_categ ),
<a name="l00987"></a>00987                                    <a class="code" href="gsb__data__report_8c.html#a88734d946b08911ec007ca161389df6b">gsb_data_report_get_category_show_sub_category</a> (current_report_number));
<a name="l00988"></a>00988     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_affiche_sous_total_sous_categ ),
<a name="l00989"></a>00989                                    <a class="code" href="gsb__data__report_8c.html#ac9bd4b8fe61e9e585d1f096aac3593be">gsb_data_report_get_category_show_sub_category_amount</a> (current_report_number));
<a name="l00990"></a>00990     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_pas_de_sous_categ ),
<a name="l00991"></a>00991                                    <a class="code" href="gsb__data__report_8c.html#af4733ecea37c9687e09640429b1f1d36">gsb_data_report_get_category_show_without_category</a> (current_report_number));
<a name="l00992"></a>00992 
<a name="l00993"></a>00993 
<a name="l00994"></a>00994     <span class="comment">/* mise en forme de la devise */</span>
<a name="l00995"></a>00995 
<a name="l00996"></a>00996     selectionne_devise_categ_etat_courant ();
<a name="l00997"></a>00997 
<a name="l00998"></a>00998     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_noms_categ ),
<a name="l00999"></a>00999                                    <a class="code" href="gsb__data__report_8c.html#a63ce412e50b72a75e53acff971b2c543">gsb_data_report_get_category_show_name</a> (current_report_number));
<a name="l01000"></a>01000 
<a name="l01001"></a>01001 
<a name="l01002"></a>01002     <span class="comment">/* onglet ib */</span>
<a name="l01003"></a>01003     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_utilise_ib_etat ),
<a name="l01004"></a>01004                                    <a class="code" href="gsb__data__report_8c.html#ac769ab6723a840d0059fe07116500866">gsb_data_report_get_budget_used</a> (current_report_number));
<a name="l01005"></a>01005 
<a name="l01006"></a>01006     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_utilise_ib_etat,
<a name="l01007"></a>01007                                 bouton_affiche_sous_total_ib );
<a name="l01008"></a>01008     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_utilise_ib_etat,
<a name="l01009"></a>01009                                 bouton_afficher_sous_ib );
<a name="l01010"></a>01010     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_utilise_ib_etat,
<a name="l01011"></a>01011                                 bouton_affiche_sous_total_sous_ib );
<a name="l01012"></a>01012     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_utilise_ib_etat,
<a name="l01013"></a>01013                                 bouton_afficher_pas_de_sous_ib );
<a name="l01014"></a>01014     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_utilise_ib_etat,
<a name="l01015"></a>01015                                 bouton_afficher_noms_ib );
<a name="l01016"></a>01016 
<a name="l01017"></a>01017     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_detaille_ib_etat ),
<a name="l01018"></a>01018                                    <a class="code" href="gsb__data__report_8c.html#a45e6a3c4276d00531dfdec020025e233">gsb_data_report_get_budget_detail_used</a> (current_report_number));
<a name="l01019"></a>01019 
<a name="l01020"></a>01020     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_detaille_ib_etat,
<a name="l01021"></a>01021                                 hbox_detaille_ib_etat );
<a name="l01022"></a>01022 
<a name="l01023"></a>01023     <span class="comment">/* select the budgets and sub-budgets */</span>
<a name="l01024"></a>01024     report_config_category_update_treeview (FALSE);
<a name="l01025"></a>01025 
<a name="l01026"></a>01026     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_affiche_sous_total_ib ),
<a name="l01027"></a>01027                                    <a class="code" href="gsb__data__report_8c.html#ab575f962ecdc5d88215734464c37f785">gsb_data_report_get_budget_show_budget_amount</a> (current_report_number));
<a name="l01028"></a>01028     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_sous_ib ),
<a name="l01029"></a>01029                                    <a class="code" href="gsb__data__report_8c.html#abee9b7991ac2a4309cce782a30f4d56b">gsb_data_report_get_budget_show_sub_budget</a> (current_report_number));
<a name="l01030"></a>01030     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_affiche_sous_total_sous_ib ),
<a name="l01031"></a>01031                                    <a class="code" href="gsb__data__report_8c.html#a47ab8953e5739e8bb7a86c08d253faf4">gsb_data_report_get_budget_show_sub_budget_amount</a> (current_report_number));
<a name="l01032"></a>01032     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_pas_de_sous_ib ),
<a name="l01033"></a>01033                                    <a class="code" href="gsb__data__report_8c.html#a024d23601c6cf79622a1f1c78d8aa9dc">gsb_data_report_get_budget_show_without_budget</a> (current_report_number));
<a name="l01034"></a>01034 
<a name="l01035"></a>01035     <span class="comment">/* mise en forme de la devise */</span>
<a name="l01036"></a>01036 
<a name="l01037"></a>01037     selectionne_devise_ib_etat_courant ();
<a name="l01038"></a>01038 
<a name="l01039"></a>01039     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_noms_ib ),
<a name="l01040"></a>01040                                    <a class="code" href="gsb__data__report_8c.html#a996b003e1a37decc93b190770ba98893">gsb_data_report_get_budget_show_name</a> (current_report_number));
<a name="l01041"></a>01041 
<a name="l01042"></a>01042     <span class="comment">/* onglet tiers */</span>
<a name="l01043"></a>01043 
<a name="l01044"></a>01044     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_utilise_tiers_etat ),
<a name="l01045"></a>01045                                    <a class="code" href="gsb__data__report_8c.html#a1a3062adfe4e0dfd44c28241a9e6be74">gsb_data_report_get_payee_used</a> (current_report_number));
<a name="l01046"></a>01046 
<a name="l01047"></a>01047     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_utilise_tiers_etat,
<a name="l01048"></a>01048                                 bouton_afficher_noms_tiers );
<a name="l01049"></a>01049     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_utilise_tiers_etat,
<a name="l01050"></a>01050                                 bouton_affiche_sous_total_tiers );
<a name="l01051"></a>01051 
<a name="l01052"></a>01052     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_detaille_tiers_etat ),
<a name="l01053"></a>01053                                    <a class="code" href="gsb__data__report_8c.html#ab1419810516f92c2abd2be0b8f9bbc46">gsb_data_report_get_payee_detail_used</a> (current_report_number));
<a name="l01054"></a>01054 
<a name="l01055"></a>01055     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_detaille_tiers_etat,
<a name="l01056"></a>01056                                 hbox_detaille_tiers_etat );
<a name="l01057"></a>01057 
<a name="l01058"></a>01058 
<a name="l01059"></a>01059     <span class="comment">/* on sélectionne les tiers choisies */</span>
<a name="l01060"></a>01060 
<a name="l01061"></a>01061     selectionne_liste_tiers_etat_courant();
<a name="l01062"></a>01062 
<a name="l01063"></a>01063     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_affiche_sous_total_tiers ),
<a name="l01064"></a>01064                                    <a class="code" href="gsb__data__report_8c.html#ad29798d39b64acda018ddd1043d31845">gsb_data_report_get_payee_show_payee_amount</a> (current_report_number));
<a name="l01065"></a>01065 
<a name="l01066"></a>01066     <span class="comment">/* mise en forme de la devise */</span>
<a name="l01067"></a>01067 
<a name="l01068"></a>01068     selectionne_devise_tiers_etat_courant ();
<a name="l01069"></a>01069 
<a name="l01070"></a>01070     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_noms_tiers ),
<a name="l01071"></a>01071                                    <a class="code" href="gsb__data__report_8c.html#a20ef94f2f9e40aff661015164410e781">gsb_data_report_get_payee_show_name</a> (current_report_number));
<a name="l01072"></a>01072 
<a name="l01073"></a>01073     <span class="comment">/*  onglet texte */</span>
<a name="l01074"></a>01074 
<a name="l01075"></a>01075     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_utilise_texte ),
<a name="l01076"></a>01076                                    <a class="code" href="gsb__data__report_8c.html#aa558931984bcd63613c24befdb7bca21">gsb_data_report_get_text_comparison_used</a> (current_report_number));
<a name="l01077"></a>01077     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_utilise_texte,
<a name="l01078"></a>01078                                 vbox_generale_textes_etat );
<a name="l01079"></a>01079     remplit_liste_comparaisons_textes_etat ();
<a name="l01080"></a>01080 
<a name="l01081"></a>01081 
<a name="l01082"></a>01082     <span class="comment">/* onglet montant */</span>
<a name="l01083"></a>01083 
<a name="l01084"></a>01084     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_utilise_montant ),
<a name="l01085"></a>01085                                    <a class="code" href="gsb__data__report_8c.html#abc400fd723354a2aab046938ec38d391">gsb_data_report_get_amount_comparison_used</a> (current_report_number));
<a name="l01086"></a>01086     <a class="code" href="gsb__currency_8c.html#a8774e282bad3c3101b161fd54bcb660a">gsb_currency_set_combobox_history</a> ( bouton_devise_montant_etat,
<a name="l01087"></a>01087                                         <a class="code" href="gsb__data__report_8c.html#a58c1bf88812b81d307bea9247695bfc9">gsb_data_report_get_amount_comparison_currency</a> (current_report_number));
<a name="l01088"></a>01088     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_utilise_montant,
<a name="l01089"></a>01089                                 vbox_generale_montants_etat );
<a name="l01090"></a>01090     remplit_liste_comparaisons_montants_etat ();
<a name="l01091"></a>01091 
<a name="l01092"></a>01092     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_exclure_ope_nulles_etat ),
<a name="l01093"></a>01093                                    <a class="code" href="gsb__data__report_8c.html#a232972d837e5037f101cc7f4e1d08411">gsb_data_report_get_amount_comparison_only_report_non_null</a> (current_report_number));
<a name="l01094"></a>01094 
<a name="l01095"></a>01095     <span class="comment">/* onglet modes de paiement */</span>
<a name="l01096"></a>01096 
<a name="l01097"></a>01097     gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON ( bouton_detaille_mode_paiement_etat ),
<a name="l01098"></a>01098                                    <a class="code" href="gsb__data__report_8c.html#aea652d5031272334eb6d0d6dba670f2d">gsb_data_report_get_method_of_payment_used</a> (current_report_number));
<a name="l01099"></a>01099 
<a name="l01100"></a>01100     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( bouton_detaille_mode_paiement_etat,
<a name="l01101"></a>01101                                 vbox_mode_paiement_etat );
<a name="l01102"></a>01102 
<a name="l01103"></a>01103     selectionne_liste_modes_paiement_etat_courant ();
<a name="l01104"></a>01104 
<a name="l01105"></a>01105     gtk_widget_show_all ( dialog );
<a name="l01106"></a>01106 
<a name="l01107"></a>01107     <span class="keywordflow">switch</span> ( gtk_dialog_run ( GTK_DIALOG(dialog) ) )
<a name="l01108"></a>01108     {
<a name="l01109"></a>01109         <span class="keywordflow">case</span> GTK_RESPONSE_OK:
<a name="l01110"></a>01110             recuperation_info_perso_etat ();
<a name="l01111"></a>01111             <span class="keywordflow">break</span>;
<a name="l01112"></a>01112 
<a name="l01113"></a>01113         <span class="keywordflow">default</span>:
<a name="l01114"></a>01114             <span class="keywordflow">break</span>;
<a name="l01115"></a>01115     }
<a name="l01116"></a>01116 
<a name="l01117"></a>01117     gtk_widget_destroy ( dialog );
<a name="l01118"></a>01118 }
<a name="l01119"></a>01119 
<a name="l01120"></a>01120 
<a name="l01121"></a>01121 
<a name="l01127"></a>01127 gboolean report_tree_view_selection_changed ( GtkTreeSelection *selection,
<a name="l01128"></a>01128                                               GtkTreeModel *model )
<a name="l01129"></a>01129 {
<a name="l01130"></a>01130     GtkTreeIter iter;
<a name="l01131"></a>01131     gint selected;
<a name="l01132"></a>01132 
<a name="l01133"></a>01133     <span class="keywordflow">if</span> (! gtk_tree_selection_get_selected (selection, NULL, &amp;iter))
<a name="l01134"></a>01134         <span class="keywordflow">return</span>(FALSE);
<a name="l01135"></a>01135 
<a name="l01136"></a>01136     gtk_tree_model_get ( model, &amp;iter, 1, &amp;selected, -1 );
<a name="l01137"></a>01137     gtk_notebook_set_current_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> ), selected);
<a name="l01138"></a>01138 
<a name="l01139"></a>01139     <span class="keywordflow">return</span> FALSE;
<a name="l01140"></a>01140 }
<a name="l01141"></a>01141 
<a name="l01142"></a>01142 
<a name="l01143"></a>01143 
<a name="l01144"></a>01144 gboolean report_tree_selectable_func (GtkTreeSelection *selection,
<a name="l01145"></a>01145                                       GtkTreeModel *model,
<a name="l01146"></a>01146                                       GtkTreePath *path,
<a name="l01147"></a>01147                                       gboolean path_currently_selected,
<a name="l01148"></a>01148                                       gpointer data)
<a name="l01149"></a>01149 {
<a name="l01150"></a>01150     GtkTreeIter iter;
<a name="l01151"></a>01151     gint selectable;
<a name="l01152"></a>01152 
<a name="l01153"></a>01153     gtk_tree_model_get_iter ( model, &amp;iter, path );
<a name="l01154"></a>01154     gtk_tree_model_get ( model, &amp;iter, 1, &amp;selectable, -1 );
<a name="l01155"></a>01155 
<a name="l01156"></a>01156     <span class="keywordflow">return</span> ( selectable != -1 );
<a name="l01157"></a>01157 }
<a name="l01158"></a>01158 
<a name="l01159"></a>01159 
<a name="l01160"></a>01160 
<a name="l01161"></a>01161 <span class="comment">/******************************************************************************/</span>
<a name="l01162"></a>01162 <span class="keywordtype">void</span> selectionne_liste_exo_etat_courant ( <span class="keywordtype">void</span> )
<a name="l01163"></a>01163 {
<a name="l01164"></a>01164     GSList *pointeur_sliste;
<a name="l01165"></a>01165     gint current_report_number;
<a name="l01166"></a>01166 
<a name="l01167"></a>01167     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l01168"></a>01168 
<a name="l01169"></a>01169     gtk_clist_unselect_all ( GTK_CLIST ( liste_exo_etat ));
<a name="l01170"></a>01170 
<a name="l01171"></a>01171     pointeur_sliste = <a class="code" href="gsb__data__report_8c.html#a3a5c318502c4291b825100997b2c1000">gsb_data_report_get_financial_year_list</a> (current_report_number);
<a name="l01172"></a>01172 
<a name="l01173"></a>01173     <span class="keywordflow">while</span> ( pointeur_sliste )
<a name="l01174"></a>01174     {
<a name="l01175"></a>01175         gint row;
<a name="l01176"></a>01176 
<a name="l01177"></a>01177         row = gtk_clist_find_row_from_data ( GTK_CLIST ( liste_exo_etat ),
<a name="l01178"></a>01178                                              pointeur_sliste -&gt; data );
<a name="l01179"></a>01179         gtk_clist_select_row ( GTK_CLIST ( liste_exo_etat ),
<a name="l01180"></a>01180                                row,
<a name="l01181"></a>01181                                0 );
<a name="l01182"></a>01182         pointeur_sliste = pointeur_sliste -&gt; next;
<a name="l01183"></a>01183     }
<a name="l01184"></a>01184 }
<a name="l01185"></a>01185 <span class="comment">/******************************************************************************/</span>
<a name="l01186"></a>01186 
<a name="l01187"></a>01187 <span class="comment">/******************************************************************************/</span>
<a name="l01188"></a>01188 <span class="keywordtype">void</span> selectionne_liste_comptes_etat_courant ( <span class="keywordtype">void</span> )
<a name="l01189"></a>01189 {
<a name="l01190"></a>01190     GSList *pointeur_sliste;
<a name="l01191"></a>01191     gint current_report_number;
<a name="l01192"></a>01192 
<a name="l01193"></a>01193     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l01194"></a>01194 
<a name="l01195"></a>01195 
<a name="l01196"></a>01196     <span class="keywordflow">if</span> ( !liste_comptes_etat )
<a name="l01197"></a>01197         <span class="keywordflow">return</span>;
<a name="l01198"></a>01198 
<a name="l01199"></a>01199     gtk_clist_unselect_all ( GTK_CLIST ( liste_comptes_etat ));
<a name="l01200"></a>01200 
<a name="l01201"></a>01201     pointeur_sliste = <a class="code" href="gsb__data__report_8c.html#a073b6ce755d88520985137fea738c608">gsb_data_report_get_account_numbers</a> (current_report_number);
<a name="l01202"></a>01202 
<a name="l01203"></a>01203     <span class="keywordflow">while</span> ( pointeur_sliste )
<a name="l01204"></a>01204     {
<a name="l01205"></a>01205         gtk_clist_select_row ( GTK_CLIST ( liste_comptes_etat ),
<a name="l01206"></a>01206                                gtk_clist_find_row_from_data ( GTK_CLIST ( liste_comptes_etat ),
<a name="l01207"></a>01207                                                               pointeur_sliste -&gt; data ),
<a name="l01208"></a>01208                                0 );
<a name="l01209"></a>01209         pointeur_sliste = pointeur_sliste -&gt; next;
<a name="l01210"></a>01210     }
<a name="l01211"></a>01211 }
<a name="l01212"></a>01212 <span class="comment">/******************************************************************************/</span>
<a name="l01213"></a>01213 
<a name="l01214"></a>01214 <span class="comment">/******************************************************************************/</span>
<a name="l01215"></a>01215 <span class="keywordtype">void</span> selectionne_liste_virements_etat_courant ( <span class="keywordtype">void</span> )
<a name="l01216"></a>01216 {
<a name="l01217"></a>01217     GSList *pointeur_sliste;
<a name="l01218"></a>01218     gint current_report_number;
<a name="l01219"></a>01219 
<a name="l01220"></a>01220     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l01221"></a>01221 
<a name="l01222"></a>01222 
<a name="l01223"></a>01223     gtk_clist_unselect_all ( GTK_CLIST ( liste_comptes_virements ));
<a name="l01224"></a>01224 
<a name="l01225"></a>01225     pointeur_sliste = <a class="code" href="gsb__data__report_8c.html#a6929187165177b9a96a64e254ac8ef5a">gsb_data_report_get_transfer_account_numbers</a> (current_report_number);
<a name="l01226"></a>01226 
<a name="l01227"></a>01227     <span class="keywordflow">while</span> ( pointeur_sliste )
<a name="l01228"></a>01228     {
<a name="l01229"></a>01229         gtk_clist_select_row ( GTK_CLIST ( liste_comptes_virements ),
<a name="l01230"></a>01230                                gtk_clist_find_row_from_data ( GTK_CLIST ( liste_comptes_virements ),
<a name="l01231"></a>01231                                                               pointeur_sliste -&gt; data ),
<a name="l01232"></a>01232                                0 );
<a name="l01233"></a>01233         pointeur_sliste = pointeur_sliste -&gt; next;
<a name="l01234"></a>01234     }
<a name="l01235"></a>01235 }
<a name="l01236"></a>01236 
<a name="l01237"></a>01237 
<a name="l01238"></a>01238 
<a name="l01239"></a>01239 <span class="keywordtype">void</span> selectionne_devise_categ_etat_courant ( <span class="keywordtype">void</span> )
<a name="l01240"></a>01240 {
<a name="l01241"></a>01241     gint current_report_number;
<a name="l01242"></a>01242 
<a name="l01243"></a>01243     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l01244"></a>01244 
<a name="l01245"></a>01245     <a class="code" href="gsb__currency_8c.html#a8774e282bad3c3101b161fd54bcb660a">gsb_currency_set_combobox_history</a> ( bouton_devise_categ_etat,
<a name="l01246"></a>01246                                         <a class="code" href="gsb__data__report_8c.html#ac6e52caf2a3546fea1a63e3893940e85">gsb_data_report_get_category_currency</a> (current_report_number));
<a name="l01247"></a>01247 }
<a name="l01248"></a>01248 <span class="comment">/******************************************************************************/</span>
<a name="l01249"></a>01249 
<a name="l01250"></a>01250 
<a name="l01251"></a>01251 <span class="comment">/******************************************************************************/</span>
<a name="l01252"></a>01252 <span class="keywordtype">void</span> selectionne_devise_ib_etat_courant ( <span class="keywordtype">void</span> )
<a name="l01253"></a>01253 {
<a name="l01254"></a>01254     gint current_report_number;
<a name="l01255"></a>01255 
<a name="l01256"></a>01256     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l01257"></a>01257     <a class="code" href="gsb__currency_8c.html#a8774e282bad3c3101b161fd54bcb660a">gsb_currency_set_combobox_history</a> ( bouton_devise_ib_etat,
<a name="l01258"></a>01258                                         <a class="code" href="gsb__data__report_8c.html#ac55bacd270ac28bb1ccb99bf05f56600">gsb_data_report_get_budget_currency</a> (current_report_number));
<a name="l01259"></a>01259 }
<a name="l01260"></a>01260 <span class="comment">/******************************************************************************/</span>
<a name="l01261"></a>01261 
<a name="l01262"></a>01262 <span class="comment">/******************************************************************************/</span>
<a name="l01263"></a>01263 <span class="keywordtype">void</span> selectionne_liste_tiers_etat_courant ( <span class="keywordtype">void</span> )
<a name="l01264"></a>01264 {
<a name="l01265"></a>01265     GSList *pointeur_sliste;
<a name="l01266"></a>01266     gint current_report_number;
<a name="l01267"></a>01267 
<a name="l01268"></a>01268     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l01269"></a>01269 
<a name="l01270"></a>01270 
<a name="l01271"></a>01271     <span class="keywordflow">if</span> ( !liste_tiers_etat )
<a name="l01272"></a>01272         <span class="keywordflow">return</span>;
<a name="l01273"></a>01273 
<a name="l01274"></a>01274     gtk_clist_unselect_all ( GTK_CLIST ( liste_tiers_etat ));
<a name="l01275"></a>01275 
<a name="l01276"></a>01276     pointeur_sliste = <a class="code" href="gsb__data__report_8c.html#a6fdd042f7f52de6f133b0fb00159aa54">gsb_data_report_get_payee_numbers</a> (current_report_number);
<a name="l01277"></a>01277 
<a name="l01278"></a>01278     <span class="keywordflow">while</span> ( pointeur_sliste )
<a name="l01279"></a>01279     {
<a name="l01280"></a>01280         gtk_clist_select_row ( GTK_CLIST ( liste_tiers_etat ),
<a name="l01281"></a>01281                                gtk_clist_find_row_from_data ( GTK_CLIST ( liste_tiers_etat ),
<a name="l01282"></a>01282                                                               pointeur_sliste -&gt; data ),
<a name="l01283"></a>01283                                0 );
<a name="l01284"></a>01284         pointeur_sliste = pointeur_sliste -&gt; next;
<a name="l01285"></a>01285     }
<a name="l01286"></a>01286 }
<a name="l01287"></a>01287 <span class="comment">/******************************************************************************/</span>
<a name="l01288"></a>01288 
<a name="l01289"></a>01289 <span class="comment">/******************************************************************************/</span>
<a name="l01290"></a>01290 <span class="keywordtype">void</span> selectionne_devise_tiers_etat_courant ( <span class="keywordtype">void</span> )
<a name="l01291"></a>01291 {
<a name="l01292"></a>01292     gint current_report_number;
<a name="l01293"></a>01293 
<a name="l01294"></a>01294     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l01295"></a>01295     <a class="code" href="gsb__currency_8c.html#a8774e282bad3c3101b161fd54bcb660a">gsb_currency_set_combobox_history</a> ( bouton_devise_tiers_etat,
<a name="l01296"></a>01296                                         <a class="code" href="gsb__data__report_8c.html#a6caa69e4c724ee89a5ce59e2be19a6fe">gsb_data_report_get_payee_currency</a> (current_report_number));
<a name="l01297"></a>01297 }
<a name="l01298"></a>01298 <span class="comment">/******************************************************************************/</span>
<a name="l01299"></a>01299 
<a name="l01300"></a>01300 <span class="comment">/******************************************************************************/</span>
<a name="l01301"></a>01301 <span class="keywordtype">void</span> recuperation_info_perso_etat ( <span class="keywordtype">void</span> )
<a name="l01302"></a>01302 {
<a name="l01303"></a>01303     GSList *comparison_list;
<a name="l01304"></a>01304     GList *list_tmp;
<a name="l01305"></a>01305     <span class="keyword">const</span> gchar *pointeur_char;
<a name="l01306"></a>01306     gint i;
<a name="l01307"></a>01307     gint amount_comparison_number;
<a name="l01308"></a>01308     gint current_report_number;
<a name="l01309"></a>01309 
<a name="l01310"></a>01310     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l01311"></a>01311 
<a name="l01312"></a>01312     <span class="comment">/* Check that custom dates are OK, but only if custom date range</span>
<a name="l01313"></a>01313 <span class="comment">     * has been selected. */</span>
<a name="l01314"></a>01314     <span class="keywordflow">if</span> ( GPOINTER_TO_INT ( GTK_CLIST ( liste_plages_dates_etat ) -&gt; selection -&gt; data ) == 1 &amp;&amp;
<a name="l01315"></a>01315          !<a class="code" href="utils__dates_8c.html#a02184736d75dd242e3c5c3b4a89efd81">gsb_date_check_entry</a> ( entree_date_init_etat ) )
<a name="l01316"></a>01316     {
<a name="l01317"></a>01317         <a class="code" href="dialog_8c.html#a194ffa6e8e89cc8fb7fbfbc41109fe1e">dialogue_error_hint</a> ( _(<span class="stringliteral">&quot;Grisbi can&#39;t parse date.  For a list of date formats that Grisbi can use, refer to Grisbi manual.&quot;</span>),
<a name="l01318"></a>01318                               g_strdup_printf ( _(<span class="stringliteral">&quot;Invalid initial date &#39;%s&#39;&quot;</span>),
<a name="l01319"></a>01319                                                 gtk_entry_get_text(GTK_ENTRY(entree_date_init_etat)) ) );
<a name="l01320"></a>01320         <span class="keywordflow">return</span>;
<a name="l01321"></a>01321     }
<a name="l01322"></a>01322 
<a name="l01323"></a>01323     <span class="keywordflow">if</span> ( GPOINTER_TO_INT ( GTK_CLIST ( liste_plages_dates_etat ) -&gt; selection -&gt; data ) == 1 &amp;&amp;
<a name="l01324"></a>01324          !<a class="code" href="utils__dates_8c.html#a02184736d75dd242e3c5c3b4a89efd81">gsb_date_check_entry</a> (entree_date_finale_etat ) )
<a name="l01325"></a>01325     {
<a name="l01326"></a>01326         <a class="code" href="dialog_8c.html#a194ffa6e8e89cc8fb7fbfbc41109fe1e">dialogue_error_hint</a> ( _(<span class="stringliteral">&quot;Grisbi can&#39;t parse date.  For a list of date formats that Grisbi can use, refer to Grisbi manual.&quot;</span>),
<a name="l01327"></a>01327                               g_strdup_printf ( _(<span class="stringliteral">&quot;Invalid final date &#39;%s&#39;&quot;</span>),
<a name="l01328"></a>01328                                                 gtk_entry_get_text(GTK_ENTRY(entree_date_finale_etat)) ) );
<a name="l01329"></a>01329         <span class="keywordflow">return</span>;
<a name="l01330"></a>01330     }
<a name="l01331"></a>01331 
<a name="l01332"></a>01332 
<a name="l01333"></a>01333     <span class="comment">/* on récupère maintenant toutes les données */</span>
<a name="l01334"></a>01334     <span class="comment">/* récupération du name du rapport */</span>
<a name="l01335"></a>01335 
<a name="l01336"></a>01336     pointeur_char = gtk_entry_get_text ( GTK_ENTRY ( entree_nom_etat ));
<a name="l01337"></a>01337 
<a name="l01338"></a>01338     <span class="keywordflow">if</span> ( strlen ( pointeur_char )
<a name="l01339"></a>01339          &amp;&amp;
<a name="l01340"></a>01340          strcmp ( pointeur_char,
<a name="l01341"></a>01341                   <a class="code" href="gsb__data__report_8c.html#ace8a87d303afdf89ef8f3a901987db83">gsb_data_report_get_report_name</a> (current_report_number) ))
<a name="l01342"></a>01342     {
<a name="l01343"></a>01343         <a class="code" href="gsb__data__report_8c.html#a25bdbca8cfa9b81378623973645112df">gsb_data_report_set_report_name</a> ( current_report_number,
<a name="l01344"></a>01344                                           pointeur_char );
<a name="l01345"></a>01345     }
<a name="l01346"></a>01346 
<a name="l01347"></a>01347     <span class="comment">/* récupération du type de classement */</span>
<a name="l01348"></a>01348 
<a name="l01349"></a>01349     g_slist_free ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (current_report_number));
<a name="l01350"></a>01350 
<a name="l01351"></a>01351     <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( current_report_number,
<a name="l01352"></a>01352                                        NULL );
<a name="l01353"></a>01353 
<a name="l01354"></a>01354     <span class="keywordflow">for</span> ( i=0 ; i&lt;GTK_CLIST ( liste_type_classement_etat ) -&gt; rows ; i++ )
<a name="l01355"></a>01355     {
<a name="l01356"></a>01356         gint no;
<a name="l01357"></a>01357 
<a name="l01358"></a>01358         no = GPOINTER_TO_INT ( gtk_ctree_node_get_row_data ( GTK_CTREE ( liste_type_classement_etat ),
<a name="l01359"></a>01359                                                              gtk_ctree_node_nth ( GTK_CTREE ( liste_type_classement_etat ),
<a name="l01360"></a>01360                                                                                   i )));
<a name="l01361"></a>01361 
<a name="l01362"></a>01362         <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( current_report_number,
<a name="l01363"></a>01363                                            g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (current_report_number),
<a name="l01364"></a>01364                                                             GINT_TO_POINTER ( no )));
<a name="l01365"></a>01365 
<a name="l01366"></a>01366         <span class="comment">/* rajoute les ss categ et ss ib */</span>
<a name="l01367"></a>01367 
<a name="l01368"></a>01368         <span class="keywordflow">if</span> ( no == 1 )
<a name="l01369"></a>01369             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( current_report_number,
<a name="l01370"></a>01370                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (current_report_number),
<a name="l01371"></a>01371                                                                 GINT_TO_POINTER ( 2 )));
<a name="l01372"></a>01372         <span class="keywordflow">if</span> ( no == 3 )
<a name="l01373"></a>01373             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( current_report_number,
<a name="l01374"></a>01374                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (current_report_number),
<a name="l01375"></a>01375                                                                 GINT_TO_POINTER ( 4 )));
<a name="l01376"></a>01376     }
<a name="l01377"></a>01377 
<a name="l01378"></a>01378     <span class="comment">/* récupération de l&#39;affichage ou non des R */</span>
<a name="l01379"></a>01379 
<a name="l01380"></a>01380     <span class="keywordflow">if</span> ( gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_opes_r_et_non_r_etat )) )
<a name="l01381"></a>01381         <a class="code" href="gsb__data__report_8c.html#a80450389b25e382a23c35ca150b53ff1">gsb_data_report_set_show_r</a> ( current_report_number,
<a name="l01382"></a>01382                                      0 );
<a name="l01383"></a>01383     <span class="keywordflow">else</span>
<a name="l01384"></a>01384     {
<a name="l01385"></a>01385         <span class="keywordflow">if</span> ( gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_opes_non_r_etat )) )
<a name="l01386"></a>01386             <a class="code" href="gsb__data__report_8c.html#a80450389b25e382a23c35ca150b53ff1">gsb_data_report_set_show_r</a> ( current_report_number,
<a name="l01387"></a>01387                                          1 );
<a name="l01388"></a>01388         <span class="keywordflow">else</span>
<a name="l01389"></a>01389             <a class="code" href="gsb__data__report_8c.html#a80450389b25e382a23c35ca150b53ff1">gsb_data_report_set_show_r</a> ( current_report_number,
<a name="l01390"></a>01390                                          2 );
<a name="l01391"></a>01391     }
<a name="l01392"></a>01392 
<a name="l01393"></a>01393     <span class="comment">/* récupération de l&#39;affichage des opés */</span>
<a name="l01394"></a>01394 
<a name="l01395"></a>01395     <a class="code" href="gsb__data__report_8c.html#ab73275f9e10bbb7227e1f267069fce51">gsb_data_report_set_show_report_transactions</a> ( current_report_number,
<a name="l01396"></a>01396                                                    gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_opes )));
<a name="l01397"></a>01397     <a class="code" href="gsb__data__report_8c.html#a694ac1c5edad44bec026422a639e1a55">gsb_data_report_set_show_report_transaction_amount</a> ( current_report_number,
<a name="l01398"></a>01398                                                          gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_nb_opes )));
<a name="l01399"></a>01399 
<a name="l01400"></a>01400     <a class="code" href="gsb__data__report_8c.html#a45309025ed698120391b6606e1498119">gsb_data_report_set_show_report_transaction_number</a> ( current_report_number,
<a name="l01401"></a>01401                                                          gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_no_ope )));
<a name="l01402"></a>01402     <a class="code" href="gsb__data__report_8c.html#abd6bd7b0e41dd49d856427d9dd5d023b">gsb_data_report_set_show_report_date</a> ( current_report_number,
<a name="l01403"></a>01403                                            gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_date_opes )));
<a name="l01404"></a>01404     <a class="code" href="gsb__data__report_8c.html#a5523d4f53bf5ed0a38f770d264000e8f">gsb_data_report_set_show_report_value_date</a> ( current_report_number,
<a name="l01405"></a>01405                                                  gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_value_date_opes )));
<a name="l01406"></a>01406     <a class="code" href="gsb__data__report_8c.html#adb330e5809198a0bb7156014be6c20b6">gsb_data_report_set_show_report_payee</a> ( current_report_number,
<a name="l01407"></a>01407                                             gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_tiers_opes )));
<a name="l01408"></a>01408     <a class="code" href="gsb__data__report_8c.html#aba338bba9af6a88f931479b0287e6530">gsb_data_report_set_show_report_category</a> ( current_report_number,
<a name="l01409"></a>01409                                                gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_categ_opes )));
<a name="l01410"></a>01410     <a class="code" href="gsb__data__report_8c.html#af75663a9483d5bb68d91f60a1490c7ab">gsb_data_report_set_show_report_sub_category</a> ( current_report_number,
<a name="l01411"></a>01411                                                    gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_sous_categ_opes )));
<a name="l01412"></a>01412     <a class="code" href="gsb__data__report_8c.html#a9b64b1f7da9c50dce29b7469ac1c1038">gsb_data_report_set_show_report_method_of_payment</a> ( current_report_number,
<a name="l01413"></a>01413                                                         gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_type_ope )));
<a name="l01414"></a>01414     <a class="code" href="gsb__data__report_8c.html#a2621abe461aea953e4c83dfc8652da07">gsb_data_report_set_show_report_budget</a> ( current_report_number,
<a name="l01415"></a>01415                                              gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_ib_opes )));
<a name="l01416"></a>01416     <a class="code" href="gsb__data__report_8c.html#a7ba9d925d29e26d8545cc4ce4dbcc424">gsb_data_report_set_show_report_sub_budget</a> ( current_report_number,
<a name="l01417"></a>01417                                                  gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_sous_ib_opes )));
<a name="l01418"></a>01418     <a class="code" href="gsb__data__report_8c.html#acdc9553325bb223f4a53295f0c9e070e">gsb_data_report_set_show_report_method_of_payment_content</a> ( current_report_number,
<a name="l01419"></a>01419                                                                 gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_no_cheque )));
<a name="l01420"></a>01420     <a class="code" href="gsb__data__report_8c.html#ad9acbf87438e562995060bcc68942441">gsb_data_report_set_show_report_note</a> ( current_report_number,
<a name="l01421"></a>01421                                            gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_notes_opes )));
<a name="l01422"></a>01422     <a class="code" href="gsb__data__report_8c.html#adec44b9f95dce01af079008b55fef237">gsb_data_report_set_show_report_voucher</a> ( current_report_number,
<a name="l01423"></a>01423                                               gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_pc_opes )));
<a name="l01424"></a>01424     <a class="code" href="gsb__data__report_8c.html#a086f3a436568144e3dd667ef01549942">gsb_data_report_set_show_report_marked</a> ( current_report_number,
<a name="l01425"></a>01425                                              gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_no_rappr )));
<a name="l01426"></a>01426     <a class="code" href="gsb__data__report_8c.html#adc6d6f473b93adb284aec30cbf9a39fd">gsb_data_report_set_show_report_bank_references</a> ( current_report_number,
<a name="l01427"></a>01427                                                       gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_infobd_opes )));
<a name="l01428"></a>01428     <a class="code" href="gsb__data__report_8c.html#a2e0c60e9d8f77c74b9337ccc96e9a78f">gsb_data_report_set_not_detail_split</a> ( current_report_number,
<a name="l01429"></a>01429                                                gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_pas_detailler_ventilation )));
<a name="l01430"></a>01430     <a class="code" href="gsb__data__report_8c.html#a4e04bc87652541afa8393f847edc382a">gsb_data_report_set_split_credit_debit</a> ( current_report_number,
<a name="l01431"></a>01431                                              gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_separer_revenus_depenses )));
<a name="l01432"></a>01432     <a class="code" href="gsb__data__report_8c.html#a4a0d35c886f0a006393f10a7760efcb6">gsb_data_report_set_show_report_financial_year</a> ( current_report_number,
<a name="l01433"></a>01433                                                      gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_exo_opes )));
<a name="l01434"></a>01434     <a class="code" href="gsb__data__report_8c.html#aca83800b33424ae916e6f4c0a5ceed4c">gsb_data_report_set_column_title_show</a> ( current_report_number,
<a name="l01435"></a>01435                                             gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_titres_colonnes )));
<a name="l01436"></a>01436     <a class="code" href="gsb__data__report_8c.html#acfd5e551906807174bc7cdf2dd49b169">gsb_data_report_set_column_title_type</a> ( current_report_number,
<a name="l01437"></a>01437                                             gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_titre_changement )));
<a name="l01438"></a>01438 
<a name="l01439"></a>01439     <a class="code" href="gsb__data__report_8c.html#a0fd1ad8543961f2d468ddc471dbf8ca7">gsb_data_report_set_sorting_report</a> ( current_report_number,
<a name="l01440"></a>01440                                          GPOINTER_TO_INT ( g_object_get_data ( G_OBJECT ( GTK_OPTION_MENU ( bouton_choix_classement_ope_etat ) -&gt; menu_item ),
<a name="l01441"></a>01441                                                                                  <span class="stringliteral">&quot;no_classement&quot;</span> )));
<a name="l01442"></a>01442 
<a name="l01443"></a>01443     <a class="code" href="gsb__data__report_8c.html#a71ab810cbda85aae7c911ffd4a0724c7">gsb_data_report_set_report_can_click</a> ( current_report_number,
<a name="l01444"></a>01444                                            gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_rendre_ope_clickables )));
<a name="l01445"></a>01445 
<a name="l01446"></a>01446     <a class="code" href="gsb__data__report_8c.html#a62c52c55575358b3f8e6a5bc2b609cd1">gsb_data_report_set_currency_general</a> ( current_report_number,
<a name="l01447"></a>01447                                            <a class="code" href="gsb__currency_8c.html#a3abd39af3aafa4213a8ffbe74d5d6b10">gsb_currency_get_currency_from_combobox</a> (bouton_devise_general_etat));
<a name="l01448"></a>01448     <a class="code" href="gsb__data__report_8c.html#a27d3aea4ad671f1c0ffbafa5eb304892">gsb_data_report_set_append_in_payee</a> ( current_report_number,
<a name="l01449"></a>01449                                           gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_inclure_dans_tiers )));
<a name="l01450"></a>01450 
<a name="l01451"></a>01451 
<a name="l01452"></a>01452     <span class="comment">/* récupération des dates */</span>
<a name="l01453"></a>01453 
<a name="l01454"></a>01454     <a class="code" href="gsb__data__report_8c.html#a2a3cb544c995b2742ecb932d43e5ddac">gsb_data_report_set_use_financial_year</a> ( current_report_number,
<a name="l01455"></a>01455                                              gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( radio_button_utilise_exo )));
<a name="l01456"></a>01456 
<a name="l01457"></a>01457     <span class="keywordflow">if</span> ( gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_exo_tous )) )
<a name="l01458"></a>01458         <a class="code" href="gsb__data__report_8c.html#a96718834b16c38b11763fbc814f5e086">gsb_data_report_set_financial_year_type</a> ( current_report_number,
<a name="l01459"></a>01459                                                   0 );
<a name="l01460"></a>01460     <span class="keywordflow">else</span>
<a name="l01461"></a>01461     {
<a name="l01462"></a>01462         <span class="keywordflow">if</span> ( gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_exo_courant )) )
<a name="l01463"></a>01463             <a class="code" href="gsb__data__report_8c.html#a96718834b16c38b11763fbc814f5e086">gsb_data_report_set_financial_year_type</a> ( current_report_number,
<a name="l01464"></a>01464                                                       1 );
<a name="l01465"></a>01465         <span class="keywordflow">else</span>
<a name="l01466"></a>01466         {
<a name="l01467"></a>01467             <span class="keywordflow">if</span> ( gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_exo_precedent )) )
<a name="l01468"></a>01468                 <a class="code" href="gsb__data__report_8c.html#a96718834b16c38b11763fbc814f5e086">gsb_data_report_set_financial_year_type</a> ( current_report_number,
<a name="l01469"></a>01469                                                           2 );
<a name="l01470"></a>01470             <span class="keywordflow">else</span>
<a name="l01471"></a>01471                 <a class="code" href="gsb__data__report_8c.html#a96718834b16c38b11763fbc814f5e086">gsb_data_report_set_financial_year_type</a> ( current_report_number,
<a name="l01472"></a>01472                                                           3 );
<a name="l01473"></a>01473         }
<a name="l01474"></a>01474     }
<a name="l01475"></a>01475 
<a name="l01476"></a>01476     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#a3a5c318502c4291b825100997b2c1000">gsb_data_report_get_financial_year_list</a> (current_report_number))
<a name="l01477"></a>01477     {
<a name="l01478"></a>01478         g_slist_free ( <a class="code" href="gsb__data__report_8c.html#a3a5c318502c4291b825100997b2c1000">gsb_data_report_get_financial_year_list</a> (current_report_number));
<a name="l01479"></a>01479         <a class="code" href="gsb__data__report_8c.html#a34aae9a3c02a7e90ff33ce4e4559809c">gsb_data_report_set_financial_year_list</a> ( current_report_number,
<a name="l01480"></a>01480                                                   NULL );
<a name="l01481"></a>01481     }
<a name="l01482"></a>01482 
<a name="l01483"></a>01483     list_tmp = GTK_CLIST ( liste_exo_etat ) -&gt; selection;
<a name="l01484"></a>01484 
<a name="l01485"></a>01485     <span class="keywordflow">while</span> ( list_tmp )
<a name="l01486"></a>01486     {
<a name="l01487"></a>01487         <a class="code" href="gsb__data__report_8c.html#a34aae9a3c02a7e90ff33ce4e4559809c">gsb_data_report_set_financial_year_list</a> ( current_report_number,
<a name="l01488"></a>01488                                                   g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a3a5c318502c4291b825100997b2c1000">gsb_data_report_get_financial_year_list</a> (current_report_number),
<a name="l01489"></a>01489                                                                    gtk_clist_get_row_data ( GTK_CLIST ( liste_exo_etat ),
<a name="l01490"></a>01490                                                                                             GPOINTER_TO_INT ( list_tmp -&gt; data ))));
<a name="l01491"></a>01491         list_tmp = list_tmp -&gt; next;
<a name="l01492"></a>01492     }
<a name="l01493"></a>01493 
<a name="l01494"></a>01494     <span class="comment">/*   si tous les exos ont été sélectionnés, on met bouton_detaille_exo_etat à 0 (plus rapide) */</span>
<a name="l01495"></a>01495 
<a name="l01496"></a>01496     <span class="keywordflow">if</span> ( ( g_list_length ( GTK_CLIST ( liste_exo_etat ) -&gt; selection )
<a name="l01497"></a>01497            ==
<a name="l01498"></a>01498            GTK_CLIST ( liste_exo_etat ) -&gt; rows )
<a name="l01499"></a>01499          &amp;&amp;
<a name="l01500"></a>01500          <a class="code" href="gsb__data__report_8c.html#a7a1b2e1c08c6f27b78e33cc36b812b09">gsb_data_report_get_financial_year_type</a> (current_report_number) == 3 )
<a name="l01501"></a>01501     {
<a name="l01502"></a>01502         <a class="code" href="dialog_8c.html#ac3e0ed9412c48edad2cd0dad89c7d566">dialogue_special</a> ( GTK_MESSAGE_INFO,
<a name="l01503"></a>01503                            <a class="code" href="dialog_8c.html#a84758de40aa2807a4e5ebd97ede7df23">make_hint</a> ( _(<span class="stringliteral">&quot;Performance issue.&quot;</span>),
<a name="l01504"></a>01504                                        _(<span class="stringliteral">&quot;All financial years have been selected.  Grisbi will run faster without the \&quot;Detail financial years\&quot; option activated.&quot;</span>) ) );
<a name="l01505"></a>01505         <a class="code" href="gsb__data__report_8c.html#a96718834b16c38b11763fbc814f5e086">gsb_data_report_set_financial_year_type</a> ( current_report_number,
<a name="l01506"></a>01506                                                   0 );
<a name="l01507"></a>01507     }
<a name="l01508"></a>01508 
<a name="l01509"></a>01509 
<a name="l01510"></a>01510     <a class="code" href="gsb__data__report_8c.html#ab5a189185447f48b12879aea97930145">gsb_data_report_set_financial_year_split</a> ( current_report_number,
<a name="l01511"></a>01511                                                gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_separe_exo_etat )));
<a name="l01512"></a>01512 
<a name="l01513"></a>01513     <a class="code" href="gsb__data__report_8c.html#a32f4be4d98f68b6c96ca94bebb79de20">gsb_data_report_set_date_type</a> ( current_report_number,
<a name="l01514"></a>01514                                     GPOINTER_TO_INT ( GTK_CLIST ( liste_plages_dates_etat ) -&gt; selection -&gt; data ));
<a name="l01515"></a>01515 
<a name="l01516"></a>01516     <a class="code" href="gsb__data__report_8c.html#a383795b5a8f79f6e2503b6a3c06a55ce">gsb_data_report_set_personal_date_start</a> ( current_report_number,
<a name="l01517"></a>01517                                               <a class="code" href="gsb__calendar__entry_8c.html#a8cb2e700394a337d8442f42cfdb311ef">gsb_calendar_entry_get_date</a> (entree_date_init_etat));
<a name="l01518"></a>01518     <a class="code" href="gsb__data__report_8c.html#aa78f798f8271be7673969325cfcc6af3">gsb_data_report_set_personal_date_end</a> ( current_report_number,
<a name="l01519"></a>01519                                             <a class="code" href="gsb__calendar__entry_8c.html#a8cb2e700394a337d8442f42cfdb311ef">gsb_calendar_entry_get_date</a> (entree_date_finale_etat));
<a name="l01520"></a>01520 
<a name="l01521"></a>01521     <a class="code" href="gsb__data__report_8c.html#a82dbac52eaaab86d4183ed4609f96d8b">gsb_data_report_set_period_split</a> ( current_report_number,
<a name="l01522"></a>01522                                        gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_separe_plages_etat )));
<a name="l01523"></a>01523     <a class="code" href="gsb__data__report_8c.html#a38b69c288d5827f9604f81066b79ea6f">gsb_data_report_set_period_split_type</a> ( current_report_number,
<a name="l01524"></a>01524                                             GPOINTER_TO_INT ( g_object_get_data ( G_OBJECT ( GTK_OPTION_MENU ( bouton_type_separe_plages_etat ) -&gt; menu_item ),
<a name="l01525"></a>01525                                                                                     <span class="stringliteral">&quot;type&quot;</span> )));
<a name="l01526"></a>01526     <a class="code" href="gsb__data__report_8c.html#a02ed60f2f7e277b7634edb786376fd98">gsb_data_report_set_period_split_day</a> ( current_report_number,
<a name="l01527"></a>01527                                            GPOINTER_TO_INT ( g_object_get_data ( G_OBJECT ( GTK_OPTION_MENU ( bouton_debut_semaine ) -&gt; menu_item ),
<a name="l01528"></a>01528                                                                                    <span class="stringliteral">&quot;day&quot;</span> )));
<a name="l01529"></a>01529 
<a name="l01530"></a>01530     <span class="comment">/* récupération des comptes */</span>
<a name="l01531"></a>01531 
<a name="l01532"></a>01532     <a class="code" href="gsb__data__report_8c.html#ac54652a76d6a17444eb69fa1ee7e5db0">gsb_data_report_set_account_use_chosen</a> ( current_report_number,
<a name="l01533"></a>01533                                              gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_detaille_comptes_etat )));
<a name="l01534"></a>01534 
<a name="l01535"></a>01535     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#a073b6ce755d88520985137fea738c608">gsb_data_report_get_account_numbers</a> (current_report_number))
<a name="l01536"></a>01536     {
<a name="l01537"></a>01537         g_slist_free ( <a class="code" href="gsb__data__report_8c.html#a073b6ce755d88520985137fea738c608">gsb_data_report_get_account_numbers</a> (current_report_number));
<a name="l01538"></a>01538         <a class="code" href="gsb__data__report_8c.html#aa4ef1bd5e516fcd7378accc678888668">gsb_data_report_set_account_numbers</a> ( current_report_number,
<a name="l01539"></a>01539                                               NULL );
<a name="l01540"></a>01540     }
<a name="l01541"></a>01541 
<a name="l01542"></a>01542     list_tmp = GTK_CLIST ( liste_comptes_etat ) -&gt; selection;
<a name="l01543"></a>01543 
<a name="l01544"></a>01544     <span class="keywordflow">while</span> ( list_tmp )
<a name="l01545"></a>01545     {
<a name="l01546"></a>01546         <a class="code" href="gsb__data__report_8c.html#aa4ef1bd5e516fcd7378accc678888668">gsb_data_report_set_account_numbers</a> ( current_report_number,
<a name="l01547"></a>01547                                               g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a073b6ce755d88520985137fea738c608">gsb_data_report_get_account_numbers</a> (current_report_number),
<a name="l01548"></a>01548                                                                gtk_clist_get_row_data ( GTK_CLIST ( liste_comptes_etat ),
<a name="l01549"></a>01549                                                                                         GPOINTER_TO_INT ( list_tmp -&gt; data ))));
<a name="l01550"></a>01550         list_tmp = list_tmp -&gt; next;
<a name="l01551"></a>01551     }
<a name="l01552"></a>01552 
<a name="l01553"></a>01553     <span class="comment">/*   si tous les comptes ont été sélectionnés, on met utilise_detail_comptes à 0 (plus rapide) */</span>
<a name="l01554"></a>01554 
<a name="l01555"></a>01555     <span class="keywordflow">if</span> ( ( g_list_length ( GTK_CLIST ( liste_comptes_etat ) -&gt; selection )
<a name="l01556"></a>01556            ==
<a name="l01557"></a>01557            GTK_CLIST ( liste_comptes_etat ) -&gt; rows )
<a name="l01558"></a>01558          &amp;&amp;
<a name="l01559"></a>01559          <a class="code" href="gsb__data__report_8c.html#a8795e1ce126fb9646150f81dc88bec5e">gsb_data_report_get_account_use_chosen</a> (current_report_number))
<a name="l01560"></a>01560     {
<a name="l01561"></a>01561         <a class="code" href="dialog_8c.html#ac3e0ed9412c48edad2cd0dad89c7d566">dialogue_special</a> ( GTK_MESSAGE_INFO,
<a name="l01562"></a>01562                            <a class="code" href="dialog_8c.html#a84758de40aa2807a4e5ebd97ede7df23">make_hint</a> ( _(<span class="stringliteral">&quot;Performance issue.&quot;</span>),
<a name="l01563"></a>01563                                        _(<span class="stringliteral">&quot;All accounts have been selected.  Grisbi will run faster without the \&quot;Detail accounts used\&quot; option activated.&quot;</span>) ) );
<a name="l01564"></a>01564         <a class="code" href="gsb__data__report_8c.html#ac54652a76d6a17444eb69fa1ee7e5db0">gsb_data_report_set_account_use_chosen</a> ( current_report_number,
<a name="l01565"></a>01565                                                  0 );
<a name="l01566"></a>01566     }
<a name="l01567"></a>01567 
<a name="l01568"></a>01568     <a class="code" href="gsb__data__report_8c.html#abcf12d1638353b898d37e62c8e1389fb">gsb_data_report_set_account_group_reports</a> ( current_report_number,
<a name="l01569"></a>01569                                                 gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_regroupe_ope_compte_etat )));
<a name="l01570"></a>01570     <a class="code" href="gsb__data__report_8c.html#a0947d46d6ad023cc68c8763a0fdccc52">gsb_data_report_set_account_show_amount</a> ( current_report_number,
<a name="l01571"></a>01571                                               gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_affiche_sous_total_compte )));
<a name="l01572"></a>01572     <a class="code" href="gsb__data__report_8c.html#a862b85e96ac5068869e33ec932f638ab">gsb_data_report_set_account_show_name</a> ( current_report_number,
<a name="l01573"></a>01573                                             gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_noms_comptes )));
<a name="l01574"></a>01574 
<a name="l01575"></a>01575 
<a name="l01576"></a>01576     <span class="comment">/* récupération des virements */</span>
<a name="l01577"></a>01577 
<a name="l01578"></a>01578     <span class="keywordflow">if</span> ( gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_inclusion_virements_actifs_etat )))
<a name="l01579"></a>01579         <a class="code" href="gsb__data__report_8c.html#aa672eb741c6007e90dd909a2a2ca50c3">gsb_data_report_set_transfer_choice</a> ( current_report_number,
<a name="l01580"></a>01580                                               1 );
<a name="l01581"></a>01581     <span class="keywordflow">else</span>
<a name="l01582"></a>01582         <span class="keywordflow">if</span> ( gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_inclusion_virements_hors_etat )))
<a name="l01583"></a>01583             <a class="code" href="gsb__data__report_8c.html#aa672eb741c6007e90dd909a2a2ca50c3">gsb_data_report_set_transfer_choice</a> ( current_report_number,
<a name="l01584"></a>01584                                                   2 );
<a name="l01585"></a>01585         <span class="keywordflow">else</span>
<a name="l01586"></a>01586         {
<a name="l01587"></a>01587             <span class="keywordflow">if</span> ( gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_non_inclusion_virements )))
<a name="l01588"></a>01588                 <a class="code" href="gsb__data__report_8c.html#aa672eb741c6007e90dd909a2a2ca50c3">gsb_data_report_set_transfer_choice</a> ( current_report_number,
<a name="l01589"></a>01589                                                       0 );
<a name="l01590"></a>01590             <span class="keywordflow">else</span>
<a name="l01591"></a>01591                 <a class="code" href="gsb__data__report_8c.html#aa672eb741c6007e90dd909a2a2ca50c3">gsb_data_report_set_transfer_choice</a> ( current_report_number,
<a name="l01592"></a>01592                                                       3 );
<a name="l01593"></a>01593         }
<a name="l01594"></a>01594 
<a name="l01595"></a>01595     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#a6929187165177b9a96a64e254ac8ef5a">gsb_data_report_get_transfer_account_numbers</a> (current_report_number))
<a name="l01596"></a>01596     {
<a name="l01597"></a>01597         g_slist_free ( <a class="code" href="gsb__data__report_8c.html#a6929187165177b9a96a64e254ac8ef5a">gsb_data_report_get_transfer_account_numbers</a> (current_report_number));
<a name="l01598"></a>01598         <a class="code" href="gsb__data__report_8c.html#a5c378b6b33076ebc00ce1a9c27a88904">gsb_data_report_set_transfer_account_numbers</a> ( current_report_number,
<a name="l01599"></a>01599                                                        NULL );
<a name="l01600"></a>01600     }
<a name="l01601"></a>01601 
<a name="l01602"></a>01602     list_tmp = GTK_CLIST ( liste_comptes_virements ) -&gt; selection;
<a name="l01603"></a>01603 
<a name="l01604"></a>01604     <span class="keywordflow">while</span> ( list_tmp )
<a name="l01605"></a>01605     {
<a name="l01606"></a>01606         <a class="code" href="gsb__data__report_8c.html#a5c378b6b33076ebc00ce1a9c27a88904">gsb_data_report_set_transfer_account_numbers</a> ( current_report_number,
<a name="l01607"></a>01607                                                        g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a6929187165177b9a96a64e254ac8ef5a">gsb_data_report_get_transfer_account_numbers</a> (current_report_number),
<a name="l01608"></a>01608                                                                         gtk_clist_get_row_data ( GTK_CLIST ( liste_comptes_virements ),
<a name="l01609"></a>01609                                                                                                  GPOINTER_TO_INT ( list_tmp -&gt; data ))));
<a name="l01610"></a>01610         list_tmp = list_tmp -&gt; next;
<a name="l01611"></a>01611     }
<a name="l01612"></a>01612 
<a name="l01613"></a>01613     <a class="code" href="gsb__data__report_8c.html#a779833aee2f5be4558a5ea7e4f357295">gsb_data_report_set_transfer_reports_only</a> ( current_report_number,
<a name="l01614"></a>01614                                                 gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_exclure_non_virements_etat )));
<a name="l01615"></a>01615 
<a name="l01616"></a>01616 
<a name="l01617"></a>01617     <span class="comment">/* get the categories */</span>
<a name="l01618"></a>01618     <a class="code" href="gsb__data__report_8c.html#a8214ff79a8eda5c90ced8765cd4d2332">gsb_data_report_set_category_used</a> ( current_report_number,
<a name="l01619"></a>01619                                         gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( button_group_by_categ )));
<a name="l01620"></a>01620 
<a name="l01621"></a>01621     <a class="code" href="gsb__data__report_8c.html#a3e57d2f10e345722eef212b2651445ac">gsb_data_report_set_category_detail_used</a> ( current_report_number,
<a name="l01622"></a>01622                                                gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( button_detail_categ )));
<a name="l01623"></a>01623 
<a name="l01624"></a>01624     <a class="code" href="gsb__data__report_8c.html#a22af1dd38a4fdfdbf05c0ae2705d965a">gsb_data_report_set_category_struct</a> (current_report_number, report_config_categ_budget_get_selected (TRUE));
<a name="l01625"></a>01625 
<a name="l01626"></a>01626     <span class="comment">/* if all was selected, remove the category_detail_used */</span>
<a name="l01627"></a>01627     <span class="keywordflow">if</span> (!<a class="code" href="gsb__data__report_8c.html#af8cf9d659ba029877c116f4b7b2f549b">gsb_data_report_get_category_struct</a> (current_report_number))
<a name="l01628"></a>01628         <a class="code" href="gsb__data__report_8c.html#a3e57d2f10e345722eef212b2651445ac">gsb_data_report_set_category_detail_used</a> ( current_report_number,
<a name="l01629"></a>01629                                                    FALSE );
<a name="l01630"></a>01630 
<a name="l01631"></a>01631     <a class="code" href="gsb__data__report_8c.html#adffc908b069708969325ace8c9458dba">gsb_data_report_set_category_show_category_amount</a> ( current_report_number,
<a name="l01632"></a>01632                                                         gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_affiche_sous_total_categ )));
<a name="l01633"></a>01633     <a class="code" href="gsb__data__report_8c.html#ae828391902dac653842424728c1145c8">gsb_data_report_set_category_show_sub_category</a> ( current_report_number,
<a name="l01634"></a>01634                                                      gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_sous_categ )));
<a name="l01635"></a>01635     <a class="code" href="gsb__data__report_8c.html#a5dcb920f8a7a54d32c3946ebc37ecd84">gsb_data_report_set_category_show_sub_category_amount</a> ( current_report_number,
<a name="l01636"></a>01636                                                             gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_affiche_sous_total_sous_categ )));
<a name="l01637"></a>01637     <a class="code" href="gsb__data__report_8c.html#a33d95bde5fe8a0234bd1cae6b95343a6">gsb_data_report_set_category_show_without_category</a> ( current_report_number,
<a name="l01638"></a>01638                                                          gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_pas_de_sous_categ )));
<a name="l01639"></a>01639 
<a name="l01640"></a>01640     <a class="code" href="gsb__data__report_8c.html#a658593daf7e49a64355a99ad6cd06a85">gsb_data_report_set_category_currency</a> ( current_report_number,
<a name="l01641"></a>01641                                             <a class="code" href="gsb__currency_8c.html#a3abd39af3aafa4213a8ffbe74d5d6b10">gsb_currency_get_currency_from_combobox</a> (bouton_devise_categ_etat));
<a name="l01642"></a>01642     <a class="code" href="gsb__data__report_8c.html#ab9f1fb9448436b4c66f4531c812f83ed">gsb_data_report_set_category_show_name</a> ( current_report_number,
<a name="l01643"></a>01643                                              gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_noms_categ )));
<a name="l01644"></a>01644 
<a name="l01645"></a>01645 
<a name="l01646"></a>01646     <span class="comment">/* get the budget */</span>
<a name="l01647"></a>01647     <a class="code" href="gsb__data__report_8c.html#adcc6a605473017b85c9247e8993ed6d2">gsb_data_report_set_budget_used</a> ( current_report_number,
<a name="l01648"></a>01648                                       gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_utilise_ib_etat )));
<a name="l01649"></a>01649 
<a name="l01650"></a>01650     <a class="code" href="gsb__data__report_8c.html#ac6285c2f45a4a2e2be883dc00eb1f121">gsb_data_report_set_budget_detail_used</a> ( current_report_number,
<a name="l01651"></a>01651                                              gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_detaille_ib_etat )));
<a name="l01652"></a>01652 
<a name="l01653"></a>01653     <a class="code" href="gsb__data__report_8c.html#a487b3bc75744eb56f0e976f0e4619bf6">gsb_data_report_set_budget_struct</a> (current_report_number, report_config_categ_budget_get_selected (FALSE));
<a name="l01654"></a>01654 
<a name="l01655"></a>01655     <span class="comment">/* if all was selected, remove the budget_detail_used */</span>
<a name="l01656"></a>01656     <span class="keywordflow">if</span> (!<a class="code" href="gsb__data__report_8c.html#a73b4bbf059d42a3a4e769b935adf99e2">gsb_data_report_get_budget_struct</a> (current_report_number))
<a name="l01657"></a>01657         <a class="code" href="gsb__data__report_8c.html#ac6285c2f45a4a2e2be883dc00eb1f121">gsb_data_report_set_budget_detail_used</a> ( current_report_number,
<a name="l01658"></a>01658                                                  FALSE );
<a name="l01659"></a>01659 
<a name="l01660"></a>01660     <a class="code" href="gsb__data__report_8c.html#aa68de6945655fd72555983a8390f0dec">gsb_data_report_set_budget_show_budget_amount</a> ( current_report_number,
<a name="l01661"></a>01661                                                     gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_affiche_sous_total_ib )));
<a name="l01662"></a>01662     <a class="code" href="gsb__data__report_8c.html#a0256748105b93120b1fbac5ce910f3db">gsb_data_report_set_budget_show_sub_budget</a> ( current_report_number,
<a name="l01663"></a>01663                                                  gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON (bouton_afficher_sous_ib)));
<a name="l01664"></a>01664     <a class="code" href="gsb__data__report_8c.html#a18a21a4e17c75f8497793c8140546a30">gsb_data_report_set_budget_show_sub_budget_amount</a> ( current_report_number,
<a name="l01665"></a>01665                                                         gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_affiche_sous_total_sous_ib )));
<a name="l01666"></a>01666     <a class="code" href="gsb__data__report_8c.html#a4691d5cdf4228cbf67682f9d5ba15df6">gsb_data_report_set_budget_show_without_budget</a> ( current_report_number,
<a name="l01667"></a>01667                                                      gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_pas_de_sous_ib )));
<a name="l01668"></a>01668 
<a name="l01669"></a>01669     <a class="code" href="gsb__data__report_8c.html#a77ed5a9735965540ea81585f9a6350f2">gsb_data_report_set_budget_currency</a> ( current_report_number,
<a name="l01670"></a>01670                                           <a class="code" href="gsb__currency_8c.html#a3abd39af3aafa4213a8ffbe74d5d6b10">gsb_currency_get_currency_from_combobox</a> (bouton_devise_ib_etat));
<a name="l01671"></a>01671     <a class="code" href="gsb__data__report_8c.html#a7824c4a94a88b7fd49c6c73d442b048d">gsb_data_report_set_budget_show_name</a> ( current_report_number,
<a name="l01672"></a>01672                                            gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_noms_ib )));
<a name="l01673"></a>01673 
<a name="l01674"></a>01674 
<a name="l01675"></a>01675 
<a name="l01676"></a>01676     <span class="comment">/*   récupération des tiers */</span>
<a name="l01677"></a>01677 
<a name="l01678"></a>01678     <a class="code" href="gsb__data__report_8c.html#afc3cfa2b75c2f93fd173149de4b7f716">gsb_data_report_set_payee_used</a> ( current_report_number,
<a name="l01679"></a>01679                                      gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_utilise_tiers_etat )));
<a name="l01680"></a>01680 
<a name="l01681"></a>01681     <a class="code" href="gsb__data__report_8c.html#a589f69a29f71be146999e89481b03154">gsb_data_report_set_payee_detail_used</a> ( current_report_number,
<a name="l01682"></a>01682                                             gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_detaille_tiers_etat )));
<a name="l01683"></a>01683 
<a name="l01684"></a>01684     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#a6fdd042f7f52de6f133b0fb00159aa54">gsb_data_report_get_payee_numbers</a> (current_report_number))
<a name="l01685"></a>01685     {
<a name="l01686"></a>01686         g_slist_free ( <a class="code" href="gsb__data__report_8c.html#a6fdd042f7f52de6f133b0fb00159aa54">gsb_data_report_get_payee_numbers</a> (current_report_number));
<a name="l01687"></a>01687         <a class="code" href="gsb__data__report_8c.html#afc7b7b621ea125bac254c5aa8b9400d1">gsb_data_report_set_payee_numbers</a> ( current_report_number,
<a name="l01688"></a>01688                                             NULL );
<a name="l01689"></a>01689     }
<a name="l01690"></a>01690 
<a name="l01691"></a>01691     list_tmp = GTK_CLIST ( liste_tiers_etat ) -&gt; selection;
<a name="l01692"></a>01692 
<a name="l01693"></a>01693     <span class="keywordflow">while</span> ( list_tmp )
<a name="l01694"></a>01694     {
<a name="l01695"></a>01695         <a class="code" href="gsb__data__report_8c.html#afc7b7b621ea125bac254c5aa8b9400d1">gsb_data_report_set_payee_numbers</a> ( current_report_number,
<a name="l01696"></a>01696                                             g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a6fdd042f7f52de6f133b0fb00159aa54">gsb_data_report_get_payee_numbers</a> (current_report_number),
<a name="l01697"></a>01697                                                              gtk_clist_get_row_data ( GTK_CLIST ( liste_tiers_etat ),
<a name="l01698"></a>01698                                                                                       GPOINTER_TO_INT ( list_tmp -&gt; data ))));
<a name="l01699"></a>01699         list_tmp = list_tmp -&gt; next;
<a name="l01700"></a>01700     }
<a name="l01701"></a>01701 
<a name="l01702"></a>01702     <span class="comment">/*   si tous les tiers ont été sélectionnés, on met utilise_detail_tiers à 0 (plus rapide) */</span>
<a name="l01703"></a>01703 
<a name="l01704"></a>01704     <span class="keywordflow">if</span> ( ( g_list_length ( GTK_CLIST ( liste_tiers_etat ) -&gt; selection )
<a name="l01705"></a>01705            ==
<a name="l01706"></a>01706            GTK_CLIST ( liste_tiers_etat ) -&gt; rows )
<a name="l01707"></a>01707          &amp;&amp;
<a name="l01708"></a>01708          <a class="code" href="gsb__data__report_8c.html#ab1419810516f92c2abd2be0b8f9bbc46">gsb_data_report_get_payee_detail_used</a> (current_report_number))
<a name="l01709"></a>01709     {
<a name="l01710"></a>01710         <a class="code" href="dialog_8c.html#ac3e0ed9412c48edad2cd0dad89c7d566">dialogue_special</a> ( GTK_MESSAGE_INFO,
<a name="l01711"></a>01711                            <a class="code" href="dialog_8c.html#a84758de40aa2807a4e5ebd97ede7df23">make_hint</a> ( _(<span class="stringliteral">&quot;Performance issue.&quot;</span>),
<a name="l01712"></a>01712                                        _(<span class="stringliteral">&quot;All payees have been selected.  Grisbi will run faster without the \&quot;Detail payees used\&quot; option activated.&quot;</span>) ) );
<a name="l01713"></a>01713         <a class="code" href="gsb__data__report_8c.html#a589f69a29f71be146999e89481b03154">gsb_data_report_set_payee_detail_used</a> ( current_report_number,
<a name="l01714"></a>01714                                                 0 );
<a name="l01715"></a>01715     }
<a name="l01716"></a>01716 
<a name="l01717"></a>01717     <a class="code" href="gsb__data__report_8c.html#abd9675b402887c4bd3ef03822176834f">gsb_data_report_set_payee_show_payee_amount</a> ( current_report_number,
<a name="l01718"></a>01718                                                   gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_affiche_sous_total_tiers )));
<a name="l01719"></a>01719 
<a name="l01720"></a>01720     <a class="code" href="gsb__data__report_8c.html#a182247da4a5f2d536eda8e47b99a4af6">gsb_data_report_set_payee_currency</a> ( current_report_number,
<a name="l01721"></a>01721                                          <a class="code" href="gsb__currency_8c.html#a3abd39af3aafa4213a8ffbe74d5d6b10">gsb_currency_get_currency_from_combobox</a> (bouton_devise_tiers_etat));
<a name="l01722"></a>01722     <a class="code" href="gsb__data__report_8c.html#adf7170b9e6919b4e4cc4bf7c17884489">gsb_data_report_set_payee_show_name</a> ( current_report_number,
<a name="l01723"></a>01723                                           gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_afficher_noms_tiers )));
<a name="l01724"></a>01724 
<a name="l01725"></a>01725 
<a name="l01726"></a>01726 
<a name="l01727"></a>01727     <span class="comment">/* récupération du texte */</span>
<a name="l01728"></a>01728 
<a name="l01729"></a>01729     <a class="code" href="gsb__data__report_8c.html#a2fde1f7541c639ea299a80a1020a4090">gsb_data_report_set_text_comparison_used</a> ( current_report_number,
<a name="l01730"></a>01730                                                gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_utilise_texte )));
<a name="l01731"></a>01731 
<a name="l01732"></a>01732     <span class="comment">/* récupération de la liste des comparaisons de texte */</span>
<a name="l01733"></a>01733     <span class="comment">/*   il y a au moins une structure de créée, si celle si a l&#39;entrée txt et 2 montants vides, */</span>
<a name="l01734"></a>01734     <span class="comment">/* c&#39;est qu&#39;il n&#39;y a aucune liste */</span>
<a name="l01735"></a>01735 
<a name="l01736"></a>01736     <span class="comment">/*     text_comparison_number = GPOINTER_TO_INT (gsb_data_report_get_text_comparison_list (current_report_number)-&gt; data); */</span>
<a name="l01737"></a>01737 
<a name="l01738"></a>01738     <span class="comment">/* on a rentré au moins une comparaison */</span>
<a name="l01739"></a>01739     <span class="comment">/* on rempli les champs de la structure */</span>
<a name="l01740"></a>01740 
<a name="l01741"></a>01741     comparison_list = <a class="code" href="gsb__data__report_8c.html#acef51acc8cdd62ce33bf5bebdab0824d">gsb_data_report_get_text_comparison_list</a> (current_report_number);
<a name="l01742"></a>01742 
<a name="l01743"></a>01743     <span class="keywordflow">while</span> ( comparison_list )
<a name="l01744"></a>01744     {
<a name="l01745"></a>01745         <span class="keyword">const</span> gchar *string;
<a name="l01746"></a>01746         gint text_comparison_number;
<a name="l01747"></a>01747 
<a name="l01748"></a>01748         text_comparison_number = GPOINTER_TO_INT (comparison_list -&gt; data);
<a name="l01749"></a>01749 
<a name="l01750"></a>01750         <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report__text__comparison_8c.html#a55a45156d527aca803836805f7adbff5">gsb_data_report_text_comparison_get_button_link</a> (text_comparison_number))
<a name="l01751"></a>01751             <a class="code" href="gsb__data__report__text__comparison_8c.html#a567c2e8fee6656c84711b5c841837ac3">gsb_data_report_text_comparison_set_link_to_last_text_comparison</a> ( text_comparison_number,
<a name="l01752"></a>01752                                                                                GPOINTER_TO_INT ( g_object_get_data ( G_OBJECT ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__text__comparison_8c.html#a55a45156d527aca803836805f7adbff5">gsb_data_report_text_comparison_get_button_link</a> (text_comparison_number)) -&gt; menu_item ),
<a name="l01753"></a>01753                                                                                                                        <span class="stringliteral">&quot;no_lien&quot;</span> )));
<a name="l01754"></a>01754         <span class="keywordflow">else</span>
<a name="l01755"></a>01755             <a class="code" href="gsb__data__report__text__comparison_8c.html#a567c2e8fee6656c84711b5c841837ac3">gsb_data_report_text_comparison_set_link_to_last_text_comparison</a> ( text_comparison_number,
<a name="l01756"></a>01756                                                                                -1 );
<a name="l01757"></a>01757 
<a name="l01758"></a>01758         <a class="code" href="gsb__data__report__text__comparison_8c.html#aa1130b73bb1c2a7ddfa74a2942f6a159">gsb_data_report_text_comparison_set_field</a> ( text_comparison_number,
<a name="l01759"></a>01759                                                     GPOINTER_TO_INT ( g_object_get_data ( G_OBJECT ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__text__comparison_8c.html#a39245ed55201b9a0c7f4379f4354f5fa">gsb_data_report_text_comparison_get_button_field</a> (text_comparison_number)) -&gt; menu_item ),
<a name="l01760"></a>01760                                                                                             <span class="stringliteral">&quot;no_champ&quot;</span> )));
<a name="l01761"></a>01761         <a class="code" href="gsb__data__report__text__comparison_8c.html#a9cff82d129475de66e8e4fbe78ff569c">gsb_data_report_text_comparison_set_use_text</a> ( text_comparison_number,
<a name="l01762"></a>01762                                                        gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number))));
<a name="l01763"></a>01763         <a class="code" href="gsb__data__report__text__comparison_8c.html#ab02defea7727c6cec1d81d31bf64ebde">gsb_data_report_text_comparison_set_operator</a> ( text_comparison_number,
<a name="l01764"></a>01764                                                        GPOINTER_TO_INT ( g_object_get_data ( G_OBJECT ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__text__comparison_8c.html#af7aa72ef5007f9416ec1137ee5901834">gsb_data_report_text_comparison_get_button_operator</a> (text_comparison_number)) -&gt; menu_item ),
<a name="l01765"></a>01765                                                                                                <span class="stringliteral">&quot;no_operateur&quot;</span> )));
<a name="l01766"></a>01766 
<a name="l01767"></a>01767         <span class="keywordtype">string</span> = gtk_entry_get_text ( GTK_ENTRY (<a class="code" href="gsb__data__report__text__comparison_8c.html#a9127cedf50ca4d5230e9c69c833a1e87">gsb_data_report_text_comparison_get_entry_text</a> (text_comparison_number)));
<a name="l01768"></a>01768         <a class="code" href="gsb__data__report__text__comparison_8c.html#a4a76cff1d6c257cea41c735a4480afe8">gsb_data_report_text_comparison_set_text</a> ( text_comparison_number,
<a name="l01769"></a>01769                                                    <span class="keywordtype">string</span> );
<a name="l01770"></a>01770 
<a name="l01771"></a>01771         <a class="code" href="gsb__data__report__text__comparison_8c.html#a53c572b90eaa4b8c9ad1d8fd529c8ad5">gsb_data_report_text_comparison_set_first_comparison</a> ( text_comparison_number,
<a name="l01772"></a>01772                                                                GPOINTER_TO_INT ( g_object_get_data ( G_OBJECT ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__text__comparison_8c.html#aa1d41141505ae5ec058940503c77502c">gsb_data_report_text_comparison_get_button_first_comparison</a> (text_comparison_number)) -&gt; menu_item ),
<a name="l01773"></a>01773                                                                                                        <span class="stringliteral">&quot;no_comparateur&quot;</span> )));
<a name="l01774"></a>01774         <a class="code" href="gsb__data__report__text__comparison_8c.html#a21e8035c4f8bec87320b814d6251a7d4">gsb_data_report_text_comparison_set_link_first_to_second_part</a> ( text_comparison_number,
<a name="l01775"></a>01775                                                                         GPOINTER_TO_INT ( g_object_get_data ( G_OBJECT ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__text__comparison_8c.html#ae935aa748f908f852a8cf7e17c4c8c80">gsb_data_report_text_comparison_get_button_link_first_to_second_part</a> (text_comparison_number)) -&gt; menu_item ),
<a name="l01776"></a>01776                                                                                                                 <span class="stringliteral">&quot;no_lien&quot;</span> )));
<a name="l01777"></a>01777         <a class="code" href="gsb__data__report__text__comparison_8c.html#a864d1f692a587270130597a4e46160c6">gsb_data_report_text_comparison_set_second_comparison</a> ( text_comparison_number,
<a name="l01778"></a>01778                                                                 GPOINTER_TO_INT ( g_object_get_data ( G_OBJECT ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__text__comparison_8c.html#ac59873572d63412f35795f65988f9d9b">gsb_data_report_text_comparison_get_button_second_comparison</a> (text_comparison_number)) -&gt; menu_item ),
<a name="l01779"></a>01779                                                                                                         <span class="stringliteral">&quot;no_comparateur&quot;</span> )));
<a name="l01780"></a>01780         <a class="code" href="gsb__data__report__text__comparison_8c.html#a76926aaf68882b238b0555f7cdb26ffc">gsb_data_report_text_comparison_set_first_amount</a> ( text_comparison_number,
<a name="l01781"></a>01781                                                            <a class="code" href="utils__str_8c.html#a5653e4c704f0c344ca9d1549561f9cd3" title="Secured version of atoi.">utils_str_atoi</a> ( gtk_entry_get_text ( GTK_ENTRY (<a class="code" href="gsb__data__report__text__comparison_8c.html#a40e301a26e8349feb8b4b6f7b72ee87f">gsb_data_report_text_comparison_get_entry_first_amount</a> (text_comparison_number)))));
<a name="l01782"></a>01782         <a class="code" href="gsb__data__report__text__comparison_8c.html#a76aabed5bda5d92ddd0e4a8fc43ab208">gsb_data_report_text_comparison_set_second_amount</a> ( text_comparison_number,
<a name="l01783"></a>01783                                                             <a class="code" href="utils__str_8c.html#a5653e4c704f0c344ca9d1549561f9cd3" title="Secured version of atoi.">utils_str_atoi</a> (gtk_entry_get_text ( GTK_ENTRY (<a class="code" href="gsb__data__report__text__comparison_8c.html#a171d77b0c4ab46cd9a2468dc815da11a">gsb_data_report_text_comparison_get_entry_second_amount</a> (text_comparison_number)))));
<a name="l01784"></a>01784 
<a name="l01785"></a>01785         comparison_list = comparison_list -&gt; next;
<a name="l01786"></a>01786     }
<a name="l01787"></a>01787 
<a name="l01788"></a>01788     <span class="comment">/* récupération du montant */</span>
<a name="l01789"></a>01789 
<a name="l01790"></a>01790     <a class="code" href="gsb__data__report_8c.html#a2859e07734283fd656f77dbb1442b965">gsb_data_report_set_amount_comparison_used</a> ( current_report_number,
<a name="l01791"></a>01791                                                  gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_utilise_montant )));
<a name="l01792"></a>01792     <a class="code" href="gsb__data__report_8c.html#a7afbedc46c35638211fefa91a96f2685">gsb_data_report_set_amount_comparison_currency</a> ( current_report_number,
<a name="l01793"></a>01793                                                      <a class="code" href="gsb__currency_8c.html#a3abd39af3aafa4213a8ffbe74d5d6b10">gsb_currency_get_currency_from_combobox</a> (bouton_devise_montant_etat));
<a name="l01794"></a>01794 
<a name="l01795"></a>01795     <span class="comment">/* récupération de la liste des comparaisons de montant */</span>
<a name="l01796"></a>01796     <span class="comment">/*   il y a au moins une structure de créé, si celle si a les 2 montants vides, */</span>
<a name="l01797"></a>01797     <span class="comment">/* c&#39;est qu&#39;il n&#39;y a aucune liste */</span>
<a name="l01798"></a>01798 
<a name="l01799"></a>01799     amount_comparison_number = GPOINTER_TO_INT (<a class="code" href="gsb__data__report_8c.html#a67893d2be0b2f657aa1c41211820280b">gsb_data_report_get_amount_comparison_list</a> (current_report_number)-&gt; data);
<a name="l01800"></a>01800 
<a name="l01801"></a>01801     <span class="keywordflow">if</span> ( g_slist_length ( <a class="code" href="gsb__data__report_8c.html#a67893d2be0b2f657aa1c41211820280b">gsb_data_report_get_amount_comparison_list</a> (current_report_number)) == 1
<a name="l01802"></a>01802          &amp;&amp;
<a name="l01803"></a>01803          !strlen ( gtk_entry_get_text ( GTK_ENTRY (<a class="code" href="gsb__data__report__amout__comparison_8c.html#ad1e7549b875594564bb074c9bae69bbf">gsb_data_report_amount_comparison_get_entry_first_amount</a> (amount_comparison_number))))
<a name="l01804"></a>01804          &amp;&amp;
<a name="l01805"></a>01805          !strlen ( gtk_entry_get_text ( GTK_ENTRY (<a class="code" href="gsb__data__report__amout__comparison_8c.html#a38d12eff5d62a0cc0befb2655d46c96d">gsb_data_report_amount_comparison_get_entry_second_amount</a> (amount_comparison_number))))
<a name="l01806"></a>01806          &amp;&amp;
<a name="l01807"></a>01807          GTK_WIDGET_SENSITIVE (<a class="code" href="gsb__data__report__amout__comparison_8c.html#ad1e7549b875594564bb074c9bae69bbf">gsb_data_report_amount_comparison_get_entry_first_amount</a> (amount_comparison_number))
<a name="l01808"></a>01808          &amp;&amp;
<a name="l01809"></a>01809          GTK_WIDGET_SENSITIVE (<a class="code" href="gsb__data__report__amout__comparison_8c.html#a38d12eff5d62a0cc0befb2655d46c96d">gsb_data_report_amount_comparison_get_entry_second_amount</a> (amount_comparison_number)))
<a name="l01810"></a>01810     {
<a name="l01811"></a>01811         g_slist_free ( <a class="code" href="gsb__data__report_8c.html#a67893d2be0b2f657aa1c41211820280b">gsb_data_report_get_amount_comparison_list</a> (current_report_number));
<a name="l01812"></a>01812         <a class="code" href="gsb__data__report_8c.html#a6eb5115463b2a01bb92cc146d8892ba8">gsb_data_report_set_amount_comparison_list</a> ( current_report_number,
<a name="l01813"></a>01813                                                      NULL );
<a name="l01814"></a>01814     }
<a name="l01815"></a>01815     <span class="keywordflow">else</span>
<a name="l01816"></a>01816     {
<a name="l01817"></a>01817         <span class="comment">/* on a rentré au moins une comparaison */</span>
<a name="l01818"></a>01818         <span class="comment">/* on rempli les champs de la structure */</span>
<a name="l01819"></a>01819 
<a name="l01820"></a>01820         GSList *comparison_list;
<a name="l01821"></a>01821 
<a name="l01822"></a>01822         comparison_list = <a class="code" href="gsb__data__report_8c.html#a67893d2be0b2f657aa1c41211820280b">gsb_data_report_get_amount_comparison_list</a> (current_report_number);
<a name="l01823"></a>01823 
<a name="l01824"></a>01824         <span class="keywordflow">while</span> ( comparison_list )
<a name="l01825"></a>01825         {
<a name="l01826"></a>01826             amount_comparison_number = GPOINTER_TO_INT (comparison_list -&gt; data);
<a name="l01827"></a>01827 
<a name="l01828"></a>01828             <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report__amout__comparison_8c.html#a3df5f1bbd7f70036d8c5614ae41e2bba">gsb_data_report_amount_comparison_get_button_link</a> (amount_comparison_number))
<a name="l01829"></a>01829                 <a class="code" href="gsb__data__report__amout__comparison_8c.html#ab8f7b5f344f111a9b4aee3715c2c3935">gsb_data_report_amount_comparison_set_link_to_last_amount_comparison</a> ( amount_comparison_number,
<a name="l01830"></a>01830                                                                                        GPOINTER_TO_INT ( g_object_get_data ( G_OBJECT ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__amout__comparison_8c.html#a3df5f1bbd7f70036d8c5614ae41e2bba">gsb_data_report_amount_comparison_get_button_link</a> (amount_comparison_number)) -&gt; menu_item ),
<a name="l01831"></a>01831                                                                                                                                <span class="stringliteral">&quot;no_lien&quot;</span> )));
<a name="l01832"></a>01832             <span class="keywordflow">else</span>
<a name="l01833"></a>01833                 <a class="code" href="gsb__data__report__amout__comparison_8c.html#ab8f7b5f344f111a9b4aee3715c2c3935">gsb_data_report_amount_comparison_set_link_to_last_amount_comparison</a> ( amount_comparison_number,
<a name="l01834"></a>01834                                                                                        -1 );
<a name="l01835"></a>01835 
<a name="l01836"></a>01836             <a class="code" href="gsb__data__report__amout__comparison_8c.html#ad95131531a1d7eb83d7ca876a705f343">gsb_data_report_amount_comparison_set_first_comparison</a> ( amount_comparison_number,
<a name="l01837"></a>01837                                                                      GPOINTER_TO_INT ( g_object_get_data ( G_OBJECT ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__amout__comparison_8c.html#a1d62e1b412dd1dc32d328883eeedfb97">gsb_data_report_amount_comparison_get_button_first_comparison</a> (amount_comparison_number)) -&gt; menu_item ),
<a name="l01838"></a>01838                                                                                                              <span class="stringliteral">&quot;no_comparateur&quot;</span> )));
<a name="l01839"></a>01839 
<a name="l01840"></a>01840             <a class="code" href="gsb__data__report__amout__comparison_8c.html#ad8583bac5e54d94dc888e53fe8e66809">gsb_data_report_amount_comparison_set_link_first_to_second_part</a> ( amount_comparison_number,
<a name="l01841"></a>01841                                                                               GPOINTER_TO_INT ( g_object_get_data ( G_OBJECT ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__amout__comparison_8c.html#a21371b634e4c92ceef60b4ff32d288c5">gsb_data_report_amount_comparison_get_button_link_first_to_second_part</a> (amount_comparison_number)) -&gt; menu_item ),
<a name="l01842"></a>01842                                                                                                                       <span class="stringliteral">&quot;no_lien&quot;</span> )));
<a name="l01843"></a>01843             <a class="code" href="gsb__data__report__amout__comparison_8c.html#aad69a64a4812fbcd158c43adecfab362">gsb_data_report_amount_comparison_set_second_comparison</a> ( amount_comparison_number,
<a name="l01844"></a>01844                                                                       GPOINTER_TO_INT ( g_object_get_data ( G_OBJECT ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__amout__comparison_8c.html#a41fcd19451f3230eb9737b5ee45b1366">gsb_data_report_amount_comparison_get_button_second_comparison</a> (amount_comparison_number)) -&gt; menu_item ),
<a name="l01845"></a>01845                                                                                                               <span class="stringliteral">&quot;no_comparateur&quot;</span> )));
<a name="l01846"></a>01846             <a class="code" href="gsb__data__report__amout__comparison_8c.html#a1c4b398e3b439b02ce732e3ac21dc9e5">gsb_data_report_amount_comparison_set_first_amount</a> ( amount_comparison_number,
<a name="l01847"></a>01847                                                                  <a class="code" href="gsb__real_8c.html#ada8e5c9cbdb5ccab2c0bbc6e52b04efe">gsb_real_get_from_string</a> (gtk_entry_get_text ( GTK_ENTRY (<a class="code" href="gsb__data__report__amout__comparison_8c.html#ad1e7549b875594564bb074c9bae69bbf">gsb_data_report_amount_comparison_get_entry_first_amount</a> (amount_comparison_number)))));
<a name="l01848"></a>01848             <a class="code" href="gsb__data__report__amout__comparison_8c.html#a2d5858a8324ffa1770b7b2e7d267b6a6">gsb_data_report_amount_comparison_set_second_amount</a> ( amount_comparison_number,
<a name="l01849"></a>01849                                                                   <a class="code" href="gsb__real_8c.html#ada8e5c9cbdb5ccab2c0bbc6e52b04efe">gsb_real_get_from_string</a> (gtk_entry_get_text ( GTK_ENTRY (<a class="code" href="gsb__data__report__amout__comparison_8c.html#a38d12eff5d62a0cc0befb2655d46c96d">gsb_data_report_amount_comparison_get_entry_second_amount</a> (amount_comparison_number)))));
<a name="l01850"></a>01850 
<a name="l01851"></a>01851             comparison_list = comparison_list -&gt; next;
<a name="l01852"></a>01852         }
<a name="l01853"></a>01853     }
<a name="l01854"></a>01854 
<a name="l01855"></a>01855     <a class="code" href="gsb__data__report_8c.html#a1750e8d64c30f9fde6862653b0b32d57">gsb_data_report_set_amount_comparison_only_report_non_null</a> ( current_report_number,
<a name="l01856"></a>01856                                                                  gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_exclure_ope_nulles_etat )));
<a name="l01857"></a>01857 
<a name="l01858"></a>01858     <span class="comment">/* récupération des modes de paiement */</span>
<a name="l01859"></a>01859 
<a name="l01860"></a>01860     <a class="code" href="gsb__data__report_8c.html#ac09945d5127067695248a15d0d451c6f">gsb_data_report_set_method_of_payment_used</a> ( current_report_number,
<a name="l01861"></a>01861                                                  gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_detaille_mode_paiement_etat )));
<a name="l01862"></a>01862 
<a name="l01863"></a>01863     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#a3ceac05c6ab8d63dadc7c6245368874e">gsb_data_report_get_method_of_payment_list</a> (current_report_number))
<a name="l01864"></a>01864     {
<a name="l01865"></a>01865         g_slist_free ( <a class="code" href="gsb__data__report_8c.html#a3ceac05c6ab8d63dadc7c6245368874e">gsb_data_report_get_method_of_payment_list</a> (current_report_number));
<a name="l01866"></a>01866         <a class="code" href="gsb__data__report_8c.html#a562272db6e3cedb588ddc4369fd600ca">gsb_data_report_set_method_of_payment_list</a> ( current_report_number,
<a name="l01867"></a>01867                                                      NULL );
<a name="l01868"></a>01868     }
<a name="l01869"></a>01869 
<a name="l01870"></a>01870     list_tmp = GTK_CLIST ( liste_mode_paiement_etat ) -&gt; selection;
<a name="l01871"></a>01871 
<a name="l01872"></a>01872     <span class="keywordflow">while</span> ( list_tmp )
<a name="l01873"></a>01873     {
<a name="l01874"></a>01874         <a class="code" href="gsb__data__report_8c.html#a562272db6e3cedb588ddc4369fd600ca">gsb_data_report_set_method_of_payment_list</a> ( current_report_number,
<a name="l01875"></a>01875                                                      g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a3ceac05c6ab8d63dadc7c6245368874e">gsb_data_report_get_method_of_payment_list</a> (current_report_number),
<a name="l01876"></a>01876                                                                       gtk_clist_get_row_data ( GTK_CLIST ( liste_mode_paiement_etat ),
<a name="l01877"></a>01877                                                                                                GPOINTER_TO_INT ( list_tmp -&gt; data ))));
<a name="l01878"></a>01878         list_tmp = list_tmp -&gt; next;
<a name="l01879"></a>01879     }
<a name="l01880"></a>01880 
<a name="l01881"></a>01881     <span class="comment">/*   si tous les modes de paiement ont été sélectionnés, on met utilise_mode_paiement à 0 (plus rapide) */</span>
<a name="l01882"></a>01882 
<a name="l01883"></a>01883     <span class="keywordflow">if</span> ( ( g_list_length ( GTK_CLIST ( liste_mode_paiement_etat ) -&gt; selection )
<a name="l01884"></a>01884            ==
<a name="l01885"></a>01885            GTK_CLIST ( liste_mode_paiement_etat ) -&gt; rows )
<a name="l01886"></a>01886          &amp;&amp;
<a name="l01887"></a>01887          <a class="code" href="gsb__data__report_8c.html#aea652d5031272334eb6d0d6dba670f2d">gsb_data_report_get_method_of_payment_used</a> (current_report_number))
<a name="l01888"></a>01888     {
<a name="l01889"></a>01889         <a class="code" href="dialog_8c.html#ac3e0ed9412c48edad2cd0dad89c7d566">dialogue_special</a> ( GTK_MESSAGE_INFO,
<a name="l01890"></a>01890                            <a class="code" href="dialog_8c.html#a84758de40aa2807a4e5ebd97ede7df23">make_hint</a> ( _(<span class="stringliteral">&quot;Performance issue.&quot;</span>),
<a name="l01891"></a>01891                                        _(<span class="stringliteral">&quot;All methods of payment have been selected.  Grisbi will run faster without the \&quot;Detail methods of payment used\&quot; option activated.&quot;</span>) ) );
<a name="l01892"></a>01892         <a class="code" href="gsb__data__report_8c.html#ac09945d5127067695248a15d0d451c6f">gsb_data_report_set_method_of_payment_used</a> ( current_report_number,
<a name="l01893"></a>01893                                                      0 );
<a name="l01894"></a>01894     }
<a name="l01895"></a>01895 
<a name="l01896"></a>01896     <span class="comment">/* update the payee combofix in the form, to add that report if asked */</span>
<a name="l01897"></a>01897     <a class="code" href="tiers__onglet_8c.html#a83502a3974423bccf9982335c494e683">gsb_payee_update_combofix</a> ();
<a name="l01898"></a>01898 
<a name="l01899"></a>01899     <span class="keywordflow">if</span> ( <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a9d0fa9057da603e64a601d69d7bf2b51">modification_fichier</a> == 0 )
<a name="l01900"></a>01900         <a class="code" href="traitement__variables_8c.html#aa4084b9e508b1d1fea1d09c6b6208021">modification_fichier</a> ( TRUE );
<a name="l01901"></a>01901     <span class="comment">/* on réaffiche l&#39;état */</span>
<a name="l01902"></a>01902 
<a name="l01903"></a>01903     <a class="code" href="etats__calculs_8c.html#ad2852216e5f8cba23c06865a85cc9bac">rafraichissement_etat</a> ( <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ());
<a name="l01904"></a>01904 
<a name="l01905"></a>01905     <span class="comment">/* on repasse à la 1ère page du notebook */</span>
<a name="l01906"></a>01906     gtk_notebook_set_current_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ae92ea175fa6b21c845c3a0971646f6d5">notebook_etats</a> ),
<a name="l01907"></a>01907                             0 );
<a name="l01908"></a>01908     gtk_widget_set_sensitive ( <a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>, TRUE );
<a name="l01909"></a>01909 
<a name="l01910"></a>01910     <a class="code" href="navigation_8c.html#adbca6d230d0584e10054913fbce3caf1">gsb_gui_navigation_update_report</a> ( <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ());
<a name="l01911"></a>01911 }
<a name="l01912"></a>01912 <span class="comment">/******************************************************************************/</span>
<a name="l01913"></a>01913 
<a name="l01914"></a>01914 
<a name="l01915"></a>01915 
<a name="l01925"></a>01925 gboolean report_tree_update_style ( gint * page_number )
<a name="l01926"></a>01926 {
<a name="l01927"></a>01927 
<a name="l01928"></a>01928     gtk_tree_model_foreach ( GTK_TREE_MODEL(report_tree_model),
<a name="l01929"></a>01929                              (GtkTreeModelForeachFunc) report_tree_update_style_iterator,
<a name="l01930"></a>01930                              GINT_TO_POINTER ( page_number ) );
<a name="l01931"></a>01931 
<a name="l01932"></a>01932     <span class="keywordflow">return</span> FALSE;
<a name="l01933"></a>01933 }
<a name="l01934"></a>01934 
<a name="l01935"></a>01935 
<a name="l01936"></a>01936 
<a name="l01948"></a>01948 gboolean report_tree_update_style_iterator ( GtkTreeModel * tree_model,
<a name="l01949"></a>01949                                              GtkTreePath *path,
<a name="l01950"></a>01950                                              GtkTreeIter *iter,
<a name="l01951"></a>01951                                              gpointer data )
<a name="l01952"></a>01952 {
<a name="l01953"></a>01953     gint page_number = GPOINTER_TO_INT(data);
<a name="l01954"></a>01954     gint iter_page_number;
<a name="l01955"></a>01955     gint italic = FALSE;
<a name="l01956"></a>01956 
<a name="l01957"></a>01957     gtk_tree_model_get ( tree_model, iter, <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea982e07298ec9d0be2f6c398bfae27fd2">REPORT_TREE_PAGE_COLUMN</a>, &amp;iter_page_number, -1 );
<a name="l01958"></a>01958 
<a name="l01959"></a>01959     <span class="keywordflow">if</span> ( iter_page_number != page_number )
<a name="l01960"></a>01960     {
<a name="l01961"></a>01961         <span class="keywordflow">return</span> FALSE;
<a name="l01962"></a>01962     }
<a name="l01963"></a>01963 
<a name="l01964"></a>01964     <span class="keywordflow">switch</span> ( iter_page_number )
<a name="l01965"></a>01965     {
<a name="l01966"></a>01966         <span class="comment">/* rien pour l&#39;instant */</span>
<a name="l01967"></a>01967         <span class="keywordflow">break</span>;
<a name="l01968"></a>01968 
<a name="l01969"></a>01969         <span class="keywordflow">case</span> 1:
<a name="l01970"></a>01970             <span class="comment">/* page des virements */</span>
<a name="l01971"></a>01971             <span class="keywordflow">if</span> ( !gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_non_inclusion_virements )))
<a name="l01972"></a>01972                 italic = TRUE;
<a name="l01973"></a>01973             <span class="keywordflow">break</span>;
<a name="l01974"></a>01974 
<a name="l01975"></a>01975         <span class="keywordflow">case</span> 2:
<a name="l01976"></a>01976             <span class="comment">/* page des comptes */</span>
<a name="l01977"></a>01977 
<a name="l01978"></a>01978             <span class="keywordflow">if</span> ( gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_detaille_comptes_etat )))
<a name="l01979"></a>01979                 italic = TRUE;
<a name="l01980"></a>01980             <span class="keywordflow">break</span>;
<a name="l01981"></a>01981 
<a name="l01982"></a>01982         <span class="keywordflow">case</span> 3:
<a name="l01983"></a>01983             <span class="comment">/* page des tiers */</span>
<a name="l01984"></a>01984 
<a name="l01985"></a>01985             <span class="keywordflow">if</span> ( gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_detaille_tiers_etat )))
<a name="l01986"></a>01986                 italic = TRUE;
<a name="l01987"></a>01987             <span class="keywordflow">break</span>;
<a name="l01988"></a>01988 
<a name="l01989"></a>01989         <span class="keywordflow">case</span> 4:
<a name="l01990"></a>01990             <span class="comment">/* page des catégories */</span>
<a name="l01991"></a>01991 
<a name="l01992"></a>01992             <span class="keywordflow">if</span> ( gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( button_detail_categ )))
<a name="l01993"></a>01993                 italic = TRUE;
<a name="l01994"></a>01994             <span class="keywordflow">break</span>;
<a name="l01995"></a>01995 
<a name="l01996"></a>01996         <span class="keywordflow">case</span> 5:
<a name="l01997"></a>01997             <span class="comment">/* page des ib */</span>
<a name="l01998"></a>01998 
<a name="l01999"></a>01999             <span class="keywordflow">if</span> ( gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_detaille_ib_etat )))
<a name="l02000"></a>02000                 italic = TRUE;
<a name="l02001"></a>02001             <span class="keywordflow">break</span>;
<a name="l02002"></a>02002 
<a name="l02003"></a>02003         <span class="keywordflow">case</span> 6:
<a name="l02004"></a>02004             <span class="comment">/* page des textes */</span>
<a name="l02005"></a>02005 
<a name="l02006"></a>02006             <span class="keywordflow">if</span> ( gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_utilise_texte )))
<a name="l02007"></a>02007                 italic = TRUE;
<a name="l02008"></a>02008             <span class="keywordflow">break</span>;
<a name="l02009"></a>02009 
<a name="l02010"></a>02010         <span class="keywordflow">case</span> 7:
<a name="l02011"></a>02011             <span class="comment">/* page des montants */</span>
<a name="l02012"></a>02012 
<a name="l02013"></a>02013             <span class="keywordflow">if</span> ( gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_utilise_montant ))
<a name="l02014"></a>02014                  ||
<a name="l02015"></a>02015                  gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_exclure_ope_nulles_etat )))
<a name="l02016"></a>02016                 italic = TRUE;
<a name="l02017"></a>02017             <span class="keywordflow">break</span>;
<a name="l02018"></a>02018 
<a name="l02019"></a>02019         <span class="keywordflow">case</span> 8:
<a name="l02020"></a>02020             <span class="comment">/* page des modes de paiement */</span>
<a name="l02021"></a>02021 
<a name="l02022"></a>02022             <span class="keywordflow">if</span> ( gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_detaille_mode_paiement_etat )))
<a name="l02023"></a>02023                 italic = TRUE;
<a name="l02024"></a>02024             <span class="keywordflow">break</span>;
<a name="l02025"></a>02025 
<a name="l02026"></a>02026         <span class="keywordflow">case</span> 9:
<a name="l02027"></a>02027             <span class="comment">/* page des divers */</span>
<a name="l02028"></a>02028 
<a name="l02029"></a>02029             <span class="keywordflow">if</span> ( !gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_opes_r_et_non_r_etat ))
<a name="l02030"></a>02030                  ||
<a name="l02031"></a>02031                  gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON ( bouton_pas_detailler_ventilation )))
<a name="l02032"></a>02032                 italic = TRUE;
<a name="l02033"></a>02033             <span class="keywordflow">break</span>;
<a name="l02034"></a>02034     }
<a name="l02035"></a>02035 
<a name="l02036"></a>02036     gtk_tree_store_set ( GTK_TREE_STORE ( tree_model ),
<a name="l02037"></a>02037                          iter, <a class="code" href="etats__config_8h.html#a2e661ed8f308470f78cccc12b0f8c5cea1b94f223d3957170a3c85914fdb0b2ae">REPORT_TREE_ITALIC_COLUMN</a>, italic,
<a name="l02038"></a>02038                          -1 );
<a name="l02039"></a>02039 
<a name="l02040"></a>02040     <span class="keywordflow">return</span> TRUE;
<a name="l02041"></a>02041 }
<a name="l02042"></a>02042 
<a name="l02043"></a>02043 
<a name="l02044"></a>02044 
<a name="l02045"></a>02045 GtkWidget *onglet_etat_dates ( <span class="keywordtype">void</span> )
<a name="l02046"></a>02046 {
<a name="l02047"></a>02047     GtkWidget *scrolled_window, *separateur, *vbox;
<a name="l02048"></a>02048     GtkWidget *hbox, *label, *frame, *hbox_onglet;
<a name="l02049"></a>02049     GtkWidget *vbox_onglet;
<a name="l02050"></a>02050     gchar **plages_dates;
<a name="l02051"></a>02051     gint i;
<a name="l02052"></a>02052 
<a name="l02053"></a>02053     vbox_onglet = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Date selection&quot;</span>), <span class="stringliteral">&quot;scheduler.png&quot;</span> );
<a name="l02054"></a>02054     gtk_widget_show ( vbox_onglet );
<a name="l02055"></a>02055 
<a name="l02056"></a>02056     hbox_onglet = gtk_hbox_new ( FALSE,
<a name="l02057"></a>02057                                  5 );
<a name="l02058"></a>02058     gtk_widget_show ( hbox_onglet );
<a name="l02059"></a>02059     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l02060"></a>02060                          hbox_onglet,
<a name="l02061"></a>02061                          TRUE,
<a name="l02062"></a>02062                          TRUE,
<a name="l02063"></a>02063                          0 );
<a name="l02064"></a>02064 
<a name="l02065"></a>02065 
<a name="l02066"></a>02066     <span class="comment">/* mise en place de la plage de dates */</span>
<a name="l02067"></a>02067 
<a name="l02068"></a>02068     vbox = gtk_vbox_new ( FALSE,
<a name="l02069"></a>02069                           5 );
<a name="l02070"></a>02070     gtk_box_pack_start ( GTK_BOX ( hbox_onglet ),
<a name="l02071"></a>02071                          vbox,
<a name="l02072"></a>02072                          TRUE,
<a name="l02073"></a>02073                          TRUE,
<a name="l02074"></a>02074                          0 );
<a name="l02075"></a>02075     gtk_widget_show ( vbox );
<a name="l02076"></a>02076 
<a name="l02077"></a>02077     radio_button_utilise_dates = gtk_radio_button_new_with_label ( NULL,
<a name="l02078"></a>02078                                                                    _(<span class="stringliteral">&quot;Use dates ranges&quot;</span>) );
<a name="l02079"></a>02079     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l02080"></a>02080                          radio_button_utilise_dates,
<a name="l02081"></a>02081                          FALSE,
<a name="l02082"></a>02082                          FALSE,
<a name="l02083"></a>02083                          0 );
<a name="l02084"></a>02084     gtk_widget_show ( radio_button_utilise_dates );
<a name="l02085"></a>02085 
<a name="l02086"></a>02086     <span class="comment">/* on met en dessous une liste avec les plages de date proposées */</span>
<a name="l02087"></a>02087 
<a name="l02088"></a>02088     frame = gtk_frame_new (NULL);
<a name="l02089"></a>02089     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l02090"></a>02090                          frame,
<a name="l02091"></a>02091                          TRUE,
<a name="l02092"></a>02092                          TRUE,
<a name="l02093"></a>02093                          0 );
<a name="l02094"></a>02094     gtk_widget_show ( frame );
<a name="l02095"></a>02095 
<a name="l02096"></a>02096     vbox_utilisation_date = gtk_vbox_new ( FALSE, 5 );
<a name="l02097"></a>02097     gtk_container_set_border_width ( GTK_CONTAINER ( vbox_utilisation_date ),
<a name="l02098"></a>02098                                      10 );
<a name="l02099"></a>02099     gtk_container_add ( GTK_CONTAINER ( frame ),
<a name="l02100"></a>02100                         vbox_utilisation_date );
<a name="l02101"></a>02101     gtk_widget_show ( vbox_utilisation_date );
<a name="l02102"></a>02102 
<a name="l02103"></a>02103     <span class="comment">/* on met la connection pour rendre sensitif cette frame */</span>
<a name="l02104"></a>02104 
<a name="l02105"></a>02105     g_signal_connect ( G_OBJECT ( radio_button_utilise_dates ),
<a name="l02106"></a>02106                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l02107"></a>02107                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l02108"></a>02108                          vbox_utilisation_date );
<a name="l02109"></a>02109 
<a name="l02110"></a>02110     scrolled_window = gtk_scrolled_window_new ( FALSE,
<a name="l02111"></a>02111                                                 FALSE );
<a name="l02112"></a>02112     gtk_scrolled_window_set_policy ( GTK_SCROLLED_WINDOW ( scrolled_window ),
<a name="l02113"></a>02113                                      GTK_POLICY_AUTOMATIC,
<a name="l02114"></a>02114                                      GTK_POLICY_AUTOMATIC );
<a name="l02115"></a>02115     gtk_box_pack_start ( GTK_BOX ( vbox_utilisation_date ),
<a name="l02116"></a>02116                          scrolled_window,
<a name="l02117"></a>02117                          TRUE,
<a name="l02118"></a>02118                          TRUE,
<a name="l02119"></a>02119                          0 );
<a name="l02120"></a>02120     gtk_widget_show ( scrolled_window );
<a name="l02121"></a>02121 
<a name="l02122"></a>02122 
<a name="l02123"></a>02123     liste_plages_dates_etat = gtk_clist_new ( 1 );
<a name="l02124"></a>02124     gtk_clist_set_column_auto_resize ( GTK_CLIST ( liste_plages_dates_etat ),
<a name="l02125"></a>02125                                        0,
<a name="l02126"></a>02126                                        TRUE );
<a name="l02127"></a>02127     g_signal_connect ( G_OBJECT ( liste_plages_dates_etat ),
<a name="l02128"></a>02128                          <span class="stringliteral">&quot;button_press_event&quot;</span>,
<a name="l02129"></a>02129                          G_CALLBACK ( click_liste_etat ),
<a name="l02130"></a>02130                          NULL );
<a name="l02131"></a>02131     gtk_container_add ( GTK_CONTAINER ( scrolled_window ),
<a name="l02132"></a>02132                         liste_plages_dates_etat );
<a name="l02133"></a>02133     gtk_widget_show ( liste_plages_dates_etat );
<a name="l02134"></a>02134 
<a name="l02135"></a>02135     <span class="comment">/* on remplit la liste des dates */</span>
<a name="l02136"></a>02136 
<a name="l02137"></a>02137     plages_dates = <a class="code" href="etats__config_8c.html#ab8e3ed1424ff4242d1e9df58aad68eb1">liste_plages_dates</a>;
<a name="l02138"></a>02138 
<a name="l02139"></a>02139     i = 0;
<a name="l02140"></a>02140 
<a name="l02141"></a>02141     <span class="keywordflow">while</span> ( plages_dates[i] )
<a name="l02142"></a>02142     {
<a name="l02143"></a>02143         gint row;
<a name="l02144"></a>02144         gchar * plage = _(plages_dates[i]);
<a name="l02145"></a>02145 
<a name="l02146"></a>02146         row = gtk_clist_append ( GTK_CLIST ( liste_plages_dates_etat ),
<a name="l02147"></a>02147                                    &amp;plage );
<a name="l02148"></a>02148         i++;
<a name="l02149"></a>02149     }
<a name="l02150"></a>02150 
<a name="l02151"></a>02151     <span class="comment">/* séparation gauche-droite */</span>
<a name="l02152"></a>02152 
<a name="l02153"></a>02153     separateur = gtk_vseparator_new ();
<a name="l02154"></a>02154     gtk_box_pack_start ( GTK_BOX ( hbox_onglet ),
<a name="l02155"></a>02155                          separateur,
<a name="l02156"></a>02156                          FALSE,
<a name="l02157"></a>02157                          FALSE,
<a name="l02158"></a>02158                          0 );
<a name="l02159"></a>02159     gtk_widget_show ( separateur );
<a name="l02160"></a>02160 
<a name="l02161"></a>02161 
<a name="l02162"></a>02162     <span class="comment">/*   on met en forme la partie de droite : utilisation des exercices */</span>
<a name="l02163"></a>02163 
<a name="l02164"></a>02164     vbox = gtk_vbox_new ( FALSE,
<a name="l02165"></a>02165                           5 );
<a name="l02166"></a>02166     gtk_box_pack_start ( GTK_BOX ( hbox_onglet ),
<a name="l02167"></a>02167                          vbox,
<a name="l02168"></a>02168                          TRUE,
<a name="l02169"></a>02169                          TRUE,
<a name="l02170"></a>02170                          0 );
<a name="l02171"></a>02171     gtk_widget_show ( vbox );
<a name="l02172"></a>02172 
<a name="l02173"></a>02173     radio_button_utilise_exo = gtk_radio_button_new_with_label ( gtk_radio_button_get_group ( GTK_RADIO_BUTTON ( radio_button_utilise_dates )),
<a name="l02174"></a>02174                                                                  _(<span class="stringliteral">&quot;Use financial years&quot;</span>) );
<a name="l02175"></a>02175     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l02176"></a>02176                          radio_button_utilise_exo,
<a name="l02177"></a>02177                          FALSE,
<a name="l02178"></a>02178                          FALSE,
<a name="l02179"></a>02179                          0 );
<a name="l02180"></a>02180     gtk_widget_show ( radio_button_utilise_exo );
<a name="l02181"></a>02181 
<a name="l02182"></a>02182     <span class="comment">/* on met la liste des exos sous ce radio button */</span>
<a name="l02183"></a>02183 
<a name="l02184"></a>02184     frame = gtk_frame_new ( FALSE );
<a name="l02185"></a>02185     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l02186"></a>02186                          frame,
<a name="l02187"></a>02187                          TRUE,
<a name="l02188"></a>02188                          TRUE,
<a name="l02189"></a>02189                          0 );
<a name="l02190"></a>02190     gtk_widget_show ( frame );
<a name="l02191"></a>02191 
<a name="l02192"></a>02192 
<a name="l02193"></a>02193     <span class="comment">/* on met la connection pour rendre sensitif cette frame */</span>
<a name="l02194"></a>02194 
<a name="l02195"></a>02195     g_signal_connect ( G_OBJECT (radio_button_utilise_exo ),
<a name="l02196"></a>02196                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l02197"></a>02197                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l02198"></a>02198                          frame );
<a name="l02199"></a>02199 
<a name="l02200"></a>02200     vbox_utilisation_exo = gtk_vbox_new ( FALSE, 5 );
<a name="l02201"></a>02201     gtk_container_set_border_width ( GTK_CONTAINER ( vbox_utilisation_exo ),
<a name="l02202"></a>02202                                      10 );
<a name="l02203"></a>02203     gtk_container_add ( GTK_CONTAINER ( frame ),
<a name="l02204"></a>02204                         vbox_utilisation_exo );
<a name="l02205"></a>02205     gtk_widget_show ( vbox_utilisation_exo );
<a name="l02206"></a>02206 
<a name="l02207"></a>02207 
<a name="l02208"></a>02208     <span class="comment">/*   on met le détail, exo courant ou précédent */</span>
<a name="l02209"></a>02209 
<a name="l02210"></a>02210     bouton_exo_tous = gtk_radio_button_new_with_label ( NULL,
<a name="l02211"></a>02211                                                         _(<span class="stringliteral">&quot;All financial years&quot;</span>));
<a name="l02212"></a>02212     gtk_box_pack_start ( GTK_BOX ( vbox_utilisation_exo ),
<a name="l02213"></a>02213                          bouton_exo_tous,
<a name="l02214"></a>02214                          FALSE,
<a name="l02215"></a>02215                          FALSE,
<a name="l02216"></a>02216                          0 );
<a name="l02217"></a>02217     gtk_widget_show ( bouton_exo_tous );
<a name="l02218"></a>02218 
<a name="l02219"></a>02219     bouton_exo_courant = gtk_radio_button_new_with_label ( gtk_radio_button_get_group ( GTK_RADIO_BUTTON ( bouton_exo_tous )),
<a name="l02220"></a>02220                                                            _(<span class="stringliteral">&quot;Current financial year&quot;</span>));
<a name="l02221"></a>02221     gtk_box_pack_start ( GTK_BOX ( vbox_utilisation_exo ),
<a name="l02222"></a>02222                          bouton_exo_courant,
<a name="l02223"></a>02223                          FALSE,
<a name="l02224"></a>02224                          FALSE,
<a name="l02225"></a>02225                          0 );
<a name="l02226"></a>02226     gtk_widget_show ( bouton_exo_courant );
<a name="l02227"></a>02227 
<a name="l02228"></a>02228     bouton_exo_precedent = gtk_radio_button_new_with_label ( gtk_radio_button_get_group ( GTK_RADIO_BUTTON ( bouton_exo_tous )),
<a name="l02229"></a>02229                                                              _(<span class="stringliteral">&quot;Former financial year&quot;</span>));
<a name="l02230"></a>02230     gtk_box_pack_start ( GTK_BOX ( vbox_utilisation_exo ),
<a name="l02231"></a>02231                          bouton_exo_precedent,
<a name="l02232"></a>02232                          FALSE,
<a name="l02233"></a>02233                          FALSE,
<a name="l02234"></a>02234                          0 );
<a name="l02235"></a>02235     gtk_widget_show ( bouton_exo_precedent );
<a name="l02236"></a>02236 
<a name="l02237"></a>02237 
<a name="l02238"></a>02238 
<a name="l02239"></a>02239     bouton_detaille_exo_etat = gtk_radio_button_new_with_label ( gtk_radio_button_get_group ( GTK_RADIO_BUTTON ( bouton_exo_tous )),
<a name="l02240"></a>02240                                                                  _(<span class="stringliteral">&quot;Detail financial years&quot;</span>) );
<a name="l02241"></a>02241     gtk_box_pack_start ( GTK_BOX ( vbox_utilisation_exo ),
<a name="l02242"></a>02242                          bouton_detaille_exo_etat,
<a name="l02243"></a>02243                          FALSE,
<a name="l02244"></a>02244                          FALSE,
<a name="l02245"></a>02245                          0 );
<a name="l02246"></a>02246     gtk_widget_show ( bouton_detaille_exo_etat );
<a name="l02247"></a>02247 
<a name="l02248"></a>02248     vbox_generale_exo_etat = gtk_vbox_new ( FALSE, 5 );
<a name="l02249"></a>02249     gtk_box_pack_start ( GTK_BOX ( vbox_utilisation_exo ),
<a name="l02250"></a>02250                          vbox_generale_exo_etat,
<a name="l02251"></a>02251                          TRUE,
<a name="l02252"></a>02252                          TRUE,
<a name="l02253"></a>02253                          0 );
<a name="l02254"></a>02254     gtk_widget_show ( vbox_generale_exo_etat );
<a name="l02255"></a>02255 
<a name="l02256"></a>02256     g_signal_connect ( G_OBJECT ( bouton_detaille_exo_etat ),
<a name="l02257"></a>02257                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l02258"></a>02258                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l02259"></a>02259                          vbox_generale_exo_etat );
<a name="l02260"></a>02260 
<a name="l02261"></a>02261     scrolled_window = gtk_scrolled_window_new ( FALSE,
<a name="l02262"></a>02262                                                 FALSE );
<a name="l02263"></a>02263     gtk_scrolled_window_set_policy ( GTK_SCROLLED_WINDOW ( scrolled_window ),
<a name="l02264"></a>02264                                      GTK_POLICY_AUTOMATIC,
<a name="l02265"></a>02265                                      GTK_POLICY_AUTOMATIC );
<a name="l02266"></a>02266     gtk_box_pack_start ( GTK_BOX ( vbox_generale_exo_etat ),
<a name="l02267"></a>02267                          scrolled_window,
<a name="l02268"></a>02268                          TRUE,
<a name="l02269"></a>02269                          TRUE,
<a name="l02270"></a>02270                          0 );
<a name="l02271"></a>02271     gtk_widget_show ( scrolled_window );
<a name="l02272"></a>02272 
<a name="l02273"></a>02273     liste_exo_etat = gtk_clist_new ( 1 );
<a name="l02274"></a>02274     gtk_clist_set_selection_mode ( GTK_CLIST ( liste_exo_etat ),
<a name="l02275"></a>02275                                    GTK_SELECTION_MULTIPLE );
<a name="l02276"></a>02276     gtk_clist_set_column_auto_resize ( GTK_CLIST ( liste_exo_etat ),
<a name="l02277"></a>02277                                        0,
<a name="l02278"></a>02278                                        TRUE );
<a name="l02279"></a>02279     gtk_container_add ( GTK_CONTAINER ( scrolled_window ),
<a name="l02280"></a>02280                         liste_exo_etat );
<a name="l02281"></a>02281     gtk_widget_show ( liste_exo_etat );
<a name="l02282"></a>02282 
<a name="l02283"></a>02283     <span class="comment">/* on remplit la liste des exercices */</span>
<a name="l02284"></a>02284 
<a name="l02285"></a>02285     remplissage_liste_exo_etats ();
<a name="l02286"></a>02286 
<a name="l02287"></a>02287 
<a name="l02288"></a>02288     <span class="comment">/* on met ensuite la date perso de début */</span>
<a name="l02289"></a>02289 
<a name="l02290"></a>02290     hbox = gtk_hbox_new ( FALSE,
<a name="l02291"></a>02291                           5 );
<a name="l02292"></a>02292     gtk_box_pack_start ( GTK_BOX ( vbox_utilisation_date ),
<a name="l02293"></a>02293                          hbox,
<a name="l02294"></a>02294                          FALSE,
<a name="l02295"></a>02295                          FALSE,
<a name="l02296"></a>02296                          0 );
<a name="l02297"></a>02297     gtk_widget_show ( hbox );
<a name="l02298"></a>02298 
<a name="l02299"></a>02299     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;Initial date&quot;</span>)) );
<a name="l02300"></a>02300     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l02301"></a>02301                          label,
<a name="l02302"></a>02302                          FALSE,
<a name="l02303"></a>02303                          FALSE,
<a name="l02304"></a>02304                          0 );
<a name="l02305"></a>02305     gtk_widget_show ( label );
<a name="l02306"></a>02306 
<a name="l02307"></a>02307     entree_date_init_etat = <a class="code" href="gsb__calendar__entry_8c.html#afc3a9a10d06b658715e71451cd8bd97f">gsb_calendar_entry_new</a> (FALSE);
<a name="l02308"></a>02308     gtk_widget_set_size_request ( entree_date_init_etat,
<a name="l02309"></a>02309                            100,
<a name="l02310"></a>02310                            -1 );
<a name="l02311"></a>02311     gtk_box_pack_end ( GTK_BOX ( hbox ),
<a name="l02312"></a>02312                        entree_date_init_etat,
<a name="l02313"></a>02313                        FALSE,
<a name="l02314"></a>02314                        FALSE,
<a name="l02315"></a>02315                        0 );
<a name="l02316"></a>02316     gtk_widget_show ( entree_date_init_etat );
<a name="l02317"></a>02317 
<a name="l02318"></a>02318     <span class="comment">/* on met ensuite la date perso de fin */</span>
<a name="l02319"></a>02319 
<a name="l02320"></a>02320     hbox = gtk_hbox_new ( FALSE,
<a name="l02321"></a>02321                           5 );
<a name="l02322"></a>02322     gtk_box_pack_start ( GTK_BOX ( vbox_utilisation_date ),
<a name="l02323"></a>02323                          hbox,
<a name="l02324"></a>02324                          FALSE,
<a name="l02325"></a>02325                          FALSE,
<a name="l02326"></a>02326                          0 );
<a name="l02327"></a>02327     gtk_widget_show ( hbox );
<a name="l02328"></a>02328 
<a name="l02329"></a>02329     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;Final date&quot;</span>)) );
<a name="l02330"></a>02330     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l02331"></a>02331                          label,
<a name="l02332"></a>02332                          FALSE,
<a name="l02333"></a>02333                          FALSE,
<a name="l02334"></a>02334                          0 );
<a name="l02335"></a>02335     gtk_widget_show ( label );
<a name="l02336"></a>02336 
<a name="l02337"></a>02337     entree_date_finale_etat = <a class="code" href="gsb__calendar__entry_8c.html#afc3a9a10d06b658715e71451cd8bd97f">gsb_calendar_entry_new</a> (FALSE);
<a name="l02338"></a>02338     gtk_widget_set_size_request ( entree_date_finale_etat,
<a name="l02339"></a>02339                            100,
<a name="l02340"></a>02340                            -1 );
<a name="l02341"></a>02341     gtk_box_pack_end ( GTK_BOX ( hbox ),
<a name="l02342"></a>02342                        entree_date_finale_etat,
<a name="l02343"></a>02343                        FALSE,
<a name="l02344"></a>02344                        FALSE,
<a name="l02345"></a>02345                        0 );
<a name="l02346"></a>02346     gtk_widget_show ( entree_date_finale_etat );
<a name="l02347"></a>02347 
<a name="l02348"></a>02348     <span class="keywordflow">return</span> ( vbox_onglet );
<a name="l02349"></a>02349 }
<a name="l02350"></a>02350 <span class="comment">/******************************************************************************/</span>
<a name="l02351"></a>02351 
<a name="l02352"></a>02352 <span class="comment">/******************************************************************************/</span>
<a name="l02353"></a>02353 <span class="comment">/* vérifie où l&#39;on clique et empèche la désélection de row */</span>
<a name="l02354"></a>02354 <span class="comment">/******************************************************************************/</span>
<a name="l02355"></a>02355 <span class="keywordtype">void</span> click_liste_etat ( GtkCList *liste,
<a name="l02356"></a>02356                         GdkEventButton *evenement,
<a name="l02357"></a>02357                         gint origine )
<a name="l02358"></a>02358 {
<a name="l02359"></a>02359     gint colonne, x, y;
<a name="l02360"></a>02360     gint row;
<a name="l02361"></a>02361 
<a name="l02362"></a>02362     <span class="comment">/*   origine = 0 si ça vient des dates, dans ce cas on sensitive les entrées init et fin */</span>
<a name="l02363"></a>02363     <span class="comment">/* origine = 1 si ça vient du choix de type de classement */</span>
<a name="l02364"></a>02364 
<a name="l02365"></a>02365 
<a name="l02366"></a>02366     g_signal_stop_emission_by_name ( G_OBJECT ( liste ),
<a name="l02367"></a>02367                                    <span class="stringliteral">&quot;button_press_event&quot;</span>);
<a name="l02368"></a>02368 
<a name="l02369"></a>02369     <span class="comment">/* Récupération des coordonnées de la souris */</span>
<a name="l02370"></a>02370 
<a name="l02371"></a>02371     gdk_window_get_pointer ( GTK_CLIST ( liste ) -&gt; clist_window,
<a name="l02372"></a>02372                              &amp;x,
<a name="l02373"></a>02373                              &amp;y,
<a name="l02374"></a>02374                              FALSE );
<a name="l02375"></a>02375 
<a name="l02376"></a>02376     gtk_clist_get_selection_info ( GTK_CLIST ( liste ),
<a name="l02377"></a>02377                                    x,
<a name="l02378"></a>02378                                    y,
<a name="l02379"></a>02379                                    &amp;row,
<a name="l02380"></a>02380                                    &amp;colonne);
<a name="l02381"></a>02381 
<a name="l02382"></a>02382     <span class="keywordflow">if</span> ( GTK_CLIST ( liste ) -&gt; selection
<a name="l02383"></a>02383          &amp;&amp;
<a name="l02384"></a>02384          GPOINTER_TO_INT ( GTK_CLIST ( liste ) -&gt; selection -&gt; data ) == row )
<a name="l02385"></a>02385         <span class="keywordflow">return</span>;
<a name="l02386"></a>02386 
<a name="l02387"></a>02387     gtk_clist_select_row ( GTK_CLIST ( liste ),
<a name="l02388"></a>02388                            row,
<a name="l02389"></a>02389                            0 );
<a name="l02390"></a>02390 
<a name="l02391"></a>02391     <span class="keywordflow">if</span> ( !origine )
<a name="l02392"></a>02392     {
<a name="l02393"></a>02393         <span class="keywordflow">if</span> ( row == 1 )
<a name="l02394"></a>02394         {
<a name="l02395"></a>02395             gtk_widget_set_sensitive ( entree_date_init_etat,
<a name="l02396"></a>02396                                        TRUE );
<a name="l02397"></a>02397             gtk_widget_set_sensitive ( entree_date_finale_etat,
<a name="l02398"></a>02398                                        TRUE );
<a name="l02399"></a>02399         }
<a name="l02400"></a>02400         <span class="keywordflow">else</span>
<a name="l02401"></a>02401         {
<a name="l02402"></a>02402             gtk_widget_set_sensitive ( entree_date_init_etat,
<a name="l02403"></a>02403                                        FALSE );
<a name="l02404"></a>02404             gtk_widget_set_sensitive ( entree_date_finale_etat,
<a name="l02405"></a>02405                                        FALSE );
<a name="l02406"></a>02406         }
<a name="l02407"></a>02407     }
<a name="l02408"></a>02408 }
<a name="l02409"></a>02409 <span class="comment">/******************************************************************************/</span>
<a name="l02410"></a>02410 
<a name="l02411"></a>02411 
<a name="l02412"></a>02412 <span class="comment">/******************************************************************************/</span>
<a name="l02413"></a>02413 <span class="keywordtype">void</span> remplissage_liste_exo_etats ( <span class="keywordtype">void</span> )
<a name="l02414"></a>02414 {
<a name="l02415"></a>02415     GSList *list_tmp;
<a name="l02416"></a>02416 
<a name="l02417"></a>02417     <span class="keywordflow">if</span> ( !liste_exo_etat )
<a name="l02418"></a>02418         <span class="keywordflow">return</span>;
<a name="l02419"></a>02419 
<a name="l02420"></a>02420     gtk_clist_clear ( GTK_CLIST ( liste_exo_etat ) );
<a name="l02421"></a>02421 
<a name="l02422"></a>02422     list_tmp = <a class="code" href="gsb__data__fyear_8c.html#a981e70c384f682f93195b489ca06e7f5">gsb_data_fyear_get_fyears_list</a> ();
<a name="l02423"></a>02423 
<a name="l02424"></a>02424     <span class="keywordflow">while</span> ( list_tmp )
<a name="l02425"></a>02425     {
<a name="l02426"></a>02426         gint fyear_number;
<a name="l02427"></a>02427         gchar *name[1];
<a name="l02428"></a>02428         gint row;
<a name="l02429"></a>02429 
<a name="l02430"></a>02430         fyear_number = <a class="code" href="gsb__data__fyear_8c.html#a8a164bec6890c1eb99bde9e7c06794d9">gsb_data_fyear_get_no_fyear</a> (list_tmp -&gt; data);
<a name="l02431"></a>02431 
<a name="l02432"></a>02432         name[0] = <a class="code" href="utils__str_8c.html#ad9a37361694eeaa2847b0fe11389824d">my_strdup</a> (<a class="code" href="gsb__data__fyear_8c.html#ad6c1d7c774990722a69d741ab0d4785e">gsb_data_fyear_get_name</a> (fyear_number));
<a name="l02433"></a>02433 
<a name="l02434"></a>02434         <span class="comment">/* TODO dOm : when is the memory used by name freed ?*/</span>
<a name="l02435"></a>02435         row = gtk_clist_append ( GTK_CLIST ( liste_exo_etat ),
<a name="l02436"></a>02436                                    name );
<a name="l02437"></a>02437         gtk_clist_set_row_data ( GTK_CLIST ( liste_exo_etat ),
<a name="l02438"></a>02438                                  row,
<a name="l02439"></a>02439                                  GINT_TO_POINTER (fyear_number));
<a name="l02440"></a>02440 
<a name="l02441"></a>02441         list_tmp = list_tmp -&gt; next;
<a name="l02442"></a>02442     }
<a name="l02443"></a>02443 }
<a name="l02444"></a>02444 <span class="comment">/******************************************************************************/</span>
<a name="l02445"></a>02445 
<a name="l02446"></a>02446 <span class="comment">/******************************************************************************/</span>
<a name="l02447"></a>02447 GtkWidget *onglet_etat_comptes ( <span class="keywordtype">void</span> )
<a name="l02448"></a>02448 {
<a name="l02449"></a>02449     GtkWidget *scrolled_window;
<a name="l02450"></a>02450     GtkWidget *bouton;
<a name="l02451"></a>02451     GtkWidget *vbox;
<a name="l02452"></a>02452     GtkWidget *label;
<a name="l02453"></a>02453     GtkWidget *hbox;
<a name="l02454"></a>02454     GtkWidget *vbox_onglet;
<a name="l02455"></a>02455 
<a name="l02456"></a>02456     vbox_onglet = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Account selection&quot;</span>), <span class="stringliteral">&quot;ac_bank.png&quot;</span> );
<a name="l02457"></a>02457     gtk_widget_show ( vbox_onglet );
<a name="l02458"></a>02458 
<a name="l02459"></a>02459     <span class="comment">/* on met dans la partie de gauche une liste contenant les comptes à */</span>
<a name="l02460"></a>02460     <span class="comment">/* sélectionner */</span>
<a name="l02461"></a>02461 
<a name="l02462"></a>02462     bouton_detaille_comptes_etat = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Select transactions only for given accounts&quot;</span>));
<a name="l02463"></a>02463     g_signal_connect_swapped ( G_OBJECT ( bouton_detaille_comptes_etat ),
<a name="l02464"></a>02464                                 <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l02465"></a>02465                                 G_CALLBACK ( report_tree_update_style ),
<a name="l02466"></a>02466                                 GINT_TO_POINTER ( 2 ));
<a name="l02467"></a>02467     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l02468"></a>02468                          bouton_detaille_comptes_etat,
<a name="l02469"></a>02469                          FALSE,
<a name="l02470"></a>02470                          FALSE,
<a name="l02471"></a>02471                          0 );
<a name="l02472"></a>02472     gtk_widget_show ( bouton_detaille_comptes_etat );
<a name="l02473"></a>02473 
<a name="l02474"></a>02474     vbox_generale_comptes_etat = gtk_vbox_new ( FALSE,
<a name="l02475"></a>02475                                                 5 );
<a name="l02476"></a>02476     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l02477"></a>02477                          vbox_generale_comptes_etat,
<a name="l02478"></a>02478                          TRUE,
<a name="l02479"></a>02479                          TRUE,
<a name="l02480"></a>02480                          0 );
<a name="l02481"></a>02481     gtk_widget_show ( vbox_generale_comptes_etat );
<a name="l02482"></a>02482 
<a name="l02483"></a>02483 
<a name="l02484"></a>02484     g_signal_connect ( G_OBJECT ( bouton_detaille_comptes_etat ),
<a name="l02485"></a>02485                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l02486"></a>02486                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l02487"></a>02487                          vbox_generale_comptes_etat );
<a name="l02488"></a>02488 
<a name="l02489"></a>02489     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;Select the accounts included in the report&quot;</span>)) );
<a name="l02490"></a>02490         gtk_misc_set_padding ( GTK_MISC ( label ), 3, 0 );
<a name="l02491"></a>02491         gtk_misc_set_alignment ( GTK_MISC ( label ), 0.0, 0.0 );
<a name="l02492"></a>02492 
<a name="l02493"></a>02493     gtk_box_pack_start ( GTK_BOX ( vbox_generale_comptes_etat ),
<a name="l02494"></a>02494                          label,
<a name="l02495"></a>02495                          FALSE,
<a name="l02496"></a>02496                          FALSE,
<a name="l02497"></a>02497                          0 );
<a name="l02498"></a>02498     gtk_widget_show ( label );
<a name="l02499"></a>02499 
<a name="l02500"></a>02500     hbox = gtk_hbox_new ( FALSE,
<a name="l02501"></a>02501                           5 );
<a name="l02502"></a>02502     gtk_box_pack_start ( GTK_BOX ( vbox_generale_comptes_etat ),
<a name="l02503"></a>02503                          hbox,
<a name="l02504"></a>02504                          TRUE,
<a name="l02505"></a>02505                          TRUE,
<a name="l02506"></a>02506                          0 );
<a name="l02507"></a>02507     gtk_widget_show ( hbox );
<a name="l02508"></a>02508 
<a name="l02509"></a>02509     scrolled_window = gtk_scrolled_window_new ( FALSE,
<a name="l02510"></a>02510                                                 FALSE );
<a name="l02511"></a>02511     gtk_scrolled_window_set_policy ( GTK_SCROLLED_WINDOW ( scrolled_window ),
<a name="l02512"></a>02512                                      GTK_POLICY_AUTOMATIC,
<a name="l02513"></a>02513                                      GTK_POLICY_AUTOMATIC );
<a name="l02514"></a>02514     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l02515"></a>02515                          scrolled_window,
<a name="l02516"></a>02516                          TRUE,
<a name="l02517"></a>02517                          TRUE,
<a name="l02518"></a>02518                          0 );
<a name="l02519"></a>02519     gtk_widget_show ( scrolled_window );
<a name="l02520"></a>02520 
<a name="l02521"></a>02521     liste_comptes_etat = gtk_clist_new ( 1 );
<a name="l02522"></a>02522     gtk_clist_set_selection_mode ( GTK_CLIST ( liste_comptes_etat ),
<a name="l02523"></a>02523                                    GTK_SELECTION_MULTIPLE );
<a name="l02524"></a>02524     gtk_clist_set_column_auto_resize ( GTK_CLIST ( liste_comptes_etat ),
<a name="l02525"></a>02525                                        0,
<a name="l02526"></a>02526                                        TRUE );
<a name="l02527"></a>02527     gtk_container_add ( GTK_CONTAINER ( scrolled_window ),
<a name="l02528"></a>02528                         liste_comptes_etat );
<a name="l02529"></a>02529     gtk_widget_show ( liste_comptes_etat );
<a name="l02530"></a>02530 
<a name="l02531"></a>02531     <span class="comment">/* on remplit la liste des comptes */</span>
<a name="l02532"></a>02532 
<a name="l02533"></a>02533     remplissage_liste_comptes_etats ();
<a name="l02534"></a>02534 
<a name="l02535"></a>02535 
<a name="l02536"></a>02536     <span class="comment">/*   sur la partie de droite, on met les boutons (dé)sélectionner tout */</span>
<a name="l02537"></a>02537 
<a name="l02538"></a>02538     vbox = gtk_vbox_new ( FALSE,
<a name="l02539"></a>02539                           5 );
<a name="l02540"></a>02540     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l02541"></a>02541                          vbox,
<a name="l02542"></a>02542                          FALSE,
<a name="l02543"></a>02543                          FALSE,
<a name="l02544"></a>02544                          0 );
<a name="l02545"></a>02545     gtk_widget_show ( vbox );
<a name="l02546"></a>02546 
<a name="l02547"></a>02547     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Select all&quot;</span>) );
<a name="l02548"></a>02548         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l02549"></a>02549     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l02550"></a>02550                             GTK_RELIEF_NONE );
<a name="l02551"></a>02551     g_signal_connect_swapped ( G_OBJECT  ( bouton ),
<a name="l02552"></a>02552                                 <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l02553"></a>02553                                 G_CALLBACK ( gtk_clist_select_all ),
<a name="l02554"></a>02554                                 G_OBJECT  ( liste_comptes_etat ));
<a name="l02555"></a>02555     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l02556"></a>02556                          bouton,
<a name="l02557"></a>02557                          TRUE,
<a name="l02558"></a>02558                          FALSE,
<a name="l02559"></a>02559                          0 );
<a name="l02560"></a>02560     gtk_widget_show ( bouton );
<a name="l02561"></a>02561 
<a name="l02562"></a>02562     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Unselect all&quot;</span>) );
<a name="l02563"></a>02563         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l02564"></a>02564     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l02565"></a>02565                             GTK_RELIEF_NONE );
<a name="l02566"></a>02566     g_signal_connect_swapped ( G_OBJECT  ( bouton ),
<a name="l02567"></a>02567                                 <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l02568"></a>02568                                 G_CALLBACK ( gtk_clist_unselect_all ),
<a name="l02569"></a>02569                                 G_OBJECT  ( liste_comptes_etat ));
<a name="l02570"></a>02570     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l02571"></a>02571                          bouton,
<a name="l02572"></a>02572                          TRUE,
<a name="l02573"></a>02573                          FALSE,
<a name="l02574"></a>02574                          0 );
<a name="l02575"></a>02575     gtk_widget_show ( bouton );
<a name="l02576"></a>02576 
<a name="l02577"></a>02577     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Select bank accounts&quot;</span>) );
<a name="l02578"></a>02578         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l02579"></a>02579     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l02580"></a>02580                             GTK_RELIEF_NONE );
<a name="l02581"></a>02581     g_signal_connect_swapped ( G_OBJECT  ( bouton ),
<a name="l02582"></a>02582                                 <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l02583"></a>02583                                 G_CALLBACK ( selectionne_partie_liste_compte_etat ),
<a name="l02584"></a>02584                                 GINT_TO_POINTER ( 0 ));
<a name="l02585"></a>02585     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l02586"></a>02586                          bouton,
<a name="l02587"></a>02587                          TRUE,
<a name="l02588"></a>02588                          FALSE,
<a name="l02589"></a>02589                          0 );
<a name="l02590"></a>02590     gtk_widget_show ( bouton );
<a name="l02591"></a>02591 
<a name="l02592"></a>02592     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Select cash accounts&quot;</span>) );
<a name="l02593"></a>02593         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l02594"></a>02594     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l02595"></a>02595                             GTK_RELIEF_NONE );
<a name="l02596"></a>02596     g_signal_connect_swapped ( G_OBJECT  ( bouton ),
<a name="l02597"></a>02597                                 <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l02598"></a>02598                                 G_CALLBACK ( selectionne_partie_liste_compte_etat ),
<a name="l02599"></a>02599                                 GINT_TO_POINTER ( 1 ));
<a name="l02600"></a>02600     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l02601"></a>02601                          bouton,
<a name="l02602"></a>02602                          TRUE,
<a name="l02603"></a>02603                          FALSE,
<a name="l02604"></a>02604                          0 );
<a name="l02605"></a>02605     gtk_widget_show ( bouton );
<a name="l02606"></a>02606 
<a name="l02607"></a>02607     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Select liabilities accounts&quot;</span>) );
<a name="l02608"></a>02608         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l02609"></a>02609     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l02610"></a>02610                             GTK_RELIEF_NONE );
<a name="l02611"></a>02611     g_signal_connect_swapped ( G_OBJECT  ( bouton ),
<a name="l02612"></a>02612                                 <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l02613"></a>02613                                 G_CALLBACK ( selectionne_partie_liste_compte_etat ),
<a name="l02614"></a>02614                                 GINT_TO_POINTER ( 2 ));
<a name="l02615"></a>02615     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l02616"></a>02616                          bouton,
<a name="l02617"></a>02617                          TRUE,
<a name="l02618"></a>02618                          FALSE,
<a name="l02619"></a>02619                          0 );
<a name="l02620"></a>02620     gtk_widget_show ( bouton );
<a name="l02621"></a>02621 
<a name="l02622"></a>02622     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Select assets accounts&quot;</span>) );
<a name="l02623"></a>02623         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l02624"></a>02624     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l02625"></a>02625                             GTK_RELIEF_NONE );
<a name="l02626"></a>02626     g_signal_connect_swapped ( G_OBJECT  ( bouton ),
<a name="l02627"></a>02627                                 <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l02628"></a>02628                                 G_CALLBACK ( selectionne_partie_liste_compte_etat ),
<a name="l02629"></a>02629                                 GINT_TO_POINTER ( 3 ));
<a name="l02630"></a>02630     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l02631"></a>02631                          bouton,
<a name="l02632"></a>02632                          TRUE,
<a name="l02633"></a>02633                          FALSE,
<a name="l02634"></a>02634                          0 );
<a name="l02635"></a>02635     gtk_widget_show ( bouton );
<a name="l02636"></a>02636 
<a name="l02637"></a>02637 
<a name="l02638"></a>02638     <span class="keywordflow">return</span> ( vbox_onglet );
<a name="l02639"></a>02639 }
<a name="l02640"></a>02640 <span class="comment">/******************************************************************************/</span>
<a name="l02641"></a>02641 
<a name="l02642"></a>02642 <span class="comment">/******************************************************************************/</span>
<a name="l02643"></a>02643 <span class="keywordtype">void</span> remplissage_liste_comptes_etats ( <span class="keywordtype">void</span> )
<a name="l02644"></a>02644 {
<a name="l02645"></a>02645     GSList *list_tmp;
<a name="l02646"></a>02646 
<a name="l02647"></a>02647     <span class="keywordflow">if</span> ( !liste_comptes_etat )
<a name="l02648"></a>02648         <span class="keywordflow">return</span>;
<a name="l02649"></a>02649 
<a name="l02650"></a>02650     gtk_clist_clear ( GTK_CLIST ( liste_comptes_etat ) );
<a name="l02651"></a>02651 
<a name="l02652"></a>02652    list_tmp = <a class="code" href="gsb__data__account_8c.html#aaf4d25733c7ea5a0ca263c0ab79e6212">gsb_data_account_get_list_accounts</a> ();
<a name="l02653"></a>02653 
<a name="l02654"></a>02654     <span class="keywordflow">while</span> ( list_tmp )
<a name="l02655"></a>02655     {
<a name="l02656"></a>02656         gint i;
<a name="l02657"></a>02657         gchar *name[1];
<a name="l02658"></a>02658         gint row;
<a name="l02659"></a>02659 
<a name="l02660"></a>02660 
<a name="l02661"></a>02661         i = <a class="code" href="gsb__data__account_8c.html#ad61190b4638c2be7b7ce320470f1cb5a">gsb_data_account_get_no_account</a> ( list_tmp -&gt; data );
<a name="l02662"></a>02662 
<a name="l02663"></a>02663         name[0] = <a class="code" href="gsb__data__account_8c.html#a6b0df19868e38619bff512f2c18ef51e">gsb_data_account_get_name</a> (i);
<a name="l02664"></a>02664 
<a name="l02665"></a>02665         row = gtk_clist_append ( GTK_CLIST ( liste_comptes_etat ),
<a name="l02666"></a>02666                                    name );
<a name="l02667"></a>02667 
<a name="l02668"></a>02668         gtk_clist_set_row_data ( GTK_CLIST ( liste_comptes_etat ),
<a name="l02669"></a>02669                                  row,
<a name="l02670"></a>02670                                  GINT_TO_POINTER (i));
<a name="l02671"></a>02671         list_tmp = list_tmp -&gt; next;
<a name="l02672"></a>02672     }
<a name="l02673"></a>02673 }
<a name="l02674"></a>02674 <span class="comment">/******************************************************************************/</span>
<a name="l02675"></a>02675 
<a name="l02676"></a>02676 <span class="comment">/******************************************************************************/</span>
<a name="l02677"></a>02677 <span class="keywordtype">void</span> selectionne_partie_liste_compte_etat ( gint *type_compte )
<a name="l02678"></a>02678 {
<a name="l02679"></a>02679     gint i;
<a name="l02680"></a>02680 
<a name="l02681"></a>02681     gtk_clist_unselect_all ( GTK_CLIST ( liste_comptes_etat ));
<a name="l02682"></a>02682 
<a name="l02683"></a>02683     <span class="keywordflow">for</span> ( i=0 ; i&lt;<a class="code" href="gsb__data__account_8c.html#a56c9a589563db8c15800e41378908b27">gsb_data_account_get_accounts_amount</a> () ; i++ )
<a name="l02684"></a>02684     {
<a name="l02685"></a>02685         gint no_compte;
<a name="l02686"></a>02686 
<a name="l02687"></a>02687         no_compte = GPOINTER_TO_INT ( gtk_clist_get_row_data ( GTK_CLIST ( liste_comptes_etat ),
<a name="l02688"></a>02688                                                                i ));
<a name="l02689"></a>02689 
<a name="l02690"></a>02690         <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__account_8c.html#aa2e978644e71d62a1aaf1c58cb6b0fcd">gsb_data_account_get_kind</a> (no_compte) == GPOINTER_TO_INT ( type_compte ))
<a name="l02691"></a>02691             gtk_clist_select_row ( GTK_CLIST ( liste_comptes_etat ),
<a name="l02692"></a>02692                                    i,
<a name="l02693"></a>02693                                    0 );
<a name="l02694"></a>02694     }
<a name="l02695"></a>02695 }
<a name="l02696"></a>02696 <span class="comment">/******************************************************************************/</span>
<a name="l02697"></a>02697 
<a name="l02698"></a>02698 <span class="comment">/******************************************************************************/</span>
<a name="l02699"></a>02699 GtkWidget *onglet_etat_virements ( <span class="keywordtype">void</span> )
<a name="l02700"></a>02700 {
<a name="l02701"></a>02701     GtkWidget *scrolled_window;
<a name="l02702"></a>02702     GtkWidget *vbox_onglet;
<a name="l02703"></a>02703     GtkWidget *vbox;
<a name="l02704"></a>02704     GtkWidget *bouton;
<a name="l02705"></a>02705 
<a name="l02706"></a>02706     vbox_onglet = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Transfers&quot;</span>), <span class="stringliteral">&quot;transfer.png&quot;</span> );
<a name="l02707"></a>02707     gtk_widget_show ( vbox_onglet );
<a name="l02708"></a>02708 
<a name="l02709"></a>02709     <span class="comment">/*   on met les boutons d&#39;inclusion ou non des virements */</span>
<a name="l02710"></a>02710 
<a name="l02711"></a>02711     bouton_non_inclusion_virements = gtk_radio_button_new_with_label ( NULL,
<a name="l02712"></a>02712                                                                        _(<span class="stringliteral">&quot;Do not include transfers&quot;</span>) );
<a name="l02713"></a>02713     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l02714"></a>02714                          bouton_non_inclusion_virements,
<a name="l02715"></a>02715                          FALSE,
<a name="l02716"></a>02716                          FALSE,
<a name="l02717"></a>02717                          0 );
<a name="l02718"></a>02718     gtk_widget_show ( bouton_non_inclusion_virements );
<a name="l02719"></a>02719 
<a name="l02720"></a>02720     bouton_inclusion_virements_actifs_etat = gtk_radio_button_new_with_label ( gtk_radio_button_get_group ( GTK_RADIO_BUTTON ( bouton_non_inclusion_virements )),
<a name="l02721"></a>02721                                                                                _(<span class="stringliteral">&quot;Include transfers from or to assets or liabilities accounts&quot;</span>) );
<a name="l02722"></a>02722     g_signal_connect_swapped ( G_OBJECT ( bouton_inclusion_virements_actifs_etat ),
<a name="l02723"></a>02723                                 <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l02724"></a>02724                                 G_CALLBACK ( report_tree_update_style ),
<a name="l02725"></a>02725                                 GINT_TO_POINTER ( 1 ));
<a name="l02726"></a>02726     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l02727"></a>02727                          bouton_inclusion_virements_actifs_etat,
<a name="l02728"></a>02728                          FALSE,
<a name="l02729"></a>02729                          FALSE,
<a name="l02730"></a>02730                          0 );
<a name="l02731"></a>02731     gtk_widget_show ( bouton_inclusion_virements_actifs_etat );
<a name="l02732"></a>02732 
<a name="l02733"></a>02733     bouton_inclusion_virements_hors_etat = gtk_radio_button_new_with_label ( gtk_radio_button_get_group ( GTK_RADIO_BUTTON ( bouton_non_inclusion_virements )),
<a name="l02734"></a>02734                                                                              _(<span class="stringliteral">&quot;Include transfers from or to accounts not in this report&quot;</span>) );
<a name="l02735"></a>02735     g_signal_connect_swapped ( G_OBJECT ( bouton_inclusion_virements_hors_etat ),
<a name="l02736"></a>02736                                 <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l02737"></a>02737                                 G_CALLBACK ( report_tree_update_style ),
<a name="l02738"></a>02738                                 GINT_TO_POINTER ( 1 ));
<a name="l02739"></a>02739     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l02740"></a>02740                          bouton_inclusion_virements_hors_etat,
<a name="l02741"></a>02741                          FALSE,
<a name="l02742"></a>02742                          FALSE,
<a name="l02743"></a>02743                          0 );
<a name="l02744"></a>02744     gtk_widget_show ( bouton_inclusion_virements_hors_etat );
<a name="l02745"></a>02745 
<a name="l02746"></a>02746     bouton_inclusion_virements_perso = gtk_radio_button_new_with_label ( gtk_radio_button_get_group ( GTK_RADIO_BUTTON ( bouton_non_inclusion_virements )),
<a name="l02747"></a>02747                                                                          _(<span class="stringliteral">&quot;Include transfers from or to these accounts&quot;</span>) );
<a name="l02748"></a>02748     g_signal_connect_swapped ( G_OBJECT ( bouton_inclusion_virements_perso ),
<a name="l02749"></a>02749                                 <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l02750"></a>02750                                 G_CALLBACK ( report_tree_update_style ),
<a name="l02751"></a>02751                                 GINT_TO_POINTER ( 1 ));
<a name="l02752"></a>02752     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l02753"></a>02753                          bouton_inclusion_virements_perso,
<a name="l02754"></a>02754                          FALSE,
<a name="l02755"></a>02755                          FALSE,
<a name="l02756"></a>02756                          0 );
<a name="l02757"></a>02757     gtk_widget_show ( bouton_inclusion_virements_perso );
<a name="l02758"></a>02758 
<a name="l02759"></a>02759     hbox_liste_comptes_virements = gtk_hbox_new ( FALSE, 5 );
<a name="l02760"></a>02760     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l02761"></a>02761                          hbox_liste_comptes_virements,
<a name="l02762"></a>02762                          TRUE,
<a name="l02763"></a>02763                          TRUE,
<a name="l02764"></a>02764                          0 );
<a name="l02765"></a>02765     gtk_widget_show ( hbox_liste_comptes_virements );
<a name="l02766"></a>02766 
<a name="l02767"></a>02767     scrolled_window = gtk_scrolled_window_new ( FALSE,
<a name="l02768"></a>02768                                                 FALSE );
<a name="l02769"></a>02769     gtk_scrolled_window_set_policy ( GTK_SCROLLED_WINDOW ( scrolled_window ),
<a name="l02770"></a>02770                                      GTK_POLICY_AUTOMATIC,
<a name="l02771"></a>02771                                      GTK_POLICY_AUTOMATIC );
<a name="l02772"></a>02772     gtk_box_pack_start ( GTK_BOX ( hbox_liste_comptes_virements ),
<a name="l02773"></a>02773                          scrolled_window,
<a name="l02774"></a>02774                          TRUE,
<a name="l02775"></a>02775                          TRUE,
<a name="l02776"></a>02776                          0 );
<a name="l02777"></a>02777     gtk_widget_show ( scrolled_window );
<a name="l02778"></a>02778 
<a name="l02779"></a>02779     liste_comptes_virements = gtk_clist_new ( 1 );
<a name="l02780"></a>02780     gtk_clist_set_selection_mode ( GTK_CLIST ( liste_comptes_virements ),
<a name="l02781"></a>02781                                    GTK_SELECTION_MULTIPLE );
<a name="l02782"></a>02782     gtk_clist_set_column_auto_resize ( GTK_CLIST ( liste_comptes_virements ),
<a name="l02783"></a>02783                                        0,
<a name="l02784"></a>02784                                        TRUE );
<a name="l02785"></a>02785     gtk_container_add ( GTK_CONTAINER ( scrolled_window ),
<a name="l02786"></a>02786                         liste_comptes_virements );
<a name="l02787"></a>02787     gtk_widget_show ( liste_comptes_virements );
<a name="l02788"></a>02788 
<a name="l02789"></a>02789     <span class="comment">/* on remplit la liste des comptes */</span>
<a name="l02790"></a>02790     remplissage_liste_comptes_virements ();
<a name="l02791"></a>02791 
<a name="l02792"></a>02792     <span class="comment">/*   sur la partie de droite, on met les boutons (dé)sélectionner tout */</span>
<a name="l02793"></a>02793     vbox = gtk_vbox_new ( FALSE,
<a name="l02794"></a>02794                           5 );
<a name="l02795"></a>02795     gtk_box_pack_start ( GTK_BOX ( hbox_liste_comptes_virements ),
<a name="l02796"></a>02796                          vbox,
<a name="l02797"></a>02797                          FALSE,
<a name="l02798"></a>02798                          FALSE,
<a name="l02799"></a>02799                          0 );
<a name="l02800"></a>02800     gtk_widget_show ( vbox );
<a name="l02801"></a>02801 
<a name="l02802"></a>02802     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Select all&quot;</span>) );
<a name="l02803"></a>02803         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l02804"></a>02804     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l02805"></a>02805                             GTK_RELIEF_NONE );
<a name="l02806"></a>02806     g_signal_connect_swapped ( G_OBJECT  ( bouton ),
<a name="l02807"></a>02807                                 <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l02808"></a>02808                                 G_CALLBACK ( gtk_clist_select_all ),
<a name="l02809"></a>02809                                 G_OBJECT  ( liste_comptes_virements ));
<a name="l02810"></a>02810     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l02811"></a>02811                          bouton,
<a name="l02812"></a>02812                          TRUE,
<a name="l02813"></a>02813                          FALSE,
<a name="l02814"></a>02814                          0 );
<a name="l02815"></a>02815     gtk_widget_show ( bouton );
<a name="l02816"></a>02816 
<a name="l02817"></a>02817     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Unselect all&quot;</span>) );
<a name="l02818"></a>02818         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l02819"></a>02819     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l02820"></a>02820                             GTK_RELIEF_NONE );
<a name="l02821"></a>02821     g_signal_connect_swapped ( G_OBJECT  ( bouton ),
<a name="l02822"></a>02822                                 <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l02823"></a>02823                                 G_CALLBACK ( gtk_clist_unselect_all ),
<a name="l02824"></a>02824                                 G_OBJECT  ( liste_comptes_virements ));
<a name="l02825"></a>02825     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l02826"></a>02826                          bouton,
<a name="l02827"></a>02827                          TRUE,
<a name="l02828"></a>02828                          FALSE,
<a name="l02829"></a>02829                          0 );
<a name="l02830"></a>02830     gtk_widget_show ( bouton );
<a name="l02831"></a>02831 
<a name="l02832"></a>02832     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Select bank accounts&quot;</span>) );
<a name="l02833"></a>02833         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l02834"></a>02834     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l02835"></a>02835                             GTK_RELIEF_NONE );
<a name="l02836"></a>02836     g_signal_connect_swapped ( G_OBJECT  ( bouton ),
<a name="l02837"></a>02837                                 <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l02838"></a>02838                                 G_CALLBACK ( selectionne_partie_liste_compte_vir_etat ),
<a name="l02839"></a>02839                                 GINT_TO_POINTER ( 0 ));
<a name="l02840"></a>02840     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l02841"></a>02841                          bouton,
<a name="l02842"></a>02842                          TRUE,
<a name="l02843"></a>02843                          FALSE,
<a name="l02844"></a>02844                          0 );
<a name="l02845"></a>02845     gtk_widget_show ( bouton );
<a name="l02846"></a>02846 
<a name="l02847"></a>02847     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Select cash accounts&quot;</span>) );
<a name="l02848"></a>02848         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l02849"></a>02849     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l02850"></a>02850                             GTK_RELIEF_NONE );
<a name="l02851"></a>02851     g_signal_connect_swapped ( G_OBJECT  ( bouton ),
<a name="l02852"></a>02852                                 <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l02853"></a>02853                                 G_CALLBACK ( selectionne_partie_liste_compte_vir_etat ),
<a name="l02854"></a>02854                                 GINT_TO_POINTER ( 1 ));
<a name="l02855"></a>02855     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l02856"></a>02856                          bouton,
<a name="l02857"></a>02857                          TRUE,
<a name="l02858"></a>02858                          FALSE,
<a name="l02859"></a>02859                          0 );
<a name="l02860"></a>02860     gtk_widget_show ( bouton );
<a name="l02861"></a>02861 
<a name="l02862"></a>02862     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Select liabilities accounts&quot;</span>) );
<a name="l02863"></a>02863         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l02864"></a>02864     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l02865"></a>02865                             GTK_RELIEF_NONE );
<a name="l02866"></a>02866     g_signal_connect_swapped ( G_OBJECT  ( bouton ),
<a name="l02867"></a>02867                                 <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l02868"></a>02868                                 G_CALLBACK ( selectionne_partie_liste_compte_vir_etat ),
<a name="l02869"></a>02869                                 GINT_TO_POINTER ( 2 ));
<a name="l02870"></a>02870     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l02871"></a>02871                          bouton,
<a name="l02872"></a>02872                          TRUE,
<a name="l02873"></a>02873                          FALSE,
<a name="l02874"></a>02874                          0 );
<a name="l02875"></a>02875     gtk_widget_show ( bouton );
<a name="l02876"></a>02876 
<a name="l02877"></a>02877     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Select assets accounts&quot;</span>) );
<a name="l02878"></a>02878         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l02879"></a>02879     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l02880"></a>02880                             GTK_RELIEF_NONE );
<a name="l02881"></a>02881     g_signal_connect_swapped ( G_OBJECT  ( bouton ),
<a name="l02882"></a>02882                                 <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l02883"></a>02883                                 G_CALLBACK ( selectionne_partie_liste_compte_vir_etat ),
<a name="l02884"></a>02884                                 GINT_TO_POINTER ( 3 ));
<a name="l02885"></a>02885     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l02886"></a>02886                          bouton,
<a name="l02887"></a>02887                          TRUE,
<a name="l02888"></a>02888                          FALSE,
<a name="l02889"></a>02889                          0 );
<a name="l02890"></a>02890     gtk_widget_show ( bouton );
<a name="l02891"></a>02891 
<a name="l02892"></a>02892     g_signal_connect ( G_OBJECT ( bouton_inclusion_virements_perso ),
<a name="l02893"></a>02893                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l02894"></a>02894                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l02895"></a>02895                          hbox_liste_comptes_virements );
<a name="l02896"></a>02896 
<a name="l02897"></a>02897 
<a name="l02898"></a>02898     <span class="comment">/* on rajoute le bouton exclure les opé non virement */</span>
<a name="l02899"></a>02899 
<a name="l02900"></a>02900     bouton_exclure_non_virements_etat = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Exclude the transactions which are not transfers&quot;</span>) );
<a name="l02901"></a>02901     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l02902"></a>02902                          bouton_exclure_non_virements_etat,
<a name="l02903"></a>02903                          FALSE,
<a name="l02904"></a>02904                          FALSE,
<a name="l02905"></a>02905                          0 );
<a name="l02906"></a>02906     gtk_widget_show ( bouton_exclure_non_virements_etat );
<a name="l02907"></a>02907 
<a name="l02908"></a>02908     g_signal_connect ( G_OBJECT ( bouton_inclusion_virements_perso ),
<a name="l02909"></a>02909                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l02910"></a>02910                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l02911"></a>02911                          bouton_exclure_non_virements_etat );
<a name="l02912"></a>02912     g_signal_connect ( G_OBJECT ( bouton_inclusion_virements_hors_etat ),
<a name="l02913"></a>02913                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l02914"></a>02914                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l02915"></a>02915                          bouton_exclure_non_virements_etat );
<a name="l02916"></a>02916     g_signal_connect ( G_OBJECT ( bouton_inclusion_virements_actifs_etat ),
<a name="l02917"></a>02917                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l02918"></a>02918                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l02919"></a>02919                          bouton_exclure_non_virements_etat );
<a name="l02920"></a>02920 
<a name="l02921"></a>02921 
<a name="l02922"></a>02922     <span class="keywordflow">return</span> ( vbox_onglet );
<a name="l02923"></a>02923 }
<a name="l02924"></a>02924 <span class="comment">/******************************************************************************/</span>
<a name="l02925"></a>02925 
<a name="l02926"></a>02926 <span class="comment">/******************************************************************************/</span>
<a name="l02927"></a>02927 <span class="keywordtype">void</span> remplissage_liste_comptes_virements ( <span class="keywordtype">void</span> )
<a name="l02928"></a>02928 {
<a name="l02929"></a>02929     GSList *list_tmp;
<a name="l02930"></a>02930 
<a name="l02931"></a>02931     <span class="keywordflow">if</span> ( !liste_comptes_virements )
<a name="l02932"></a>02932         <span class="keywordflow">return</span>;
<a name="l02933"></a>02933 
<a name="l02934"></a>02934     gtk_clist_clear ( GTK_CLIST ( liste_comptes_virements ) );
<a name="l02935"></a>02935 
<a name="l02936"></a>02936     list_tmp = <a class="code" href="gsb__data__account_8c.html#aaf4d25733c7ea5a0ca263c0ab79e6212">gsb_data_account_get_list_accounts</a> ();
<a name="l02937"></a>02937 
<a name="l02938"></a>02938     <span class="keywordflow">while</span> ( list_tmp )
<a name="l02939"></a>02939     {
<a name="l02940"></a>02940         gint i;
<a name="l02941"></a>02941         gchar *name[1];
<a name="l02942"></a>02942         gint row;
<a name="l02943"></a>02943 
<a name="l02944"></a>02944         i = <a class="code" href="gsb__data__account_8c.html#ad61190b4638c2be7b7ce320470f1cb5a">gsb_data_account_get_no_account</a> ( list_tmp -&gt; data );
<a name="l02945"></a>02945 
<a name="l02946"></a>02946         name[0] = <a class="code" href="gsb__data__account_8c.html#a6b0df19868e38619bff512f2c18ef51e">gsb_data_account_get_name</a> (i);
<a name="l02947"></a>02947 
<a name="l02948"></a>02948         row = gtk_clist_append ( GTK_CLIST ( liste_comptes_virements ),
<a name="l02949"></a>02949                                    name );
<a name="l02950"></a>02950 
<a name="l02951"></a>02951         gtk_clist_set_row_data ( GTK_CLIST ( liste_comptes_virements ),
<a name="l02952"></a>02952                                  row,
<a name="l02953"></a>02953                                  GINT_TO_POINTER (i));
<a name="l02954"></a>02954         list_tmp = list_tmp -&gt; next;
<a name="l02955"></a>02955     }
<a name="l02956"></a>02956 }
<a name="l02957"></a>02957 <span class="comment">/******************************************************************************/</span>
<a name="l02958"></a>02958 
<a name="l02959"></a>02959 <span class="comment">/******************************************************************************/</span>
<a name="l02960"></a>02960 <span class="keywordtype">void</span> selectionne_partie_liste_compte_vir_etat ( gint *type_compte )
<a name="l02961"></a>02961 {
<a name="l02962"></a>02962     gint i;
<a name="l02963"></a>02963 
<a name="l02964"></a>02964     gtk_clist_unselect_all ( GTK_CLIST ( liste_comptes_virements ));
<a name="l02965"></a>02965 
<a name="l02966"></a>02966     <span class="keywordflow">for</span> ( i=0 ; i&lt;<a class="code" href="gsb__data__account_8c.html#a56c9a589563db8c15800e41378908b27">gsb_data_account_get_accounts_amount</a> () ; i++ )
<a name="l02967"></a>02967     {
<a name="l02968"></a>02968         gint no_compte;
<a name="l02969"></a>02969 
<a name="l02970"></a>02970         no_compte = GPOINTER_TO_INT ( gtk_clist_get_row_data ( GTK_CLIST ( liste_comptes_virements ),
<a name="l02971"></a>02971                                                                i ));
<a name="l02972"></a>02972 
<a name="l02973"></a>02973         <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__account_8c.html#aa2e978644e71d62a1aaf1c58cb6b0fcd">gsb_data_account_get_kind</a> (no_compte) == GPOINTER_TO_INT ( type_compte ))
<a name="l02974"></a>02974             gtk_clist_select_row ( GTK_CLIST ( liste_comptes_virements ),
<a name="l02975"></a>02975                                    i,
<a name="l02976"></a>02976                                    0 );
<a name="l02977"></a>02977     }
<a name="l02978"></a>02978 }
<a name="l02979"></a>02979 <span class="comment">/******************************************************************************/</span>
<a name="l02980"></a>02980 
<a name="l02981"></a>02981 <span class="comment">/******************************************************************************/</span>
<a name="l02982"></a>02982 GtkWidget *onglet_etat_categories ( <span class="keywordtype">void</span> )
<a name="l02983"></a>02983 {
<a name="l02984"></a>02984     GtkWidget *vbox;
<a name="l02985"></a>02985     GtkWidget *label;
<a name="l02986"></a>02986     GtkWidget *scrolled_window;
<a name="l02987"></a>02987     GtkWidget *bouton;
<a name="l02988"></a>02988     GtkWidget *hbox;
<a name="l02989"></a>02989     GtkWidget *vbox_onglet;
<a name="l02990"></a>02990 
<a name="l02991"></a>02991     vbox_onglet = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Categories&quot;</span>), <span class="stringliteral">&quot;categories.png&quot;</span> );
<a name="l02992"></a>02992     gtk_widget_show ( vbox_onglet );
<a name="l02993"></a>02993     <span class="comment">/* on propose de détailler les categ utilisées */</span>
<a name="l02994"></a>02994 
<a name="l02995"></a>02995     hbox = gtk_hbox_new ( FALSE,
<a name="l02996"></a>02996                           5 );
<a name="l02997"></a>02997     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l02998"></a>02998                          hbox,
<a name="l02999"></a>02999                          FALSE,
<a name="l03000"></a>03000                          FALSE,
<a name="l03001"></a>03001                          0 );
<a name="l03002"></a>03002     gtk_widget_show ( hbox );
<a name="l03003"></a>03003 
<a name="l03004"></a>03004     button_detail_categ = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Detail categories&quot;</span>) );
<a name="l03005"></a>03005     g_signal_connect_swapped ( G_OBJECT ( button_detail_categ ),
<a name="l03006"></a>03006                                 <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l03007"></a>03007                                 G_CALLBACK ( report_tree_update_style ),
<a name="l03008"></a>03008                                 GINT_TO_POINTER ( 4 ));
<a name="l03009"></a>03009     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l03010"></a>03010                          button_detail_categ,
<a name="l03011"></a>03011                          FALSE,
<a name="l03012"></a>03012                          FALSE,
<a name="l03013"></a>03013                          0 );
<a name="l03014"></a>03014     gtk_widget_show ( button_detail_categ );
<a name="l03015"></a>03015 
<a name="l03016"></a>03016 
<a name="l03017"></a>03017     <span class="comment">/* mise en place de la liste et des boutons de détaillage */</span>
<a name="l03018"></a>03018     hbox_detaille_categ_etat = gtk_hbox_new ( FALSE, 5 );
<a name="l03019"></a>03019     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l03020"></a>03020                          hbox_detaille_categ_etat,
<a name="l03021"></a>03021                          TRUE,
<a name="l03022"></a>03022                          TRUE,
<a name="l03023"></a>03023                          0 );
<a name="l03024"></a>03024     gtk_widget_show ( hbox_detaille_categ_etat );
<a name="l03025"></a>03025 
<a name="l03026"></a>03026     g_signal_connect ( G_OBJECT ( button_detail_categ ),
<a name="l03027"></a>03027                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l03028"></a>03028                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l03029"></a>03029                          hbox_detaille_categ_etat );
<a name="l03030"></a>03030 
<a name="l03031"></a>03031     vbox = gtk_vbox_new ( FALSE,
<a name="l03032"></a>03032                           5 );
<a name="l03033"></a>03033     gtk_box_pack_start ( GTK_BOX ( hbox_detaille_categ_etat ),
<a name="l03034"></a>03034                          vbox,
<a name="l03035"></a>03035                          TRUE,
<a name="l03036"></a>03036                          TRUE,
<a name="l03037"></a>03037                          0 );
<a name="l03038"></a>03038     gtk_widget_show ( vbox );
<a name="l03039"></a>03039 
<a name="l03040"></a>03040     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;Select categories to include&quot;</span>)) );
<a name="l03041"></a>03041         gtk_misc_set_padding ( GTK_MISC ( label ), 3, 0 );
<a name="l03042"></a>03042         gtk_misc_set_alignment ( GTK_MISC ( label ), 0.0, 0.0 );
<a name="l03043"></a>03043 
<a name="l03044"></a>03044     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l03045"></a>03045                          label,
<a name="l03046"></a>03046                          FALSE,
<a name="l03047"></a>03047                          FALSE,
<a name="l03048"></a>03048                          0 );
<a name="l03049"></a>03049     gtk_widget_show ( label );
<a name="l03050"></a>03050 
<a name="l03051"></a>03051 
<a name="l03052"></a>03052     scrolled_window = gtk_scrolled_window_new ( FALSE,
<a name="l03053"></a>03053                                                 FALSE );
<a name="l03054"></a>03054     gtk_scrolled_window_set_policy ( GTK_SCROLLED_WINDOW ( scrolled_window ),
<a name="l03055"></a>03055                                      GTK_POLICY_AUTOMATIC,
<a name="l03056"></a>03056                                      GTK_POLICY_AUTOMATIC );
<a name="l03057"></a>03057     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l03058"></a>03058                          scrolled_window,
<a name="l03059"></a>03059                          TRUE,
<a name="l03060"></a>03060                          TRUE,
<a name="l03061"></a>03061                          0 );
<a name="l03062"></a>03062     gtk_widget_show ( scrolled_window );
<a name="l03063"></a>03063 
<a name="l03064"></a>03064     <span class="comment">/* add the categories list */</span>
<a name="l03065"></a>03065     tree_view_categ = report_config_create_categ_budget_list ();
<a name="l03066"></a>03066     model_categ = gtk_tree_view_get_model (GTK_TREE_VIEW (tree_view_categ));
<a name="l03067"></a>03067     gtk_container_add ( GTK_CONTAINER ( scrolled_window ),
<a name="l03068"></a>03068                         tree_view_categ );
<a name="l03069"></a>03069     gtk_widget_show ( tree_view_categ );
<a name="l03070"></a>03070 
<a name="l03071"></a>03071     <span class="comment">/* fill the list */</span>
<a name="l03072"></a>03072     report_config_fill_categ_budget_list (TRUE);
<a name="l03073"></a>03073 
<a name="l03074"></a>03074     <span class="comment">/*   sur la partie de droite, on met les boutons (dé)sélectionner tout */</span>
<a name="l03075"></a>03075     vbox = gtk_vbox_new ( FALSE,
<a name="l03076"></a>03076                           5 );
<a name="l03077"></a>03077     gtk_box_pack_start ( GTK_BOX ( hbox_detaille_categ_etat ),
<a name="l03078"></a>03078                          vbox,
<a name="l03079"></a>03079                          FALSE,
<a name="l03080"></a>03080                          FALSE,
<a name="l03081"></a>03081                          0 );
<a name="l03082"></a>03082     gtk_widget_show ( vbox );
<a name="l03083"></a>03083 
<a name="l03084"></a>03084     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Select all&quot;</span>) );
<a name="l03085"></a>03085         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l03086"></a>03086     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l03087"></a>03087                             GTK_RELIEF_NONE );
<a name="l03088"></a>03088     g_signal_connect ( G_OBJECT (bouton),
<a name="l03089"></a>03089                        <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l03090"></a>03090                        G_CALLBACK (report_config_category_select_all),
<a name="l03091"></a>03091                        GINT_TO_POINTER (TRUE));
<a name="l03092"></a>03092     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l03093"></a>03093                          bouton,
<a name="l03094"></a>03094                          TRUE,
<a name="l03095"></a>03095                          FALSE,
<a name="l03096"></a>03096                          0 );
<a name="l03097"></a>03097     gtk_widget_show ( bouton );
<a name="l03098"></a>03098 
<a name="l03099"></a>03099     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Unselect all&quot;</span>) );
<a name="l03100"></a>03100         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l03101"></a>03101     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l03102"></a>03102                             GTK_RELIEF_NONE );
<a name="l03103"></a>03103     g_signal_connect ( G_OBJECT (bouton),
<a name="l03104"></a>03104                        <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l03105"></a>03105                        G_CALLBACK (report_config_category_select_all),
<a name="l03106"></a>03106                        GINT_TO_POINTER (FALSE));
<a name="l03107"></a>03107     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l03108"></a>03108                          bouton,
<a name="l03109"></a>03109                          TRUE,
<a name="l03110"></a>03110                          FALSE,
<a name="l03111"></a>03111                          0 );
<a name="l03112"></a>03112     gtk_widget_show ( bouton );
<a name="l03113"></a>03113 
<a name="l03114"></a>03114     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Income categories&quot;</span>) );
<a name="l03115"></a>03115         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l03116"></a>03116     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l03117"></a>03117                             GTK_RELIEF_NONE );
<a name="l03118"></a>03118     g_signal_connect ( G_OBJECT (bouton),
<a name="l03119"></a>03119                        <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l03120"></a>03120                        G_CALLBACK (report_config_category_select_type),
<a name="l03121"></a>03121                        GINT_TO_POINTER (FALSE));
<a name="l03122"></a>03122     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l03123"></a>03123                          bouton,
<a name="l03124"></a>03124                          TRUE,
<a name="l03125"></a>03125                          FALSE,
<a name="l03126"></a>03126                          0 );
<a name="l03127"></a>03127     gtk_widget_show ( bouton );
<a name="l03128"></a>03128 
<a name="l03129"></a>03129     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Outgoing categories&quot;</span>) );
<a name="l03130"></a>03130         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l03131"></a>03131     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l03132"></a>03132                             GTK_RELIEF_NONE );
<a name="l03133"></a>03133     g_signal_connect ( G_OBJECT (bouton),
<a name="l03134"></a>03134                        <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l03135"></a>03135                        G_CALLBACK (report_config_category_select_type),
<a name="l03136"></a>03136                        GINT_TO_POINTER (TRUE));
<a name="l03137"></a>03137     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l03138"></a>03138                          bouton,
<a name="l03139"></a>03139                          TRUE,
<a name="l03140"></a>03140                          FALSE,
<a name="l03141"></a>03141                          0 );
<a name="l03142"></a>03142     gtk_widget_show ( bouton );
<a name="l03143"></a>03143 
<a name="l03144"></a>03144     <span class="keywordflow">return</span> ( vbox_onglet );
<a name="l03145"></a>03145 }
<a name="l03146"></a>03146 
<a name="l03147"></a>03147 
<a name="l03148"></a>03148 
<a name="l03158"></a>03158 <span class="keyword">static</span> GtkWidget *report_config_create_categ_budget_list ( <span class="keywordtype">void</span> )
<a name="l03159"></a>03159 {
<a name="l03160"></a>03160     GtkWidget *tree_view;
<a name="l03161"></a>03161     GtkTreeStore *store;
<a name="l03162"></a>03162     GtkTreeViewColumn *column;
<a name="l03163"></a>03163     GtkCellRenderer *cell_renderer;
<a name="l03164"></a>03164     GtkCellRenderer *radio_renderer;
<a name="l03165"></a>03165 
<a name="l03166"></a>03166     store = gtk_tree_store_new ( <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a277c6e5e02c7dd70756f9fed8c4e7f9d">REPORT_CATEG_BUDGET_LIST_NB</a>,
<a name="l03167"></a>03167                                  G_TYPE_STRING,
<a name="l03168"></a>03168                                  G_TYPE_BOOLEAN,
<a name="l03169"></a>03169                                  G_TYPE_BOOLEAN,
<a name="l03170"></a>03170                                  G_TYPE_INT,
<a name="l03171"></a>03171                                  G_TYPE_INT );
<a name="l03172"></a>03172     gtk_tree_sortable_set_sort_column_id ( GTK_TREE_SORTABLE (store),
<a name="l03173"></a>03173                                            <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7addc503a22071b40d184ea0401daf9339">REPORT_CATEG_BUDGET_LIST_NAME</a>, GTK_SORT_ASCENDING );
<a name="l03174"></a>03174 
<a name="l03175"></a>03175     column = gtk_tree_view_column_new ();
<a name="l03176"></a>03176 
<a name="l03177"></a>03177     <span class="comment">/* create the toggle button part */</span>
<a name="l03178"></a>03178     radio_renderer = gtk_cell_renderer_toggle_new ();
<a name="l03179"></a>03179     g_object_set ( G_OBJECT (radio_renderer),
<a name="l03180"></a>03180                    <span class="stringliteral">&quot;xalign&quot;</span>, 0.0,
<a name="l03181"></a>03181                    NULL );
<a name="l03182"></a>03182     gtk_tree_view_column_pack_start ( column,
<a name="l03183"></a>03183                                       radio_renderer,
<a name="l03184"></a>03184                                       FALSE );
<a name="l03185"></a>03185     gtk_tree_view_column_set_attributes (column,
<a name="l03186"></a>03186                                          radio_renderer,
<a name="l03187"></a>03187                                          <span class="stringliteral">&quot;active&quot;</span>, <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7ac8591acd1831c92457cd37edb5814bbc">REPORT_CATEG_BUDGET_LIST_ACTIVE</a>,
<a name="l03188"></a>03188                                          <span class="stringliteral">&quot;activatable&quot;</span>, <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a29d8416f73ac314b297915363e7d5ed5">REPORT_CATEG_BUDGET_LIST_ACTIVATABLE</a>,
<a name="l03189"></a>03189                                          NULL);
<a name="l03190"></a>03190     g_signal_connect ( G_OBJECT (radio_renderer),
<a name="l03191"></a>03191                        <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l03192"></a>03192                        G_CALLBACK (report_config_categ_budget_toggled),
<a name="l03193"></a>03193                        store );
<a name="l03194"></a>03194 
<a name="l03195"></a>03195     <span class="comment">/* create the text part */</span>
<a name="l03196"></a>03196     cell_renderer = gtk_cell_renderer_text_new ();
<a name="l03197"></a>03197     g_object_set ( G_OBJECT (cell_renderer),
<a name="l03198"></a>03198                    <span class="stringliteral">&quot;xalign&quot;</span>, 0.0,
<a name="l03199"></a>03199                    NULL );
<a name="l03200"></a>03200     gtk_tree_view_column_pack_start ( column,
<a name="l03201"></a>03201                                       cell_renderer,
<a name="l03202"></a>03202                                       TRUE );
<a name="l03203"></a>03203     gtk_tree_view_column_set_attributes (column,
<a name="l03204"></a>03204                                          cell_renderer,
<a name="l03205"></a>03205                                          <span class="stringliteral">&quot;text&quot;</span>, <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7addc503a22071b40d184ea0401daf9339">REPORT_CATEG_BUDGET_LIST_NAME</a>,
<a name="l03206"></a>03206                                          NULL );
<a name="l03207"></a>03207 
<a name="l03208"></a>03208     <span class="comment">/* create the tree view */</span>
<a name="l03209"></a>03209     tree_view = gtk_tree_view_new_with_model (GTK_TREE_MODEL (store));
<a name="l03210"></a>03210     gtk_tree_view_append_column ( GTK_TREE_VIEW (tree_view),
<a name="l03211"></a>03211                                   column );
<a name="l03212"></a>03212     gtk_tree_view_set_headers_visible ( GTK_TREE_VIEW (tree_view),
<a name="l03213"></a>03213                                         FALSE );
<a name="l03214"></a>03214     <span class="keywordflow">return</span> tree_view;
<a name="l03215"></a>03215 }
<a name="l03216"></a>03216 
<a name="l03217"></a>03217 
<a name="l03225"></a>03225 <span class="keyword">static</span> gboolean report_config_fill_categ_budget_list ( gboolean is_categ )
<a name="l03226"></a>03226 {
<a name="l03227"></a>03227     GSList *list_tmp;
<a name="l03228"></a>03228     gchar *name;
<a name="l03229"></a>03229     gchar *without_name, *without_sub_name;
<a name="l03230"></a>03230 
<a name="l03231"></a>03231     <span class="keywordflow">if</span> (is_categ)
<a name="l03232"></a>03232     {
<a name="l03233"></a>03233         list_tmp = <a class="code" href="gsb__data__category_8c.html#a818774b4775a516ebcffe7bbea3fbaeb">gsb_data_category_get_categories_list</a> ();
<a name="l03234"></a>03234         gtk_tree_store_clear (GTK_TREE_STORE (model_categ));
<a name="l03235"></a>03235         without_name = _(<span class="stringliteral">&quot;Empty category&quot;</span>);
<a name="l03236"></a>03236         without_sub_name = _(<span class="stringliteral">&quot;Empty sub-category&quot;</span>);
<a name="l03237"></a>03237     }
<a name="l03238"></a>03238     <span class="keywordflow">else</span>
<a name="l03239"></a>03239     {
<a name="l03240"></a>03240         list_tmp = <a class="code" href="gsb__data__budget_8c.html#a5c36c8f11ed3cd9c03a97c89a27fbc5b">gsb_data_budget_get_budgets_list</a> ();
<a name="l03241"></a>03241         gtk_tree_store_clear (GTK_TREE_STORE (model_budget));
<a name="l03242"></a>03242         without_name = _(<span class="stringliteral">&quot;Empty budget&quot;</span>);
<a name="l03243"></a>03243         without_sub_name = _(<span class="stringliteral">&quot;Empty sub-budget&quot;</span>);
<a name="l03244"></a>03244     }
<a name="l03245"></a>03245 
<a name="l03246"></a>03246     <span class="keywordflow">while</span> ( list_tmp )
<a name="l03247"></a>03247     {
<a name="l03248"></a>03248         gint div_number;
<a name="l03249"></a>03249         GSList *tmp_list_sub_div;
<a name="l03250"></a>03250 
<a name="l03251"></a>03251         <span class="comment">/* get the category to append */</span>
<a name="l03252"></a>03252         <span class="keywordflow">if</span> (is_categ)
<a name="l03253"></a>03253         {
<a name="l03254"></a>03254             div_number = <a class="code" href="gsb__data__category_8c.html#ad96f1f1ae0532eb5ae3503a79dcaa64d">gsb_data_category_get_no_category</a> ( list_tmp -&gt; data );
<a name="l03255"></a>03255             name = <a class="code" href="gsb__data__category_8c.html#a615342249ac310a61000690303ce88a9">gsb_data_category_get_name</a> (div_number, 0, NULL );
<a name="l03256"></a>03256             tmp_list_sub_div = <a class="code" href="gsb__data__category_8c.html#a5b6c6e3288cd0e25f28dd9ac1af6979f">gsb_data_category_get_sub_category_list</a> (div_number);
<a name="l03257"></a>03257         }
<a name="l03258"></a>03258         <span class="keywordflow">else</span>
<a name="l03259"></a>03259         {
<a name="l03260"></a>03260             div_number = <a class="code" href="gsb__data__budget_8c.html#ac49b01b1bea1214e11e6f4d917d2e96a">gsb_data_budget_get_no_budget</a> ( list_tmp -&gt; data );
<a name="l03261"></a>03261             name = <a class="code" href="gsb__data__budget_8c.html#af857141b1d34674997a047500fd76060">gsb_data_budget_get_name</a> (div_number, 0, NULL );
<a name="l03262"></a>03262             tmp_list_sub_div = <a class="code" href="gsb__data__budget_8c.html#a6bc99abfd66c75159af15d6531c3677e">gsb_data_budget_get_sub_budget_list</a> (div_number);
<a name="l03263"></a>03263         }
<a name="l03264"></a>03264 
<a name="l03265"></a>03265         <span class="comment">/* append to the model */</span>
<a name="l03266"></a>03266         report_config_mixed_list_add_div (is_categ, name, div_number);
<a name="l03267"></a>03267         g_free (name);
<a name="l03268"></a>03268 
<a name="l03269"></a>03269         <span class="comment">/* append the sub categories */</span>
<a name="l03270"></a>03270         <span class="keywordflow">while</span> (tmp_list_sub_div)
<a name="l03271"></a>03271         {
<a name="l03272"></a>03272             gint sub_div_number;
<a name="l03273"></a>03273 
<a name="l03274"></a>03274             <span class="keywordflow">if</span> (is_categ)
<a name="l03275"></a>03275             {
<a name="l03276"></a>03276                 sub_div_number = <a class="code" href="gsb__data__category_8c.html#a55a6b25f3fe1e0c08f603308ab091d97">gsb_data_category_get_no_sub_category</a> (tmp_list_sub_div -&gt; data);
<a name="l03277"></a>03277                 name = <a class="code" href="gsb__data__category_8c.html#a3b5bc5fb4125a2e3e8df0c922cbee149">gsb_data_category_get_sub_category_name</a> (div_number, sub_div_number, NULL);
<a name="l03278"></a>03278             }
<a name="l03279"></a>03279             <span class="keywordflow">else</span>
<a name="l03280"></a>03280             {
<a name="l03281"></a>03281                 sub_div_number = <a class="code" href="gsb__data__budget_8c.html#ae9828f372bab1e58bba1fc7d99fef6ea">gsb_data_budget_get_no_sub_budget</a> (tmp_list_sub_div -&gt; data);
<a name="l03282"></a>03282                 name = <a class="code" href="gsb__data__budget_8c.html#a10e64049e14c7fba1d4281d418f34eab">gsb_data_budget_get_sub_budget_name</a> (div_number, sub_div_number, NULL);
<a name="l03283"></a>03283             }
<a name="l03284"></a>03284 
<a name="l03285"></a>03285             <span class="comment">/* append to the model */</span>
<a name="l03286"></a>03286             report_config_mixed_list_add_sub_div (is_categ, name, sub_div_number);
<a name="l03287"></a>03287             g_free (name);
<a name="l03288"></a>03288             tmp_list_sub_div = tmp_list_sub_div -&gt; next;
<a name="l03289"></a>03289         }
<a name="l03290"></a>03290 
<a name="l03291"></a>03291         <span class="comment">/* append without sub-div */</span>
<a name="l03292"></a>03292         report_config_mixed_list_add_sub_div (is_categ, without_sub_name, 0);
<a name="l03293"></a>03293         list_tmp = list_tmp -&gt; next;
<a name="l03294"></a>03294     }
<a name="l03295"></a>03295     <span class="comment">/* append without div and sub-div*/</span>
<a name="l03296"></a>03296     report_config_mixed_list_add_div (is_categ, without_name, 0);
<a name="l03297"></a>03297     report_config_mixed_list_add_sub_div (is_categ, without_sub_name, 0);
<a name="l03298"></a>03298 
<a name="l03299"></a>03299     <span class="keywordflow">return</span> FALSE;
<a name="l03300"></a>03300 }
<a name="l03301"></a>03301 
<a name="l03302"></a>03302 
<a name="l03313"></a>03313 <span class="keyword">static</span> <span class="keywordtype">void</span> report_config_mixed_list_add_div ( gboolean is_categ,
<a name="l03314"></a>03314                                                <span class="keyword">const</span> gchar *name,
<a name="l03315"></a>03315                                                gint number )
<a name="l03316"></a>03316 {
<a name="l03317"></a>03317     GtkTreeModel *model;
<a name="l03318"></a>03318 
<a name="l03319"></a>03319     <span class="keywordflow">if</span> (is_categ)
<a name="l03320"></a>03320         model = model_categ;
<a name="l03321"></a>03321     <span class="keywordflow">else</span>
<a name="l03322"></a>03322         model = model_budget;
<a name="l03323"></a>03323     gtk_tree_store_append ( GTK_TREE_STORE (model),
<a name="l03324"></a>03324                             &amp;parent_iter,
<a name="l03325"></a>03325                             NULL );
<a name="l03326"></a>03326     gtk_tree_store_set (GTK_TREE_STORE (model),
<a name="l03327"></a>03327                         &amp;parent_iter,
<a name="l03328"></a>03328                         <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7addc503a22071b40d184ea0401daf9339">REPORT_CATEG_BUDGET_LIST_NAME</a>, name,
<a name="l03329"></a>03329                         <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a6f68c5cac057b4ca5aa962c72a7bdcc9">REPORT_CATEG_BUDGET_LIST_NUMBER</a>, number,
<a name="l03330"></a>03330                         <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7aa2972713d581d3fa10f20305368d0e2f">REPORT_CATEG_BUDGET_LIST_SUB_NUMBER</a>, -1,
<a name="l03331"></a>03331                         <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a29d8416f73ac314b297915363e7d5ed5">REPORT_CATEG_BUDGET_LIST_ACTIVATABLE</a>, TRUE,
<a name="l03332"></a>03332                         -1 );
<a name="l03333"></a>03333 }
<a name="l03334"></a>03334 
<a name="l03344"></a>03344 <span class="keyword">static</span> <span class="keywordtype">void</span> report_config_mixed_list_add_sub_div ( gboolean is_categ,
<a name="l03345"></a>03345                                                    <span class="keyword">const</span> gchar *name,
<a name="l03346"></a>03346                                                    gint number )
<a name="l03347"></a>03347 {
<a name="l03348"></a>03348     GtkTreeModel *model;
<a name="l03349"></a>03349     GtkTreeIter child_iter;
<a name="l03350"></a>03350 
<a name="l03351"></a>03351     <span class="keywordflow">if</span> (is_categ)
<a name="l03352"></a>03352         model = model_categ;
<a name="l03353"></a>03353     <span class="keywordflow">else</span>
<a name="l03354"></a>03354         model = model_budget;
<a name="l03355"></a>03355     gtk_tree_store_append ( GTK_TREE_STORE (model),
<a name="l03356"></a>03356                             &amp;child_iter,
<a name="l03357"></a>03357                             &amp;parent_iter );
<a name="l03358"></a>03358     gtk_tree_store_set (GTK_TREE_STORE (model),
<a name="l03359"></a>03359                         &amp;child_iter,
<a name="l03360"></a>03360                         <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7addc503a22071b40d184ea0401daf9339">REPORT_CATEG_BUDGET_LIST_NAME</a>, name,
<a name="l03361"></a>03361                         <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a6f68c5cac057b4ca5aa962c72a7bdcc9">REPORT_CATEG_BUDGET_LIST_NUMBER</a>, -1,
<a name="l03362"></a>03362                         <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7aa2972713d581d3fa10f20305368d0e2f">REPORT_CATEG_BUDGET_LIST_SUB_NUMBER</a>, number,
<a name="l03363"></a>03363                         <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a29d8416f73ac314b297915363e7d5ed5">REPORT_CATEG_BUDGET_LIST_ACTIVATABLE</a>, TRUE,
<a name="l03364"></a>03364                         -1 );
<a name="l03365"></a>03365 }
<a name="l03366"></a>03366 
<a name="l03367"></a>03367 
<a name="l03379"></a>03379 <span class="keyword">static</span> gboolean report_config_categ_budget_toggled ( GtkCellRendererToggle *radio_renderer,
<a name="l03380"></a>03380                                                      gchar *path_str,
<a name="l03381"></a>03381                                                      GtkTreeStore *store )
<a name="l03382"></a>03382 {
<a name="l03383"></a>03383     GtkTreePath *path;
<a name="l03384"></a>03384     GtkTreeIter iter;
<a name="l03385"></a>03385     GtkTreeIter iter_children;
<a name="l03386"></a>03386     gboolean toggle_value;
<a name="l03387"></a>03387 
<a name="l03388"></a>03388     g_return_val_if_fail (path_str != NULL, FALSE);
<a name="l03389"></a>03389     g_return_val_if_fail (store != NULL &amp;&amp; GTK_IS_TREE_STORE (store), FALSE);
<a name="l03390"></a>03390 
<a name="l03391"></a>03391     <span class="comment">/* first get the iter and the value of the checkbutton */</span>
<a name="l03392"></a>03392     path = gtk_tree_path_new_from_string (path_str);
<a name="l03393"></a>03393     gtk_tree_model_get_iter ( GTK_TREE_MODEL (store),
<a name="l03394"></a>03394                               &amp;iter, path );
<a name="l03395"></a>03395     gtk_tree_model_get ( GTK_TREE_MODEL (store),
<a name="l03396"></a>03396                          &amp;iter,
<a name="l03397"></a>03397                          <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7ac8591acd1831c92457cd37edb5814bbc">REPORT_CATEG_BUDGET_LIST_ACTIVE</a>, &amp;toggle_value,
<a name="l03398"></a>03398                          -1 );
<a name="l03399"></a>03399 
<a name="l03400"></a>03400     <span class="comment">/* ok, we invert the button */</span>
<a name="l03401"></a>03401     toggle_value = !toggle_value;
<a name="l03402"></a>03402 
<a name="l03403"></a>03403     gtk_tree_store_set ( GTK_TREE_STORE (store),
<a name="l03404"></a>03404                          &amp;iter,
<a name="l03405"></a>03405                          <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7ac8591acd1831c92457cd37edb5814bbc">REPORT_CATEG_BUDGET_LIST_ACTIVE</a>, toggle_value,
<a name="l03406"></a>03406                          -1 );
<a name="l03407"></a>03407 
<a name="l03408"></a>03408     <span class="comment">/* if we are on a mother, we set the same value to all the children */</span>
<a name="l03409"></a>03409     <span class="keywordflow">if</span> (gtk_tree_model_iter_children ( GTK_TREE_MODEL (store), &amp;iter_children, &amp;iter))
<a name="l03410"></a>03410     {
<a name="l03411"></a>03411         <span class="comment">/* we are on the children */</span>
<a name="l03412"></a>03412         <span class="keywordflow">do</span>
<a name="l03413"></a>03413             gtk_tree_store_set ( GTK_TREE_STORE (store),
<a name="l03414"></a>03414                                  &amp;iter_children,
<a name="l03415"></a>03415                                  <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7ac8591acd1831c92457cd37edb5814bbc">REPORT_CATEG_BUDGET_LIST_ACTIVE</a>, toggle_value,
<a name="l03416"></a>03416                                  -1 );
<a name="l03417"></a>03417         <span class="keywordflow">while</span> (gtk_tree_model_iter_next (GTK_TREE_MODEL (store), &amp;iter_children));
<a name="l03418"></a>03418     }
<a name="l03419"></a>03419 
<a name="l03420"></a>03420     <span class="comment">/* if we are activating a child, activate the mother */</span>
<a name="l03421"></a>03421     <span class="keywordflow">if</span> (toggle_value &amp;&amp;
<a name="l03422"></a>03422         gtk_tree_model_iter_parent (GTK_TREE_MODEL (store), &amp;iter_children, &amp;iter))
<a name="l03423"></a>03423         gtk_tree_store_set ( GTK_TREE_STORE (store),
<a name="l03424"></a>03424                              &amp;iter_children,
<a name="l03425"></a>03425                              <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7ac8591acd1831c92457cd37edb5814bbc">REPORT_CATEG_BUDGET_LIST_ACTIVE</a>, toggle_value,
<a name="l03426"></a>03426                              -1 );
<a name="l03427"></a>03427 
<a name="l03428"></a>03428     gtk_tree_path_free (path);
<a name="l03429"></a>03429     <span class="keywordflow">return</span> FALSE;
<a name="l03430"></a>03430 }
<a name="l03431"></a>03431 
<a name="l03432"></a>03432 
<a name="l03441"></a>03441 <span class="keyword">static</span> gboolean report_config_category_select_all ( GtkWidget *button,
<a name="l03442"></a>03442                                                     gboolean *select_ptr )
<a name="l03443"></a>03443 {
<a name="l03444"></a>03444     <span class="keywordflow">return</span> (report_config_mix_select_all (model_categ, GPOINTER_TO_INT (select_ptr)));
<a name="l03445"></a>03445 }
<a name="l03446"></a>03446 
<a name="l03447"></a>03447 
<a name="l03448"></a>03448 
<a name="l03457"></a>03457 <span class="keyword">static</span> gboolean report_config_budget_select_all ( GtkWidget *button,
<a name="l03458"></a>03458                                                   gboolean *select_ptr )
<a name="l03459"></a>03459 {
<a name="l03460"></a>03460     <span class="keywordflow">return</span> (report_config_mix_select_all (model_budget, GPOINTER_TO_INT (select_ptr)));
<a name="l03461"></a>03461 }
<a name="l03462"></a>03462 
<a name="l03463"></a>03463 
<a name="l03464"></a>03464 
<a name="l03473"></a>03473 <span class="keyword">static</span> gboolean report_config_mix_select_all ( GtkTreeModel *model,
<a name="l03474"></a>03474                                                gboolean toggle_value )
<a name="l03475"></a>03475 {
<a name="l03476"></a>03476     <span class="keywordflow">if</span> (!gtk_tree_model_get_iter_first (GTK_TREE_MODEL (model), &amp;parent_iter))
<a name="l03477"></a>03477         <span class="keywordflow">return</span> FALSE;
<a name="l03478"></a>03478 
<a name="l03479"></a>03479     <span class="keywordflow">do</span>
<a name="l03480"></a>03480     {
<a name="l03481"></a>03481         GtkTreeIter iter_children;
<a name="l03482"></a>03482 
<a name="l03483"></a>03483         gtk_tree_store_set ( GTK_TREE_STORE (model),
<a name="l03484"></a>03484                              &amp;parent_iter,
<a name="l03485"></a>03485                              <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7ac8591acd1831c92457cd37edb5814bbc">REPORT_CATEG_BUDGET_LIST_ACTIVE</a>, toggle_value,
<a name="l03486"></a>03486                              -1 );
<a name="l03487"></a>03487 
<a name="l03488"></a>03488         <span class="keywordflow">if</span> (gtk_tree_model_iter_children ( GTK_TREE_MODEL (model), &amp;iter_children, &amp;parent_iter))
<a name="l03489"></a>03489         {
<a name="l03490"></a>03490             <span class="comment">/* we are on the children */</span>
<a name="l03491"></a>03491             <span class="keywordflow">do</span>
<a name="l03492"></a>03492                 gtk_tree_store_set ( GTK_TREE_STORE (model),
<a name="l03493"></a>03493                                      &amp;iter_children,
<a name="l03494"></a>03494                                      <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7ac8591acd1831c92457cd37edb5814bbc">REPORT_CATEG_BUDGET_LIST_ACTIVE</a>, toggle_value,
<a name="l03495"></a>03495                                      -1 );
<a name="l03496"></a>03496             <span class="keywordflow">while</span> (gtk_tree_model_iter_next (GTK_TREE_MODEL (model), &amp;iter_children));
<a name="l03497"></a>03497         }
<a name="l03498"></a>03498     }
<a name="l03499"></a>03499     <span class="keywordflow">while</span> (gtk_tree_model_iter_next (GTK_TREE_MODEL (model), &amp;parent_iter));
<a name="l03500"></a>03500     <span class="keywordflow">return</span> FALSE;
<a name="l03501"></a>03501 }
<a name="l03502"></a>03502 
<a name="l03503"></a>03503 
<a name="l03512"></a>03512 <span class="keyword">static</span> gboolean report_config_category_select_type ( GtkWidget *button,
<a name="l03513"></a>03513                                                      gboolean *type_ptr )
<a name="l03514"></a>03514 
<a name="l03515"></a>03515 {
<a name="l03516"></a>03516     <span class="keywordflow">return</span> (report_config_mix_select_type (TRUE, GPOINTER_TO_INT (type_ptr)));
<a name="l03517"></a>03517 }
<a name="l03518"></a>03518 
<a name="l03527"></a>03527 <span class="keyword">static</span> gboolean report_config_budget_select_type ( GtkWidget *button,
<a name="l03528"></a>03528                                                    gboolean *type_ptr )
<a name="l03529"></a>03529 {
<a name="l03530"></a>03530     <span class="keywordflow">return</span> (report_config_mix_select_type (FALSE, GPOINTER_TO_INT (type_ptr)));
<a name="l03531"></a>03531 }
<a name="l03532"></a>03532 
<a name="l03541"></a>03541 <span class="keyword">static</span> gboolean report_config_mix_select_type ( gboolean is_categ,
<a name="l03542"></a>03542                                                 gboolean type )
<a name="l03543"></a>03543 
<a name="l03544"></a>03544 {
<a name="l03545"></a>03545     GtkTreeModel *model;
<a name="l03546"></a>03546     GtkTreeIter iter;
<a name="l03547"></a>03547 
<a name="l03548"></a>03548     <span class="keywordflow">if</span> (is_categ)
<a name="l03549"></a>03549         model = model_categ;
<a name="l03550"></a>03550     <span class="keywordflow">else</span>
<a name="l03551"></a>03551         model = model_budget;
<a name="l03552"></a>03552 
<a name="l03553"></a>03553     report_config_mix_select_all (model, FALSE);
<a name="l03554"></a>03554 
<a name="l03555"></a>03555     <span class="keywordflow">if</span> (!gtk_tree_model_get_iter_first (GTK_TREE_MODEL (model), &amp;iter))
<a name="l03556"></a>03556         <span class="keywordflow">return</span> FALSE;
<a name="l03557"></a>03557 
<a name="l03558"></a>03558     <span class="keywordflow">do</span>
<a name="l03559"></a>03559     {
<a name="l03560"></a>03560         gint div_number;
<a name="l03561"></a>03561 
<a name="l03562"></a>03562         gtk_tree_model_get (GTK_TREE_MODEL (model),
<a name="l03563"></a>03563                             &amp;iter,
<a name="l03564"></a>03564                             <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a6f68c5cac057b4ca5aa962c72a7bdcc9">REPORT_CATEG_BUDGET_LIST_NUMBER</a>, &amp;div_number,
<a name="l03565"></a>03565                             -1 );
<a name="l03566"></a>03566 
<a name="l03567"></a>03567         <span class="comment">/* we always select without categories/budget ?? set yes by default */</span>
<a name="l03568"></a>03568         <span class="keywordflow">if</span> ( !div_number
<a name="l03569"></a>03569              ||
<a name="l03570"></a>03570              (is_categ &amp;&amp; (<a class="code" href="gsb__data__category_8c.html#ad207c5dac58f010fe8c73c4e2f2f5a58">gsb_data_category_get_type</a> (div_number) == type))
<a name="l03571"></a>03571              ||
<a name="l03572"></a>03572              (!is_categ &amp;&amp; (<a class="code" href="gsb__data__budget_8c.html#a11b94ff79cd2f1c623fd8e83463a2321">gsb_data_budget_get_type</a> (div_number) == type)))
<a name="l03573"></a>03573         {
<a name="l03574"></a>03574             GtkTreeIter iter_children;
<a name="l03575"></a>03575 
<a name="l03576"></a>03576             gtk_tree_store_set ( GTK_TREE_STORE (model),
<a name="l03577"></a>03577                                  &amp;iter,
<a name="l03578"></a>03578                                  <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7ac8591acd1831c92457cd37edb5814bbc">REPORT_CATEG_BUDGET_LIST_ACTIVE</a>, TRUE,
<a name="l03579"></a>03579                                  -1 );
<a name="l03580"></a>03580 
<a name="l03581"></a>03581             <span class="keywordflow">if</span> (gtk_tree_model_iter_children ( GTK_TREE_MODEL (model), &amp;iter_children, &amp;iter))
<a name="l03582"></a>03582             {
<a name="l03583"></a>03583                 <span class="comment">/* we are on the children */</span>
<a name="l03584"></a>03584                 <span class="keywordflow">do</span>
<a name="l03585"></a>03585                     gtk_tree_store_set ( GTK_TREE_STORE (model),
<a name="l03586"></a>03586                                          &amp;iter_children,
<a name="l03587"></a>03587                                          <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7ac8591acd1831c92457cd37edb5814bbc">REPORT_CATEG_BUDGET_LIST_ACTIVE</a>, TRUE,
<a name="l03588"></a>03588                                          -1 );
<a name="l03589"></a>03589                 <span class="keywordflow">while</span> (gtk_tree_model_iter_next (GTK_TREE_MODEL (model), &amp;iter_children));
<a name="l03590"></a>03590             }
<a name="l03591"></a>03591         }
<a name="l03592"></a>03592     }
<a name="l03593"></a>03593     <span class="keywordflow">while</span> (gtk_tree_model_iter_next (GTK_TREE_MODEL (model), &amp;iter));
<a name="l03594"></a>03594     <span class="keywordflow">return</span> FALSE;
<a name="l03595"></a>03595 }
<a name="l03596"></a>03596 
<a name="l03597"></a>03597 
<a name="l03607"></a>03607 <span class="keyword">static</span> GSList *report_config_categ_budget_get_selected ( gboolean is_categ )
<a name="l03608"></a>03608 {
<a name="l03609"></a>03609     GtkTreeModel *model;
<a name="l03610"></a>03610     gboolean all_selected = TRUE;
<a name="l03611"></a>03611     GSList *tmp_list = NULL;
<a name="l03612"></a>03612 
<a name="l03613"></a>03613     <span class="keywordflow">if</span> (is_categ)
<a name="l03614"></a>03614         model = model_categ;
<a name="l03615"></a>03615     <span class="keywordflow">else</span>
<a name="l03616"></a>03616         model = model_budget;
<a name="l03617"></a>03617 
<a name="l03618"></a>03618     <span class="keywordflow">if</span> (!gtk_tree_model_get_iter_first (GTK_TREE_MODEL (model), &amp;parent_iter))
<a name="l03619"></a>03619         <span class="keywordflow">return</span> NULL;
<a name="l03620"></a>03620 
<a name="l03621"></a>03621     <span class="keywordflow">do</span>
<a name="l03622"></a>03622     {
<a name="l03623"></a>03623         gint div_number;
<a name="l03624"></a>03624         gboolean active;
<a name="l03625"></a>03625         <a class="code" href="structstruct__categ__budget__sel.html">struct_categ_budget_sel</a> *categ_budget_struct;
<a name="l03626"></a>03626         GtkTreeIter iter_children;
<a name="l03627"></a>03627 
<a name="l03628"></a>03628         gtk_tree_model_get (GTK_TREE_MODEL (model),
<a name="l03629"></a>03629                             &amp;parent_iter,
<a name="l03630"></a>03630                             <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a6f68c5cac057b4ca5aa962c72a7bdcc9">REPORT_CATEG_BUDGET_LIST_NUMBER</a>, &amp;div_number,
<a name="l03631"></a>03631                             <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7ac8591acd1831c92457cd37edb5814bbc">REPORT_CATEG_BUDGET_LIST_ACTIVE</a>, &amp;active,
<a name="l03632"></a>03632                             -1 );
<a name="l03633"></a>03633         <span class="keywordflow">if</span> (!active)
<a name="l03634"></a>03634         {
<a name="l03635"></a>03635             all_selected = FALSE;
<a name="l03636"></a>03636             <span class="keywordflow">continue</span>;
<a name="l03637"></a>03637         }
<a name="l03638"></a>03638 
<a name="l03639"></a>03639         <span class="comment">/* ok, we are on a selected category/budget, create and fill the structure */</span>
<a name="l03640"></a>03640         categ_budget_struct = g_malloc0 (<span class="keyword">sizeof</span> (<a class="code" href="structstruct__categ__budget__sel.html">struct_categ_budget_sel</a>));
<a name="l03641"></a>03641 
<a name="l03642"></a>03642         categ_budget_struct -&gt; div_number = div_number;
<a name="l03643"></a>03643         tmp_list = g_slist_append (tmp_list, categ_budget_struct);
<a name="l03644"></a>03644 
<a name="l03645"></a>03645         <span class="comment">/* check the children */</span>
<a name="l03646"></a>03646         <span class="keywordflow">if</span> (gtk_tree_model_iter_children ( GTK_TREE_MODEL (model), &amp;iter_children, &amp;parent_iter))
<a name="l03647"></a>03647         {
<a name="l03648"></a>03648             <span class="comment">/* we are on the children */</span>
<a name="l03649"></a>03649             <span class="keywordflow">do</span>
<a name="l03650"></a>03650             {
<a name="l03651"></a>03651                 gint sub_div_number;
<a name="l03652"></a>03652 
<a name="l03653"></a>03653                 gtk_tree_model_get (GTK_TREE_MODEL (model),
<a name="l03654"></a>03654                                     &amp;iter_children,
<a name="l03655"></a>03655                                     <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7aa2972713d581d3fa10f20305368d0e2f">REPORT_CATEG_BUDGET_LIST_SUB_NUMBER</a>, &amp;sub_div_number,
<a name="l03656"></a>03656                                     <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7ac8591acd1831c92457cd37edb5814bbc">REPORT_CATEG_BUDGET_LIST_ACTIVE</a>, &amp;active,
<a name="l03657"></a>03657                                     -1 );
<a name="l03658"></a>03658                 <span class="keywordflow">if</span> (active)
<a name="l03659"></a>03659                     categ_budget_struct -&gt; sub_div_numbers = g_slist_append ( categ_budget_struct -&gt; sub_div_numbers,
<a name="l03660"></a>03660                                                                               GINT_TO_POINTER (sub_div_number));
<a name="l03661"></a>03661                 <span class="keywordflow">else</span>
<a name="l03662"></a>03662                     all_selected = FALSE;
<a name="l03663"></a>03663             }
<a name="l03664"></a>03664             <span class="keywordflow">while</span> (gtk_tree_model_iter_next (GTK_TREE_MODEL (model), &amp;iter_children));
<a name="l03665"></a>03665         }
<a name="l03666"></a>03666     }
<a name="l03667"></a>03667     <span class="keywordflow">while</span> (gtk_tree_model_iter_next (GTK_TREE_MODEL (model), &amp;parent_iter));
<a name="l03668"></a>03668 
<a name="l03669"></a>03669     <span class="comment">/* if all is selected, erase the new list and set an info message */</span>
<a name="l03670"></a>03670     <span class="keywordflow">if</span> (all_selected)
<a name="l03671"></a>03671     {
<a name="l03672"></a>03672         <span class="keywordflow">if</span> (is_categ)
<a name="l03673"></a>03673             <a class="code" href="dialog_8c.html#ac3e0ed9412c48edad2cd0dad89c7d566">dialogue_special</a> ( GTK_MESSAGE_INFO,
<a name="l03674"></a>03674                                <a class="code" href="dialog_8c.html#a84758de40aa2807a4e5ebd97ede7df23">make_hint</a> ( _(<span class="stringliteral">&quot;Performance issue.&quot;</span>),
<a name="l03675"></a>03675                                            _(<span class="stringliteral">&quot;All categories have been selected.  Grisbi will run faster without the \&quot;Detail categories used\&quot; option activated.&quot;</span>)));
<a name="l03676"></a>03676         <span class="keywordflow">else</span>
<a name="l03677"></a>03677             <a class="code" href="dialog_8c.html#ac3e0ed9412c48edad2cd0dad89c7d566">dialogue_special</a> ( GTK_MESSAGE_INFO,
<a name="l03678"></a>03678                                <a class="code" href="dialog_8c.html#a84758de40aa2807a4e5ebd97ede7df23">make_hint</a> ( _(<span class="stringliteral">&quot;Performance issue.&quot;</span>),
<a name="l03679"></a>03679                                            _(<span class="stringliteral">&quot;All budgets have been selected.  Grisbi will run faster without the \&quot;Detail budgets used\&quot; option activated.&quot;</span>)));
<a name="l03680"></a>03680 
<a name="l03681"></a>03681         report_config_mix_select_all (model, FALSE);
<a name="l03682"></a>03682         <a class="code" href="gsb__data__report_8c.html#a4b4e9db9308383255c4d5ad14050f731">gsb_data_report_free_categ_budget_struct</a> (tmp_list);
<a name="l03683"></a>03683         tmp_list = NULL;
<a name="l03684"></a>03684     }
<a name="l03685"></a>03685     <span class="keywordflow">return</span> tmp_list;
<a name="l03686"></a>03686 }
<a name="l03687"></a>03687 
<a name="l03688"></a>03688 
<a name="l03696"></a>03696 <span class="keyword">static</span> <span class="keywordtype">void</span> report_config_category_update_treeview ( gboolean is_categ )
<a name="l03697"></a>03697 {
<a name="l03698"></a>03698     GSList *tmp_list;
<a name="l03699"></a>03699     gint current_report_number;
<a name="l03700"></a>03700 
<a name="l03701"></a>03701     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l03702"></a>03702 
<a name="l03703"></a>03703     <span class="keywordflow">if</span> (is_categ)
<a name="l03704"></a>03704     {
<a name="l03705"></a>03705         report_config_mix_select_all (model_categ, FALSE);
<a name="l03706"></a>03706         tmp_list = <a class="code" href="gsb__data__report_8c.html#af8cf9d659ba029877c116f4b7b2f549b">gsb_data_report_get_category_struct</a> (current_report_number);
<a name="l03707"></a>03707     }
<a name="l03708"></a>03708     <span class="keywordflow">else</span>
<a name="l03709"></a>03709     {
<a name="l03710"></a>03710         report_config_mix_select_all (model_budget, FALSE);
<a name="l03711"></a>03711         tmp_list = <a class="code" href="gsb__data__report_8c.html#a73b4bbf059d42a3a4e769b935adf99e2">gsb_data_report_get_budget_struct</a> (current_report_number);
<a name="l03712"></a>03712     }
<a name="l03713"></a>03713 
<a name="l03714"></a>03714     <span class="keywordflow">while</span> ( tmp_list )
<a name="l03715"></a>03715     {
<a name="l03716"></a>03716         <a class="code" href="structstruct__categ__budget__sel.html">struct_categ_budget_sel</a> *categ_budget_struct = tmp_list -&gt; data;
<a name="l03717"></a>03717         report_config_category_toggle_categ (categ_budget_struct, is_categ);
<a name="l03718"></a>03718         tmp_list = tmp_list -&gt; next;
<a name="l03719"></a>03719     }
<a name="l03720"></a>03720 }
<a name="l03721"></a>03721 
<a name="l03731"></a>03731 <span class="keyword">static</span> <span class="keywordtype">void</span> report_config_category_toggle_categ ( <a class="code" href="structstruct__categ__budget__sel.html">struct_categ_budget_sel</a> *categ_budget_struct,
<a name="l03732"></a>03732                                                   gboolean is_categ )
<a name="l03733"></a>03733 {
<a name="l03734"></a>03734     GtkTreeModel *model;
<a name="l03735"></a>03735 
<a name="l03736"></a>03736     <span class="keywordflow">if</span> (is_categ)
<a name="l03737"></a>03737         model = gtk_tree_view_get_model (GTK_TREE_VIEW (tree_view_categ));
<a name="l03738"></a>03738     <span class="keywordflow">else</span>
<a name="l03739"></a>03739         model = gtk_tree_view_get_model (GTK_TREE_VIEW (tree_view_budget));
<a name="l03740"></a>03740 
<a name="l03741"></a>03741     <span class="keywordflow">if</span> (!gtk_tree_model_get_iter_first (GTK_TREE_MODEL (model), &amp;parent_iter))
<a name="l03742"></a>03742         <span class="keywordflow">return</span>;
<a name="l03743"></a>03743 
<a name="l03744"></a>03744     <span class="keywordflow">do</span>
<a name="l03745"></a>03745     {
<a name="l03746"></a>03746         gint div_number;
<a name="l03747"></a>03747 
<a name="l03748"></a>03748         gtk_tree_model_get ( GTK_TREE_MODEL (model),
<a name="l03749"></a>03749                              &amp;parent_iter,
<a name="l03750"></a>03750                              <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a6f68c5cac057b4ca5aa962c72a7bdcc9">REPORT_CATEG_BUDGET_LIST_NUMBER</a>, &amp;div_number,
<a name="l03751"></a>03751                              -1 );
<a name="l03752"></a>03752 
<a name="l03753"></a>03753         <span class="comment">/* we check the children only if the category is selected */</span>
<a name="l03754"></a>03754         <span class="keywordflow">if</span> (div_number == categ_budget_struct -&gt; div_number)
<a name="l03755"></a>03755         {
<a name="l03756"></a>03756             gtk_tree_store_set ( GTK_TREE_STORE (model),
<a name="l03757"></a>03757                                  &amp;parent_iter,
<a name="l03758"></a>03758                                  <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7ac8591acd1831c92457cd37edb5814bbc">REPORT_CATEG_BUDGET_LIST_ACTIVE</a>, TRUE,
<a name="l03759"></a>03759                                  -1 );
<a name="l03760"></a>03760             <span class="keywordflow">if</span> (categ_budget_struct -&gt; sub_div_numbers)
<a name="l03761"></a>03761             {
<a name="l03762"></a>03762                 GtkTreeIter iter_child;
<a name="l03763"></a>03763                 <span class="keywordflow">if</span> (gtk_tree_model_iter_children (GTK_TREE_MODEL (model), &amp;iter_child, &amp;parent_iter))
<a name="l03764"></a>03764                     <span class="keywordflow">do</span>
<a name="l03765"></a>03765                     {
<a name="l03766"></a>03766                         gint sub_div_number;
<a name="l03767"></a>03767 
<a name="l03768"></a>03768                         gtk_tree_model_get ( GTK_TREE_MODEL (model),
<a name="l03769"></a>03769                                              &amp;iter_child,
<a name="l03770"></a>03770                                              <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7aa2972713d581d3fa10f20305368d0e2f">REPORT_CATEG_BUDGET_LIST_SUB_NUMBER</a>, &amp;sub_div_number,
<a name="l03771"></a>03771                                              -1 );
<a name="l03772"></a>03772                         <span class="keywordflow">if</span> (g_slist_find (categ_budget_struct -&gt; sub_div_numbers, GINT_TO_POINTER (sub_div_number)))
<a name="l03773"></a>03773                             gtk_tree_store_set ( GTK_TREE_STORE (model),
<a name="l03774"></a>03774                                                  &amp;iter_child,
<a name="l03775"></a>03775                                                  <a class="code" href="etats__config_8c.html#adf764cbdea00d65edcd07bb9953ad2b7ac8591acd1831c92457cd37edb5814bbc">REPORT_CATEG_BUDGET_LIST_ACTIVE</a>, TRUE,
<a name="l03776"></a>03776                                                  -1 );
<a name="l03777"></a>03777                     }
<a name="l03778"></a>03778                     <span class="keywordflow">while</span> (gtk_tree_model_iter_next (GTK_TREE_MODEL (model), &amp;iter_child));
<a name="l03779"></a>03779             }
<a name="l03780"></a>03780             <span class="comment">/* we have found the category, can stop here */</span>
<a name="l03781"></a>03781             <span class="keywordflow">break</span>;
<a name="l03782"></a>03782         }
<a name="l03783"></a>03783     }
<a name="l03784"></a>03784     <span class="keywordflow">while</span> (gtk_tree_model_iter_next (GTK_TREE_MODEL (model), &amp;parent_iter));
<a name="l03785"></a>03785 }
<a name="l03786"></a>03786 
<a name="l03787"></a>03787 
<a name="l03788"></a>03788 GtkWidget *onglet_etat_ib ( <span class="keywordtype">void</span> )
<a name="l03789"></a>03789 {
<a name="l03790"></a>03790     GtkWidget *vbox;
<a name="l03791"></a>03791     GtkWidget *label;
<a name="l03792"></a>03792     GtkWidget *scrolled_window;
<a name="l03793"></a>03793     GtkWidget *bouton;
<a name="l03794"></a>03794     GtkWidget *hbox;
<a name="l03795"></a>03795     GtkWidget *vbox_onglet;
<a name="l03796"></a>03796 
<a name="l03797"></a>03797     vbox_onglet = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Budgetary lines&quot;</span>), <span class="stringliteral">&quot;budgetary_lines.png&quot;</span> );
<a name="l03798"></a>03798     gtk_widget_show ( vbox_onglet );
<a name="l03799"></a>03799 
<a name="l03800"></a>03800     hbox = gtk_hbox_new ( FALSE,
<a name="l03801"></a>03801                           5 );
<a name="l03802"></a>03802     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l03803"></a>03803                          hbox,
<a name="l03804"></a>03804                          FALSE,
<a name="l03805"></a>03805                          FALSE,
<a name="l03806"></a>03806                          0 );
<a name="l03807"></a>03807     gtk_widget_show ( hbox );
<a name="l03808"></a>03808 
<a name="l03809"></a>03809 
<a name="l03810"></a>03810     bouton_detaille_ib_etat = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Detail budgetary lines&quot;</span>) );
<a name="l03811"></a>03811     g_signal_connect_swapped ( G_OBJECT ( bouton_detaille_ib_etat ),
<a name="l03812"></a>03812                                 <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l03813"></a>03813                                 G_CALLBACK ( report_tree_update_style ),
<a name="l03814"></a>03814                                 GINT_TO_POINTER ( 5 ));
<a name="l03815"></a>03815     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l03816"></a>03816                          bouton_detaille_ib_etat,
<a name="l03817"></a>03817                          FALSE,
<a name="l03818"></a>03818                          FALSE,
<a name="l03819"></a>03819                          0 );
<a name="l03820"></a>03820     gtk_widget_show ( bouton_detaille_ib_etat );
<a name="l03821"></a>03821 
<a name="l03822"></a>03822 
<a name="l03823"></a>03823     <span class="comment">/* mise en place de la liste et des boutons de détaillage */</span>
<a name="l03824"></a>03824 
<a name="l03825"></a>03825     hbox_detaille_ib_etat = gtk_hbox_new ( FALSE, 5 );
<a name="l03826"></a>03826     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l03827"></a>03827                          hbox_detaille_ib_etat,
<a name="l03828"></a>03828                          TRUE,
<a name="l03829"></a>03829                          TRUE,
<a name="l03830"></a>03830                          0 );
<a name="l03831"></a>03831     gtk_widget_show ( hbox_detaille_ib_etat );
<a name="l03832"></a>03832 
<a name="l03833"></a>03833     g_signal_connect ( G_OBJECT ( bouton_detaille_ib_etat ),
<a name="l03834"></a>03834                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l03835"></a>03835                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l03836"></a>03836                          hbox_detaille_ib_etat );
<a name="l03837"></a>03837 
<a name="l03838"></a>03838     vbox = gtk_vbox_new ( FALSE,
<a name="l03839"></a>03839                           5 );
<a name="l03840"></a>03840     gtk_box_pack_start ( GTK_BOX ( hbox_detaille_ib_etat ),
<a name="l03841"></a>03841                          vbox,
<a name="l03842"></a>03842                          TRUE,
<a name="l03843"></a>03843                          TRUE,
<a name="l03844"></a>03844                          0 );
<a name="l03845"></a>03845     gtk_widget_show ( vbox );
<a name="l03846"></a>03846 
<a name="l03847"></a>03847     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;Select the budgetary lines to include in the report&quot;</span>)) );
<a name="l03848"></a>03848         gtk_misc_set_padding ( GTK_MISC ( label ), 3, 0 );
<a name="l03849"></a>03849         gtk_misc_set_alignment ( GTK_MISC ( label ), 0.0, 0.0 );
<a name="l03850"></a>03850 
<a name="l03851"></a>03851     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l03852"></a>03852                          label,
<a name="l03853"></a>03853                          FALSE,
<a name="l03854"></a>03854                          FALSE,
<a name="l03855"></a>03855                          0 );
<a name="l03856"></a>03856     gtk_widget_show ( label );
<a name="l03857"></a>03857 
<a name="l03858"></a>03858 
<a name="l03859"></a>03859     scrolled_window = gtk_scrolled_window_new ( FALSE,
<a name="l03860"></a>03860                                                 FALSE );
<a name="l03861"></a>03861     gtk_scrolled_window_set_policy ( GTK_SCROLLED_WINDOW ( scrolled_window ),
<a name="l03862"></a>03862                                      GTK_POLICY_AUTOMATIC,
<a name="l03863"></a>03863                                      GTK_POLICY_AUTOMATIC );
<a name="l03864"></a>03864     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l03865"></a>03865                          scrolled_window,
<a name="l03866"></a>03866                          TRUE,
<a name="l03867"></a>03867                          TRUE,
<a name="l03868"></a>03868                          0 );
<a name="l03869"></a>03869     gtk_widget_show ( scrolled_window );
<a name="l03870"></a>03870 
<a name="l03871"></a>03871     <span class="comment">/* add the budget list */</span>
<a name="l03872"></a>03872     tree_view_budget = report_config_create_categ_budget_list ();
<a name="l03873"></a>03873     model_budget = gtk_tree_view_get_model (GTK_TREE_VIEW (tree_view_budget));
<a name="l03874"></a>03874     gtk_container_add ( GTK_CONTAINER ( scrolled_window ),
<a name="l03875"></a>03875                         tree_view_budget );
<a name="l03876"></a>03876     gtk_widget_show ( tree_view_budget );
<a name="l03877"></a>03877 
<a name="l03878"></a>03878     <span class="comment">/* fill the list */</span>
<a name="l03879"></a>03879     report_config_fill_categ_budget_list (FALSE);
<a name="l03880"></a>03880 
<a name="l03881"></a>03881     <span class="comment">/*   sur la partie de droite, on met les boutons (dé)sélectionner tout */</span>
<a name="l03882"></a>03882     vbox = gtk_vbox_new ( FALSE,
<a name="l03883"></a>03883                           5 );
<a name="l03884"></a>03884     gtk_box_pack_start ( GTK_BOX ( hbox_detaille_ib_etat ),
<a name="l03885"></a>03885                          vbox,
<a name="l03886"></a>03886                          FALSE,
<a name="l03887"></a>03887                          FALSE,
<a name="l03888"></a>03888                          0 );
<a name="l03889"></a>03889     gtk_widget_show ( vbox );
<a name="l03890"></a>03890 
<a name="l03891"></a>03891     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Select all&quot;</span>) );
<a name="l03892"></a>03892         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l03893"></a>03893     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l03894"></a>03894                             GTK_RELIEF_NONE );
<a name="l03895"></a>03895     g_signal_connect ( G_OBJECT (bouton),
<a name="l03896"></a>03896                        <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l03897"></a>03897                        G_CALLBACK (report_config_budget_select_all),
<a name="l03898"></a>03898                        GINT_TO_POINTER (TRUE));
<a name="l03899"></a>03899     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l03900"></a>03900                          bouton,
<a name="l03901"></a>03901                          TRUE,
<a name="l03902"></a>03902                          FALSE,
<a name="l03903"></a>03903                          0 );
<a name="l03904"></a>03904     gtk_widget_show ( bouton );
<a name="l03905"></a>03905 
<a name="l03906"></a>03906     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Unselect all&quot;</span>) );
<a name="l03907"></a>03907         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l03908"></a>03908     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l03909"></a>03909                             GTK_RELIEF_NONE );
<a name="l03910"></a>03910     g_signal_connect ( G_OBJECT (bouton),
<a name="l03911"></a>03911                        <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l03912"></a>03912                        G_CALLBACK (report_config_budget_select_all),
<a name="l03913"></a>03913                        GINT_TO_POINTER (FALSE));
<a name="l03914"></a>03914     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l03915"></a>03915                          bouton,
<a name="l03916"></a>03916                          TRUE,
<a name="l03917"></a>03917                          FALSE,
<a name="l03918"></a>03918                          0 );
<a name="l03919"></a>03919     gtk_widget_show ( bouton );
<a name="l03920"></a>03920 
<a name="l03921"></a>03921     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Income budget lines&quot;</span>) );
<a name="l03922"></a>03922         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l03923"></a>03923     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l03924"></a>03924                             GTK_RELIEF_NONE );
<a name="l03925"></a>03925     g_signal_connect ( G_OBJECT (bouton),
<a name="l03926"></a>03926                        <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l03927"></a>03927                        G_CALLBACK (report_config_budget_select_type),
<a name="l03928"></a>03928                        GINT_TO_POINTER (FALSE));
<a name="l03929"></a>03929     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l03930"></a>03930                          bouton,
<a name="l03931"></a>03931                          TRUE,
<a name="l03932"></a>03932                          FALSE,
<a name="l03933"></a>03933                          0 );
<a name="l03934"></a>03934     gtk_widget_show ( bouton );
<a name="l03935"></a>03935 
<a name="l03936"></a>03936     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Outgoing budget lines&quot;</span>) );
<a name="l03937"></a>03937         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l03938"></a>03938     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l03939"></a>03939                             GTK_RELIEF_NONE );
<a name="l03940"></a>03940     g_signal_connect ( G_OBJECT (bouton),
<a name="l03941"></a>03941                        <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l03942"></a>03942                        G_CALLBACK (report_config_budget_select_type),
<a name="l03943"></a>03943                        GINT_TO_POINTER (TRUE));
<a name="l03944"></a>03944     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l03945"></a>03945                          bouton,
<a name="l03946"></a>03946                          TRUE,
<a name="l03947"></a>03947                          FALSE,
<a name="l03948"></a>03948                          0 );
<a name="l03949"></a>03949     gtk_widget_show ( bouton );
<a name="l03950"></a>03950 
<a name="l03951"></a>03951     hbox = gtk_hbox_new ( FALSE,
<a name="l03952"></a>03952                           5 );
<a name="l03953"></a>03953     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l03954"></a>03954                          hbox,
<a name="l03955"></a>03955                          FALSE,
<a name="l03956"></a>03956                          FALSE,
<a name="l03957"></a>03957                          0 );
<a name="l03958"></a>03958     gtk_widget_show ( hbox );
<a name="l03959"></a>03959 
<a name="l03960"></a>03960     <span class="keywordflow">return</span> ( vbox_onglet );
<a name="l03961"></a>03961 }
<a name="l03962"></a>03962 
<a name="l03963"></a>03963 
<a name="l03964"></a>03964 
<a name="l03972"></a>03972 GtkWidget *onglet_etat_tiers ( <span class="keywordtype">void</span> )
<a name="l03973"></a>03973 {
<a name="l03974"></a>03974     GtkWidget *hbox;
<a name="l03975"></a>03975     GtkWidget *vbox;
<a name="l03976"></a>03976     GtkWidget *label;
<a name="l03977"></a>03977     GtkWidget *scrolled_window;
<a name="l03978"></a>03978     GtkWidget *bouton;
<a name="l03979"></a>03979     GtkWidget *vbox_onglet;
<a name="l03980"></a>03980 
<a name="l03981"></a>03981     vbox_onglet = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Payees&quot;</span>), <span class="stringliteral">&quot;payees.png&quot;</span> );
<a name="l03982"></a>03982     gtk_widget_show ( vbox_onglet );
<a name="l03983"></a>03983 
<a name="l03984"></a>03984     hbox = gtk_hbox_new ( FALSE,
<a name="l03985"></a>03985                           5 );
<a name="l03986"></a>03986     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l03987"></a>03987                          hbox,
<a name="l03988"></a>03988                          FALSE,
<a name="l03989"></a>03989                          FALSE,
<a name="l03990"></a>03990                          0 );
<a name="l03991"></a>03991     gtk_widget_show ( hbox );
<a name="l03992"></a>03992 
<a name="l03993"></a>03993     bouton_detaille_tiers_etat = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Detail payees&quot;</span>) );
<a name="l03994"></a>03994     g_signal_connect_swapped ( G_OBJECT ( bouton_detaille_tiers_etat ),
<a name="l03995"></a>03995                                 <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l03996"></a>03996                                 G_CALLBACK ( report_tree_update_style ),
<a name="l03997"></a>03997                                 GINT_TO_POINTER ( 3 ));
<a name="l03998"></a>03998     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l03999"></a>03999                          bouton_detaille_tiers_etat,
<a name="l04000"></a>04000                          FALSE,
<a name="l04001"></a>04001                          FALSE,
<a name="l04002"></a>04002                          0 );
<a name="l04003"></a>04003     gtk_widget_show ( bouton_detaille_tiers_etat );
<a name="l04004"></a>04004 
<a name="l04005"></a>04005 
<a name="l04006"></a>04006     <span class="comment">/* mise en place de la liste et des boutons de détaillage */</span>
<a name="l04007"></a>04007 
<a name="l04008"></a>04008     hbox_detaille_tiers_etat = gtk_hbox_new ( FALSE, 5 );
<a name="l04009"></a>04009     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l04010"></a>04010                          hbox_detaille_tiers_etat,
<a name="l04011"></a>04011                          TRUE,
<a name="l04012"></a>04012                          TRUE,
<a name="l04013"></a>04013                          0 );
<a name="l04014"></a>04014     gtk_widget_show ( hbox_detaille_tiers_etat );
<a name="l04015"></a>04015 
<a name="l04016"></a>04016     g_signal_connect ( G_OBJECT ( bouton_detaille_tiers_etat ),
<a name="l04017"></a>04017                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l04018"></a>04018                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l04019"></a>04019                          hbox_detaille_tiers_etat );
<a name="l04020"></a>04020 
<a name="l04021"></a>04021     vbox = gtk_vbox_new ( FALSE,
<a name="l04022"></a>04022                           5 );
<a name="l04023"></a>04023     gtk_box_pack_start ( GTK_BOX ( hbox_detaille_tiers_etat ),
<a name="l04024"></a>04024                          vbox,
<a name="l04025"></a>04025                          TRUE,
<a name="l04026"></a>04026                          TRUE,
<a name="l04027"></a>04027                          0 );
<a name="l04028"></a>04028     gtk_widget_show ( vbox );
<a name="l04029"></a>04029 
<a name="l04030"></a>04030     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;Select payees to include in this report&quot;</span>)) );
<a name="l04031"></a>04031         gtk_misc_set_padding ( GTK_MISC ( label ), 3, 0 );
<a name="l04032"></a>04032         gtk_misc_set_alignment ( GTK_MISC ( label ), 0.0, 0.0 );
<a name="l04033"></a>04033 
<a name="l04034"></a>04034     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l04035"></a>04035                          label,
<a name="l04036"></a>04036                          FALSE,
<a name="l04037"></a>04037                          FALSE,
<a name="l04038"></a>04038                          0 );
<a name="l04039"></a>04039     gtk_widget_show ( label );
<a name="l04040"></a>04040 
<a name="l04041"></a>04041 
<a name="l04042"></a>04042     scrolled_window = gtk_scrolled_window_new ( FALSE,
<a name="l04043"></a>04043                                                 FALSE );
<a name="l04044"></a>04044     gtk_scrolled_window_set_policy ( GTK_SCROLLED_WINDOW ( scrolled_window ),
<a name="l04045"></a>04045                                      GTK_POLICY_AUTOMATIC,
<a name="l04046"></a>04046                                      GTK_POLICY_AUTOMATIC );
<a name="l04047"></a>04047     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l04048"></a>04048                          scrolled_window,
<a name="l04049"></a>04049                          TRUE,
<a name="l04050"></a>04050                          TRUE,
<a name="l04051"></a>04051                          0 );
<a name="l04052"></a>04052     gtk_widget_show ( scrolled_window );
<a name="l04053"></a>04053 
<a name="l04054"></a>04054     liste_tiers_etat = gtk_clist_new ( 1 );
<a name="l04055"></a>04055     gtk_clist_set_selection_mode ( GTK_CLIST ( liste_tiers_etat ),
<a name="l04056"></a>04056                                    GTK_SELECTION_MULTIPLE );
<a name="l04057"></a>04057     gtk_clist_set_column_auto_resize ( GTK_CLIST ( liste_tiers_etat ),
<a name="l04058"></a>04058                                        0,
<a name="l04059"></a>04059                                        TRUE );
<a name="l04060"></a>04060     gtk_clist_set_compare_func ( GTK_CLIST ( liste_tiers_etat ),
<a name="l04061"></a>04061                                  (GtkCListCompareFunc) <a class="code" href="tiers__onglet_8c.html#a220dbddbe43e20dae2754060704816fe">classement_alphabetique_tree</a> );
<a name="l04062"></a>04062     gtk_container_add ( GTK_CONTAINER ( scrolled_window ),
<a name="l04063"></a>04063                         liste_tiers_etat );
<a name="l04064"></a>04064     gtk_widget_show ( liste_tiers_etat );
<a name="l04065"></a>04065 
<a name="l04066"></a>04066     <span class="comment">/* on va remplir la liste avec les tiers */</span>
<a name="l04067"></a>04067 
<a name="l04068"></a>04068     remplissage_liste_tiers_etats ();
<a name="l04069"></a>04069 
<a name="l04070"></a>04070     <span class="comment">/*   sur la partie de droite, on met les boutons (dé)sélectionner tout */</span>
<a name="l04071"></a>04071 
<a name="l04072"></a>04072     vbox = gtk_vbox_new ( FALSE,
<a name="l04073"></a>04073                           5 );
<a name="l04074"></a>04074     gtk_box_pack_start ( GTK_BOX ( hbox_detaille_tiers_etat ),
<a name="l04075"></a>04075                          vbox,
<a name="l04076"></a>04076                          FALSE,
<a name="l04077"></a>04077                          FALSE,
<a name="l04078"></a>04078                          0 );
<a name="l04079"></a>04079     gtk_widget_show ( vbox );
<a name="l04080"></a>04080 
<a name="l04081"></a>04081     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Select all&quot;</span>) );
<a name="l04082"></a>04082         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l04083"></a>04083     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l04084"></a>04084                             GTK_RELIEF_NONE );
<a name="l04085"></a>04085     g_signal_connect_swapped ( G_OBJECT  ( bouton ),
<a name="l04086"></a>04086                                 <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l04087"></a>04087                                 G_CALLBACK ( gtk_clist_select_all ),
<a name="l04088"></a>04088                                 G_OBJECT  ( liste_tiers_etat ));
<a name="l04089"></a>04089     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l04090"></a>04090                          bouton,
<a name="l04091"></a>04091                          TRUE,
<a name="l04092"></a>04092                          FALSE,
<a name="l04093"></a>04093                          0 );
<a name="l04094"></a>04094     gtk_widget_show ( bouton );
<a name="l04095"></a>04095 
<a name="l04096"></a>04096     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Unselect all&quot;</span>) );
<a name="l04097"></a>04097         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l04098"></a>04098     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l04099"></a>04099                             GTK_RELIEF_NONE );
<a name="l04100"></a>04100     g_signal_connect_swapped ( G_OBJECT  ( bouton ),
<a name="l04101"></a>04101                                 <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l04102"></a>04102                                 G_CALLBACK ( gtk_clist_unselect_all ),
<a name="l04103"></a>04103                                 G_OBJECT  ( liste_tiers_etat ));
<a name="l04104"></a>04104     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l04105"></a>04105                          bouton,
<a name="l04106"></a>04106                          TRUE,
<a name="l04107"></a>04107                          FALSE,
<a name="l04108"></a>04108                          0 );
<a name="l04109"></a>04109     gtk_widget_show ( bouton );
<a name="l04110"></a>04110 
<a name="l04111"></a>04111 
<a name="l04112"></a>04112     <span class="keywordflow">return</span> ( vbox_onglet );
<a name="l04113"></a>04113 }
<a name="l04114"></a>04114 
<a name="l04115"></a>04115 
<a name="l04116"></a>04116 
<a name="l04117"></a>04117 <span class="comment">/******************************************************************************/</span>
<a name="l04118"></a>04118 <span class="keywordtype">void</span> remplissage_liste_tiers_etats ( <span class="keywordtype">void</span> )
<a name="l04119"></a>04119 {
<a name="l04120"></a>04120     GSList *payee_list;
<a name="l04121"></a>04121 
<a name="l04122"></a>04122     <span class="keywordflow">if</span> ( !liste_tiers_etat )
<a name="l04123"></a>04123         <span class="keywordflow">return</span>;
<a name="l04124"></a>04124 
<a name="l04125"></a>04125     <a class="code" href="erreur_8h.html#a17bfffc4306bc76edd79e060a8947dc4">devel_debug</a> (NULL);
<a name="l04126"></a>04126 
<a name="l04127"></a>04127     gtk_clist_clear ( GTK_CLIST ( liste_tiers_etat ) );
<a name="l04128"></a>04128 
<a name="l04129"></a>04129     payee_list = <a class="code" href="gsb__data__payee_8c.html#a2fe0b4b22dcae74be865456e5f7c9995">gsb_data_payee_get_payees_list</a>();
<a name="l04130"></a>04130 
<a name="l04131"></a>04131     <span class="keywordflow">while</span> ( payee_list )
<a name="l04132"></a>04132     {
<a name="l04133"></a>04133         gint payee_number;
<a name="l04134"></a>04134         gchar *name[1];
<a name="l04135"></a>04135         gint row;
<a name="l04136"></a>04136 
<a name="l04137"></a>04137         payee_number = <a class="code" href="gsb__data__payee_8c.html#a8fba569c8347fa6e1f98f5f396d6a518">gsb_data_payee_get_no_payee</a> ( payee_list -&gt; data );
<a name="l04138"></a>04138 
<a name="l04139"></a>04139         name[0] = <a class="code" href="utils__str_8c.html#ad9a37361694eeaa2847b0fe11389824d">my_strdup</a> (<a class="code" href="gsb__data__payee_8c.html#adc6080b7376628d3902f5fd861deb45a">gsb_data_payee_get_name</a> (payee_number,
<a name="l04140"></a>04140                                                      TRUE ));
<a name="l04141"></a>04141 
<a name="l04142"></a>04142         row = gtk_clist_append ( GTK_CLIST ( liste_tiers_etat ),
<a name="l04143"></a>04143                                  name );
<a name="l04144"></a>04144 
<a name="l04145"></a>04145         gtk_clist_set_row_data ( GTK_CLIST ( liste_tiers_etat ),
<a name="l04146"></a>04146                                  row,
<a name="l04147"></a>04147                                  GINT_TO_POINTER (payee_number));
<a name="l04148"></a>04148 
<a name="l04149"></a>04149         payee_list = payee_list -&gt; next;
<a name="l04150"></a>04150     }
<a name="l04151"></a>04151 
<a name="l04152"></a>04152     gtk_clist_sort ( GTK_CLIST ( liste_tiers_etat ));
<a name="l04153"></a>04153 }
<a name="l04154"></a>04154 <span class="comment">/******************************************************************************/</span>
<a name="l04155"></a>04155 
<a name="l04156"></a>04156 <span class="comment">/******************************************************************************/</span>
<a name="l04157"></a>04157 GtkWidget *onglet_etat_texte ( <span class="keywordtype">void</span> )
<a name="l04158"></a>04158 {
<a name="l04159"></a>04159     GtkWidget *hbox;
<a name="l04160"></a>04160     GtkWidget *vbox_onglet;
<a name="l04161"></a>04161     GtkWidget *scrolled_window;
<a name="l04162"></a>04162 
<a name="l04163"></a>04163     vbox_onglet = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Transaction content&quot;</span>), <span class="stringliteral">&quot;text.png&quot;</span> );
<a name="l04164"></a>04164     gtk_widget_show ( vbox_onglet );
<a name="l04165"></a>04165 
<a name="l04166"></a>04166 
<a name="l04167"></a>04167     <span class="comment">/* on commence par créer le choix d&#39;utiliser le montant */</span>
<a name="l04168"></a>04168 
<a name="l04169"></a>04169     hbox = gtk_hbox_new ( FALSE,
<a name="l04170"></a>04170                           5 );
<a name="l04171"></a>04171     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l04172"></a>04172                          hbox,
<a name="l04173"></a>04173                          FALSE,
<a name="l04174"></a>04174                          FALSE,
<a name="l04175"></a>04175                          0 );
<a name="l04176"></a>04176     gtk_widget_show ( hbox );
<a name="l04177"></a>04177 
<a name="l04178"></a>04178     bouton_utilise_texte = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Select transactions according to content&quot;</span>) );
<a name="l04179"></a>04179     g_signal_connect_swapped ( G_OBJECT ( bouton_utilise_texte ),
<a name="l04180"></a>04180                                 <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l04181"></a>04181                                 G_CALLBACK ( report_tree_update_style ),
<a name="l04182"></a>04182                                 GINT_TO_POINTER ( 6 ));
<a name="l04183"></a>04183     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l04184"></a>04184                          bouton_utilise_texte,
<a name="l04185"></a>04185                          FALSE,
<a name="l04186"></a>04186                          FALSE,
<a name="l04187"></a>04187                          0 );
<a name="l04188"></a>04188     gtk_widget_show ( bouton_utilise_texte );
<a name="l04189"></a>04189 
<a name="l04190"></a>04190     vbox_generale_textes_etat = gtk_vbox_new ( FALSE, 5 );
<a name="l04191"></a>04191     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l04192"></a>04192                          vbox_generale_textes_etat,
<a name="l04193"></a>04193                          TRUE,
<a name="l04194"></a>04194                          TRUE,
<a name="l04195"></a>04195                          0 );
<a name="l04196"></a>04196     gtk_widget_show ( vbox_generale_textes_etat );
<a name="l04197"></a>04197 
<a name="l04198"></a>04198     g_signal_connect ( G_OBJECT ( bouton_utilise_texte ),
<a name="l04199"></a>04199                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l04200"></a>04200                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l04201"></a>04201                          vbox_generale_textes_etat );
<a name="l04202"></a>04202 
<a name="l04203"></a>04203 
<a name="l04204"></a>04204     <span class="comment">/* on va ensuite créer la liste qui contiendra les critères */</span>
<a name="l04205"></a>04205     <span class="comment">/* le remplissage ou la row vide se mettent plus tard */</span>
<a name="l04206"></a>04206 
<a name="l04207"></a>04207     scrolled_window = gtk_scrolled_window_new ( FALSE,
<a name="l04208"></a>04208                                                 FALSE );
<a name="l04209"></a>04209     gtk_scrolled_window_set_policy ( GTK_SCROLLED_WINDOW ( scrolled_window ),
<a name="l04210"></a>04210                                      GTK_POLICY_AUTOMATIC,
<a name="l04211"></a>04211                                      GTK_POLICY_AUTOMATIC );
<a name="l04212"></a>04212     gtk_box_pack_start ( GTK_BOX ( vbox_generale_textes_etat ),
<a name="l04213"></a>04213                          scrolled_window,
<a name="l04214"></a>04214                          TRUE,
<a name="l04215"></a>04215                          TRUE,
<a name="l04216"></a>04216                          0 );
<a name="l04217"></a>04217     gtk_widget_show ( scrolled_window );
<a name="l04218"></a>04218 
<a name="l04219"></a>04219     liste_textes_etat = gtk_vbox_new ( FALSE, 5 );
<a name="l04220"></a>04220     gtk_scrolled_window_add_with_viewport ( GTK_SCROLLED_WINDOW ( scrolled_window ),
<a name="l04221"></a>04221                                             liste_textes_etat );
<a name="l04222"></a>04222     gtk_widget_show ( liste_textes_etat );
<a name="l04223"></a>04223 
<a name="l04224"></a>04224     <span class="keywordflow">return</span> ( vbox_onglet );
<a name="l04225"></a>04225 }
<a name="l04226"></a>04226 <span class="comment">/******************************************************************************/</span>
<a name="l04227"></a>04227 
<a name="l04228"></a>04228 <span class="comment">/******************************************************************************/</span>
<a name="l04229"></a>04229 <span class="keywordtype">void</span> remplit_liste_comparaisons_textes_etat ( <span class="keywordtype">void</span> )
<a name="l04230"></a>04230 {
<a name="l04231"></a>04231     GSList *list_tmp;
<a name="l04232"></a>04232     gint current_report_number;
<a name="l04233"></a>04233         gchar* tmpstr;
<a name="l04234"></a>04234 
<a name="l04235"></a>04235     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l04236"></a>04236 
<a name="l04237"></a>04237 
<a name="l04238"></a>04238     list_tmp = <a class="code" href="gsb__data__report_8c.html#acef51acc8cdd62ce33bf5bebdab0824d">gsb_data_report_get_text_comparison_list</a> (current_report_number);
<a name="l04239"></a>04239 
<a name="l04240"></a>04240 
<a name="l04241"></a>04241     <span class="comment">/* commence par effacer l&#39;ancienne liste */</span>
<a name="l04242"></a>04242 
<a name="l04243"></a>04243     <span class="keywordflow">while</span> ( GTK_BOX ( liste_textes_etat ) -&gt; children )
<a name="l04244"></a>04244         gtk_container_remove ( GTK_CONTAINER ( liste_textes_etat ),
<a name="l04245"></a>04245                                (( GtkBoxChild *) ( GTK_BOX ( liste_textes_etat ) -&gt; children -&gt; data )) -&gt; widget );
<a name="l04246"></a>04246 
<a name="l04247"></a>04247 
<a name="l04248"></a>04248     <span class="comment">/*   s&#39;il n&#39;y a rien dans la liste, on met juste une row vide */</span>
<a name="l04249"></a>04249 
<a name="l04250"></a>04250     <span class="keywordflow">if</span> ( !list_tmp )
<a name="l04251"></a>04251     {
<a name="l04252"></a>04252         ajoute_ligne_liste_comparaisons_textes_etat (0);
<a name="l04253"></a>04253         <span class="keywordflow">return</span>;
<a name="l04254"></a>04254     }
<a name="l04255"></a>04255 
<a name="l04256"></a>04256     <span class="comment">/*   on fait le tour de la liste des comparaisons de texte, ajoute une row */</span>
<a name="l04257"></a>04257     <span class="comment">/* et la remplit à chaque fois */</span>
<a name="l04258"></a>04258 
<a name="l04259"></a>04259     <span class="keywordflow">while</span> ( list_tmp )
<a name="l04260"></a>04260     {
<a name="l04261"></a>04261         gint text_comparison_number;
<a name="l04262"></a>04262         GtkWidget *widget;
<a name="l04263"></a>04263 
<a name="l04264"></a>04264         text_comparison_number = GPOINTER_TO_INT (list_tmp -&gt; data);
<a name="l04265"></a>04265 
<a name="l04266"></a>04266         <span class="comment">/* on crée la row et remplit les widget de la structure */</span>
<a name="l04267"></a>04267 
<a name="l04268"></a>04268         widget = cree_ligne_comparaison_texte (text_comparison_number);
<a name="l04269"></a>04269         <a class="code" href="gsb__data__report__text__comparison_8c.html#a748d2dc15458afe5a479bdc81082ecab">gsb_data_report_text_comparison_set_vbox_line</a> ( text_comparison_number,
<a name="l04270"></a>04270                                                         widget );
<a name="l04271"></a>04271         gtk_box_pack_start ( GTK_BOX ( liste_textes_etat ),
<a name="l04272"></a>04272                              widget,
<a name="l04273"></a>04273                              FALSE,
<a name="l04274"></a>04274                              FALSE,
<a name="l04275"></a>04275                              0 );
<a name="l04276"></a>04276         gtk_widget_show ( widget );
<a name="l04277"></a>04277 
<a name="l04278"></a>04278         <span class="comment">/* on remplit maintenant les widget avec les valeurs de la stucture */</span>
<a name="l04279"></a>04279 
<a name="l04280"></a>04280         <span class="comment">/*       s&#39;il n&#39;y a pas de lien avec la struct précédente, on le vire */</span>
<a name="l04281"></a>04281         <span class="comment">/* on rajoute le &amp;&amp; car parfois le bouton de lien se met quand même en 1ère row */</span>
<a name="l04282"></a>04282 
<a name="l04283"></a>04283         <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report__text__comparison_8c.html#a7fd2e0a0543f8b47fd26394c8924f94d">gsb_data_report_text_comparison_get_link_to_last_text_comparison</a> (text_comparison_number) != -1
<a name="l04284"></a>04284              &amp;&amp;
<a name="l04285"></a>04285              list_tmp != <a class="code" href="gsb__data__report_8c.html#acef51acc8cdd62ce33bf5bebdab0824d">gsb_data_report_get_text_comparison_list</a> (current_report_number))
<a name="l04286"></a>04286             gtk_option_menu_set_history ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__text__comparison_8c.html#a55a45156d527aca803836805f7adbff5">gsb_data_report_text_comparison_get_button_link</a> (text_comparison_number)),
<a name="l04287"></a>04287                                           <a class="code" href="gsb__data__report__text__comparison_8c.html#a7fd2e0a0543f8b47fd26394c8924f94d">gsb_data_report_text_comparison_get_link_to_last_text_comparison</a> (text_comparison_number));
<a name="l04288"></a>04288         <span class="keywordflow">else</span>
<a name="l04289"></a>04289         {
<a name="l04290"></a>04290             gtk_widget_destroy (<a class="code" href="gsb__data__report__text__comparison_8c.html#a55a45156d527aca803836805f7adbff5">gsb_data_report_text_comparison_get_button_link</a> (text_comparison_number));
<a name="l04291"></a>04291             <a class="code" href="gsb__data__report__text__comparison_8c.html#a8a3e2ddf2fb6acb0f2bb18df643f9d88">gsb_data_report_text_comparison_set_button_link</a> ( text_comparison_number,
<a name="l04292"></a>04292                                                               NULL);
<a name="l04293"></a>04293         }
<a name="l04294"></a>04294 
<a name="l04295"></a>04295 
<a name="l04296"></a>04296         gtk_option_menu_set_history ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__text__comparison_8c.html#a39245ed55201b9a0c7f4379f4354f5fa">gsb_data_report_text_comparison_get_button_field</a> (text_comparison_number)),
<a name="l04297"></a>04297                                       <a class="code" href="gsb__data__report__text__comparison_8c.html#aa16049f62bdf58790d86880cbb500d0f">gsb_data_report_text_comparison_get_field</a> (text_comparison_number));
<a name="l04298"></a>04298         gtk_option_menu_set_history ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__text__comparison_8c.html#af7aa72ef5007f9416ec1137ee5901834">gsb_data_report_text_comparison_get_button_operator</a> (text_comparison_number)),
<a name="l04299"></a>04299                                       <a class="code" href="gsb__data__report__text__comparison_8c.html#a456a9c966f4efc5af7aadca4d09f1b2a">gsb_data_report_text_comparison_get_operator</a> (text_comparison_number));
<a name="l04300"></a>04300 
<a name="l04301"></a>04301         <span class="keywordflow">if</span> (<a class="code" href="gsb__data__report__text__comparison_8c.html#a787124a1b15143ea18ec069a47fada01">gsb_data_report_text_comparison_get_text</a> (text_comparison_number))
<a name="l04302"></a>04302             gtk_entry_set_text ( GTK_ENTRY (<a class="code" href="gsb__data__report__text__comparison_8c.html#a9127cedf50ca4d5230e9c69c833a1e87">gsb_data_report_text_comparison_get_entry_text</a> (text_comparison_number)),
<a name="l04303"></a>04303                                  <a class="code" href="gsb__data__report__text__comparison_8c.html#a787124a1b15143ea18ec069a47fada01">gsb_data_report_text_comparison_get_text</a> (text_comparison_number));
<a name="l04304"></a>04304 
<a name="l04305"></a>04305         gtk_option_menu_set_history ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__text__comparison_8c.html#aa1d41141505ae5ec058940503c77502c">gsb_data_report_text_comparison_get_button_first_comparison</a> (text_comparison_number)),
<a name="l04306"></a>04306                                       <a class="code" href="gsb__data__report__text__comparison_8c.html#afe21d933d743f2a91261483b8b0b466c">gsb_data_report_text_comparison_get_first_comparison</a> (text_comparison_number));
<a name="l04307"></a>04307         gtk_option_menu_set_history ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__text__comparison_8c.html#ae935aa748f908f852a8cf7e17c4c8c80">gsb_data_report_text_comparison_get_button_link_first_to_second_part</a> (text_comparison_number)),
<a name="l04308"></a>04308                                       <a class="code" href="gsb__data__report__text__comparison_8c.html#a8d68df97e25aace4a4809dd9f96819ab">gsb_data_report_text_comparison_get_link_first_to_second_part</a> (text_comparison_number));
<a name="l04309"></a>04309         gtk_option_menu_set_history ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__text__comparison_8c.html#ac59873572d63412f35795f65988f9d9b">gsb_data_report_text_comparison_get_button_second_comparison</a> (text_comparison_number)),
<a name="l04310"></a>04310                                       <a class="code" href="gsb__data__report__text__comparison_8c.html#aefee06554ddb50e610a661ee4b7ad438">gsb_data_report_text_comparison_get_second_comparison</a> (text_comparison_number));
<a name="l04311"></a>04311 
<a name="l04312"></a>04312         tmpstr = <a class="code" href="utils__str_8c.html#a1e50f3be459180b9dea9f14eb7e1204e" title="convert an integer into a gchar based string">utils_str_itoa</a> (<a class="code" href="gsb__data__report__text__comparison_8c.html#af8a1288b302625bf680b9b1eb908af6f">gsb_data_report_text_comparison_get_first_amount</a> (text_comparison_number));
<a name="l04313"></a>04313         gtk_entry_set_text ( GTK_ENTRY (<a class="code" href="gsb__data__report__text__comparison_8c.html#a40e301a26e8349feb8b4b6f7b72ee87f">gsb_data_report_text_comparison_get_entry_first_amount</a> (text_comparison_number)), tmpstr);
<a name="l04314"></a>04314         g_free ( tmpstr );
<a name="l04315"></a>04315 
<a name="l04316"></a>04316         tmpstr = <a class="code" href="utils__str_8c.html#a1e50f3be459180b9dea9f14eb7e1204e" title="convert an integer into a gchar based string">utils_str_itoa</a> (<a class="code" href="gsb__data__report__text__comparison_8c.html#aeb73733ca155c44e7991f967eea4205f">gsb_data_report_text_comparison_get_second_amount</a> (text_comparison_number));
<a name="l04317"></a>04317         gtk_entry_set_text ( GTK_ENTRY (<a class="code" href="gsb__data__report__text__comparison_8c.html#a171d77b0c4ab46cd9a2468dc815da11a">gsb_data_report_text_comparison_get_entry_second_amount</a> (text_comparison_number)), tmpstr);
<a name="l04318"></a>04318         g_free ( tmpstr );
<a name="l04319"></a>04319 
<a name="l04320"></a>04320         <span class="keywordflow">if</span> (<a class="code" href="gsb__data__report__text__comparison_8c.html#a0eb8e0a0e157e3bf8a518a09ab99203e">gsb_data_report_text_comparison_get_use_text</a> (text_comparison_number))
<a name="l04321"></a>04321             gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)),
<a name="l04322"></a>04322                                            TRUE );
<a name="l04323"></a>04323         <span class="keywordflow">else</span>
<a name="l04324"></a>04324             gtk_toggle_button_set_active ( GTK_TOGGLE_BUTTON (<a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number)),
<a name="l04325"></a>04325                                            TRUE );
<a name="l04326"></a>04326 
<a name="l04327"></a>04327 
<a name="l04328"></a>04328         <span class="comment">/* on désensitive tous ce qui est nécessaire */</span>
<a name="l04329"></a>04329 
<a name="l04330"></a>04330         <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report__text__comparison_8c.html#aa16049f62bdf58790d86880cbb500d0f">gsb_data_report_text_comparison_get_field</a> (text_comparison_number) == 8
<a name="l04331"></a>04331              ||
<a name="l04332"></a>04332              <a class="code" href="gsb__data__report__text__comparison_8c.html#aa16049f62bdf58790d86880cbb500d0f">gsb_data_report_text_comparison_get_field</a> (text_comparison_number) == 9
<a name="l04333"></a>04333              ||
<a name="l04334"></a>04334              <a class="code" href="gsb__data__report__text__comparison_8c.html#aa16049f62bdf58790d86880cbb500d0f">gsb_data_report_text_comparison_get_field</a> (text_comparison_number) == 10 )
<a name="l04335"></a>04335         {
<a name="l04336"></a>04336             <span class="comment">/*    on est sur un chq ou une pc */</span>
<a name="l04337"></a>04337             <span class="comment">/* on rend sensitif les check button et la hbox correspondante */</span>
<a name="l04338"></a>04338 
<a name="l04339"></a>04339             <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> (NULL, <a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number));
<a name="l04340"></a>04340             <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> (NULL, <a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number));
<a name="l04341"></a>04341             sensitive_hbox_fonction_bouton_txt (text_comparison_number);
<a name="l04342"></a>04342         }
<a name="l04343"></a>04343         <span class="keywordflow">else</span>
<a name="l04344"></a>04344         {
<a name="l04345"></a>04345             <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> (NULL, <a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number));
<a name="l04346"></a>04346             <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> (NULL, <a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number));
<a name="l04347"></a>04347             <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> (NULL, <a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number));
<a name="l04348"></a>04348             <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> (NULL, <a class="code" href="gsb__data__report__text__comparison_8c.html#a15aaec0441bd90ec84379f643eaafc43">gsb_data_report_text_comparison_get_hbox_text</a> (text_comparison_number));
<a name="l04349"></a>04349         }
<a name="l04350"></a>04350         <span class="comment">/* on sensitive/désensitive l&#39;entrée txt*/</span>
<a name="l04351"></a>04351 
<a name="l04352"></a>04352         <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report__text__comparison_8c.html#a456a9c966f4efc5af7aadca4d09f1b2a">gsb_data_report_text_comparison_get_operator</a> (text_comparison_number) &gt;= 4 )
<a name="l04353"></a>04353             <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> (NULL, <a class="code" href="gsb__data__report__text__comparison_8c.html#a9127cedf50ca4d5230e9c69c833a1e87">gsb_data_report_text_comparison_get_entry_text</a> (text_comparison_number));
<a name="l04354"></a>04354 
<a name="l04355"></a>04355         <span class="comment">/* on sensitive/désensitive les entrées de montant si nécessaire */</span>
<a name="l04356"></a>04356 
<a name="l04357"></a>04357         <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report__text__comparison_8c.html#afe21d933d743f2a91261483b8b0b466c">gsb_data_report_text_comparison_get_first_comparison</a> (text_comparison_number) == 6 )
<a name="l04358"></a>04358             <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> (NULL, <a class="code" href="gsb__data__report__text__comparison_8c.html#a40e301a26e8349feb8b4b6f7b72ee87f">gsb_data_report_text_comparison_get_entry_first_amount</a> (text_comparison_number));
<a name="l04359"></a>04359 
<a name="l04360"></a>04360         <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report__text__comparison_8c.html#aefee06554ddb50e610a661ee4b7ad438">gsb_data_report_text_comparison_get_second_comparison</a> (text_comparison_number) == 6 )
<a name="l04361"></a>04361             <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> (NULL, <a class="code" href="gsb__data__report__text__comparison_8c.html#a171d77b0c4ab46cd9a2468dc815da11a">gsb_data_report_text_comparison_get_entry_second_amount</a> (text_comparison_number));
<a name="l04362"></a>04362 
<a name="l04363"></a>04363         <span class="comment">/* on sensitive/désensitive la hbox_2 si nécessaire */</span>
<a name="l04364"></a>04364 
<a name="l04365"></a>04365         <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report__text__comparison_8c.html#a8d68df97e25aace4a4809dd9f96819ab">gsb_data_report_text_comparison_get_link_first_to_second_part</a> (text_comparison_number) == 3 )
<a name="l04366"></a>04366             <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> (NULL, <a class="code" href="gsb__data__report__text__comparison_8c.html#a43508d76f884118227a69a74796f653d">gsb_data_report_text_comparison_get_hbox_second_part</a> (text_comparison_number));
<a name="l04367"></a>04367 
<a name="l04368"></a>04368         list_tmp = list_tmp -&gt; next;
<a name="l04369"></a>04369     }
<a name="l04370"></a>04370 }
<a name="l04371"></a>04371 <span class="comment">/******************************************************************************/</span>
<a name="l04372"></a>04372 
<a name="l04373"></a>04373 <span class="comment">/******************************************************************************/</span>
<a name="l04374"></a>04374 <span class="comment">/* cette fonction ajoute une row vierge */</span>
<a name="l04375"></a>04375 <span class="comment">/* si ancien_comp_textes n&#39;est pas nul, la row est insérée juste après celle de l&#39;argument */</span>
<a name="l04376"></a>04376 <span class="comment">/******************************************************************************/</span>
<a name="l04377"></a>04377 
<a name="l04378"></a>04378 <span class="keywordtype">void</span> ajoute_ligne_liste_comparaisons_textes_etat ( gint last_text_comparison_number )
<a name="l04379"></a>04379 {
<a name="l04380"></a>04380     gint text_comparison_number;
<a name="l04381"></a>04381     gint position;
<a name="l04382"></a>04382     gint current_report_number;
<a name="l04383"></a>04383     GtkWidget *widget;
<a name="l04384"></a>04384 
<a name="l04385"></a>04385     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l04386"></a>04386 
<a name="l04387"></a>04387     <span class="comment">/* on récupère tout de suite la position à laquelle il faut insérer la row */</span>
<a name="l04388"></a>04388 
<a name="l04389"></a>04389     <span class="keywordflow">if</span> ( last_text_comparison_number )
<a name="l04390"></a>04390         position = g_slist_index ( <a class="code" href="gsb__data__report_8c.html#acef51acc8cdd62ce33bf5bebdab0824d">gsb_data_report_get_text_comparison_list</a> (current_report_number),
<a name="l04391"></a>04391                                    GINT_TO_POINTER (last_text_comparison_number)) + 1;
<a name="l04392"></a>04392     <span class="keywordflow">else</span>
<a name="l04393"></a>04393         position = 0;
<a name="l04394"></a>04394 
<a name="l04395"></a>04395     <span class="comment">/* on commence par créer une structure vide */</span>
<a name="l04396"></a>04396 
<a name="l04397"></a>04397     text_comparison_number = <a class="code" href="gsb__data__report__text__comparison_8c.html#af35ca9a6b7fcb4c502c7307cff60b7f4">gsb_data_report_text_comparison_new</a> (0);
<a name="l04398"></a>04398     <a class="code" href="gsb__data__report__text__comparison_8c.html#a04f2b569a07710f5de264d17f19f7f91">gsb_data_report_text_comparison_set_report_number</a> ( text_comparison_number,
<a name="l04399"></a>04399                                                         current_report_number );
<a name="l04400"></a>04400 
<a name="l04401"></a>04401     <span class="comment">/* on crée la row et remplit les widget de la structure */</span>
<a name="l04402"></a>04402 
<a name="l04403"></a>04403     widget = cree_ligne_comparaison_texte (text_comparison_number);
<a name="l04404"></a>04404     <a class="code" href="gsb__data__report__text__comparison_8c.html#a748d2dc15458afe5a479bdc81082ecab">gsb_data_report_text_comparison_set_vbox_line</a> ( text_comparison_number,
<a name="l04405"></a>04405                                                     widget );
<a name="l04406"></a>04406     gtk_box_pack_start ( GTK_BOX ( liste_textes_etat ),
<a name="l04407"></a>04407                          widget,
<a name="l04408"></a>04408                          FALSE,
<a name="l04409"></a>04409                          FALSE,
<a name="l04410"></a>04410                          0 );
<a name="l04411"></a>04411     gtk_widget_show ( widget );
<a name="l04412"></a>04412 
<a name="l04413"></a>04413     <span class="comment">/* on vire le lien de la row s&#39;il n&#39;y a pas encore de liste */</span>
<a name="l04414"></a>04414     <span class="comment">/*   (cad si c&#39;est la 1ère row) */</span>
<a name="l04415"></a>04415 
<a name="l04416"></a>04416     <span class="keywordflow">if</span> ( !<a class="code" href="gsb__data__report_8c.html#acef51acc8cdd62ce33bf5bebdab0824d">gsb_data_report_get_text_comparison_list</a> (current_report_number))
<a name="l04417"></a>04417     {
<a name="l04418"></a>04418         gtk_widget_destroy (<a class="code" href="gsb__data__report__text__comparison_8c.html#a55a45156d527aca803836805f7adbff5">gsb_data_report_text_comparison_get_button_link</a> (text_comparison_number));
<a name="l04419"></a>04419         <a class="code" href="gsb__data__report__text__comparison_8c.html#a8a3e2ddf2fb6acb0f2bb18df643f9d88">gsb_data_report_text_comparison_set_button_link</a> ( text_comparison_number,
<a name="l04420"></a>04420                                                           NULL );
<a name="l04421"></a>04421     }
<a name="l04422"></a>04422 
<a name="l04423"></a>04423     <span class="comment">/*   par défaut, le bouton bouton_lien_1_2 est sur stop */</span>
<a name="l04424"></a>04424 
<a name="l04425"></a>04425     gtk_option_menu_set_history ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__text__comparison_8c.html#ae935aa748f908f852a8cf7e17c4c8c80">gsb_data_report_text_comparison_get_button_link_first_to_second_part</a> (text_comparison_number)),
<a name="l04426"></a>04426                                   3 );
<a name="l04427"></a>04427     <a class="code" href="gsb__data__report__text__comparison_8c.html#a21e8035c4f8bec87320b814d6251a7d4">gsb_data_report_text_comparison_set_link_first_to_second_part</a> ( text_comparison_number,
<a name="l04428"></a>04428                                                                     3 );
<a name="l04429"></a>04429     gtk_widget_set_sensitive ( <a class="code" href="gsb__data__report__text__comparison_8c.html#a43508d76f884118227a69a74796f653d">gsb_data_report_text_comparison_get_hbox_second_part</a> (text_comparison_number),
<a name="l04430"></a>04430                                FALSE );
<a name="l04431"></a>04431 
<a name="l04432"></a>04432 
<a name="l04433"></a>04433     <span class="comment">/*   par défaut, la row de chq est non sensitive */</span>
<a name="l04434"></a>04434 
<a name="l04435"></a>04435     gtk_widget_set_sensitive ( <a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number),
<a name="l04436"></a>04436                                FALSE );
<a name="l04437"></a>04437     gtk_widget_set_sensitive ( <a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number),
<a name="l04438"></a>04438                                FALSE );
<a name="l04439"></a>04439     gtk_widget_set_sensitive ( <a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number),
<a name="l04440"></a>04440                                FALSE );
<a name="l04441"></a>04441 
<a name="l04442"></a>04442 
<a name="l04443"></a>04443     <span class="comment">/* on met la structure dans la liste à la position demandée */</span>
<a name="l04444"></a>04444 
<a name="l04445"></a>04445     <a class="code" href="gsb__data__report_8c.html#a99112b283e821d4a6cf2195f7ccce028">gsb_data_report_set_text_comparison_list</a> ( current_report_number,
<a name="l04446"></a>04446                                                g_slist_insert ( <a class="code" href="gsb__data__report_8c.html#acef51acc8cdd62ce33bf5bebdab0824d">gsb_data_report_get_text_comparison_list</a> (current_report_number),
<a name="l04447"></a>04447                                                                 GINT_TO_POINTER (text_comparison_number),
<a name="l04448"></a>04448                                                                 position ));
<a name="l04449"></a>04449 
<a name="l04450"></a>04450 
<a name="l04451"></a>04451     <span class="comment">/* on met la row à sa place dans la liste */</span>
<a name="l04452"></a>04452 
<a name="l04453"></a>04453     gtk_box_reorder_child ( GTK_BOX ( liste_textes_etat ),
<a name="l04454"></a>04454                             <a class="code" href="gsb__data__report__text__comparison_8c.html#a98e92783c34e4f3292adf3df1ac8fe4d">gsb_data_report_text_comparison_get_vbox_line</a> (text_comparison_number),
<a name="l04455"></a>04455                             position );
<a name="l04456"></a>04456 }
<a name="l04457"></a>04457 <span class="comment">/******************************************************************************/</span>
<a name="l04458"></a>04458 
<a name="l04459"></a>04459 <span class="comment">/******************************************************************************/</span>
<a name="l04460"></a>04460 <span class="comment">/* crée la hbox de la row et la renvoie */</span>
<a name="l04461"></a>04461 <span class="comment">/* remplie en même temps les widget de la struct envoyée en argument, sauf hbox_ligne */</span>
<a name="l04462"></a>04462 <span class="comment">/******************************************************************************/</span>
<a name="l04463"></a>04463 GtkWidget *cree_ligne_comparaison_texte ( gint text_comparison_number )
<a name="l04464"></a>04464 {
<a name="l04465"></a>04465     GtkWidget *vbox;
<a name="l04466"></a>04466     GtkWidget *label;
<a name="l04467"></a>04467     GtkWidget *bouton;
<a name="l04468"></a>04468     GtkWidget *hbox;
<a name="l04469"></a>04469 
<a name="l04470"></a>04470     <span class="comment">/*   on laisse les infos vides, on met juste les boutons et les labels */</span>
<a name="l04471"></a>04471 
<a name="l04472"></a>04472     vbox = gtk_vbox_new ( FALSE,
<a name="l04473"></a>04473                           5 );
<a name="l04474"></a>04474 
<a name="l04475"></a>04475 
<a name="l04476"></a>04476     <span class="comment">/* création de la 1ère row */</span>
<a name="l04477"></a>04477 
<a name="l04478"></a>04478     hbox = gtk_hbox_new ( FALSE,
<a name="l04479"></a>04479                           5 );
<a name="l04480"></a>04480     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l04481"></a>04481                          hbox,
<a name="l04482"></a>04482                          FALSE,
<a name="l04483"></a>04483                          FALSE,
<a name="l04484"></a>04484                          0 );
<a name="l04485"></a>04485     gtk_widget_show ( hbox );
<a name="l04486"></a>04486 
<a name="l04487"></a>04487 
<a name="l04488"></a>04488     <a class="code" href="gsb__data__report__text__comparison_8c.html#a8a3e2ddf2fb6acb0f2bb18df643f9d88">gsb_data_report_text_comparison_set_button_link</a> ( text_comparison_number,
<a name="l04489"></a>04489                                                       cree_bouton_lien_lignes_comparaison ());
<a name="l04490"></a>04490     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l04491"></a>04491                          <a class="code" href="gsb__data__report__text__comparison_8c.html#a55a45156d527aca803836805f7adbff5">gsb_data_report_text_comparison_get_button_link</a> (text_comparison_number),
<a name="l04492"></a>04492                          FALSE,
<a name="l04493"></a>04493                          FALSE,
<a name="l04494"></a>04494                          0 );
<a name="l04495"></a>04495 
<a name="l04496"></a>04496     label = gtk_label_new ( <a class="code" href="structures_8h.html#acec4595b4886c3686815d8cd5fb79a0f">POSTSPACIFY</a>(_(<span class="stringliteral">&quot;Transactions whose&quot;</span>)));
<a name="l04497"></a>04497     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l04498"></a>04498                          label,
<a name="l04499"></a>04499                          FALSE,
<a name="l04500"></a>04500                          FALSE,
<a name="l04501"></a>04501                          0 );
<a name="l04502"></a>04502     gtk_widget_show ( label );
<a name="l04503"></a>04503 
<a name="l04504"></a>04504     <span class="comment">/*   avant de créer le bouton des champs, on doit créer hbox_txt, hbox_chq et les 2 check button */</span>
<a name="l04505"></a>04505 
<a name="l04506"></a>04506     <a class="code" href="gsb__data__report__text__comparison_8c.html#a075e9be17ce49c0b71e1795cbe661991">gsb_data_report_text_comparison_set_hbox_text</a> ( text_comparison_number,
<a name="l04507"></a>04507                                                     gtk_hbox_new ( FALSE,
<a name="l04508"></a>04508                                                                    5 ));
<a name="l04509"></a>04509     <a class="code" href="gsb__data__report__text__comparison_8c.html#ad353b408c433fda5f33c0efec96906ad">gsb_data_report_text_comparison_set_hbox_cheque</a> ( text_comparison_number,
<a name="l04510"></a>04510                                                       gtk_hbox_new ( FALSE,
<a name="l04511"></a>04511                                                                      5 ));
<a name="l04512"></a>04512     <a class="code" href="gsb__data__report__text__comparison_8c.html#a609be69e50d2b077d9833579484f56dd">gsb_data_report_text_comparison_set_button_use_text</a> ( text_comparison_number,
<a name="l04513"></a>04513                                                           gtk_radio_button_new ( NULL ));
<a name="l04514"></a>04514     <a class="code" href="gsb__data__report__text__comparison_8c.html#a80d0fb29d16d8710ee68066879f0218c">gsb_data_report_text_comparison_set_button_use_number</a> ( text_comparison_number,
<a name="l04515"></a>04515                                                             gtk_radio_button_new ( gtk_radio_button_get_group ( GTK_RADIO_BUTTON(<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)))));
<a name="l04516"></a>04516 
<a name="l04517"></a>04517     <a class="code" href="gsb__data__report__text__comparison_8c.html#a58277eb92384ebe4c917e473b14d2705">gsb_data_report_text_comparison_set_button_field</a> ( text_comparison_number,
<a name="l04518"></a>04518                                                        cree_bouton_champ ( text_comparison_number ));
<a name="l04519"></a>04519     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l04520"></a>04520                          <a class="code" href="gsb__data__report__text__comparison_8c.html#a39245ed55201b9a0c7f4379f4354f5fa">gsb_data_report_text_comparison_get_button_field</a> (text_comparison_number),
<a name="l04521"></a>04521                          FALSE,
<a name="l04522"></a>04522                          FALSE,
<a name="l04523"></a>04523                          0 );
<a name="l04524"></a>04524 
<a name="l04525"></a>04525     <span class="comment">/* la suite se met dans hbox_txt */</span>
<a name="l04526"></a>04526     <span class="comment">/* en 2ème row */</span>
<a name="l04527"></a>04527 
<a name="l04528"></a>04528     hbox = gtk_hbox_new ( FALSE,
<a name="l04529"></a>04529                           5 );
<a name="l04530"></a>04530     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l04531"></a>04531                          hbox,
<a name="l04532"></a>04532                          FALSE,
<a name="l04533"></a>04533                          FALSE,
<a name="l04534"></a>04534                          0 );
<a name="l04535"></a>04535     gtk_widget_show ( hbox );
<a name="l04536"></a>04536 
<a name="l04537"></a>04537     label = gtk_label_new ( NULL );
<a name="l04538"></a>04538     gtk_widget_set_size_request ( label,
<a name="l04539"></a>04539                            12,
<a name="l04540"></a>04540                            -1 );
<a name="l04541"></a>04541     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l04542"></a>04542                          label,
<a name="l04543"></a>04543                          FALSE,
<a name="l04544"></a>04544                          FALSE,
<a name="l04545"></a>04545                          0 );
<a name="l04546"></a>04546     gtk_widget_show ( label );
<a name="l04547"></a>04547 
<a name="l04548"></a>04548     <span class="comment">/* on met le check button utilisé en cas de champ à no */</span>
<a name="l04549"></a>04549 
<a name="l04550"></a>04550     g_signal_connect ( G_OBJECT ( <a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)),
<a name="l04551"></a>04551                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l04552"></a>04552                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l04553"></a>04553                          <a class="code" href="gsb__data__report__text__comparison_8c.html#a15aaec0441bd90ec84379f643eaafc43">gsb_data_report_text_comparison_get_hbox_text</a> (text_comparison_number));
<a name="l04554"></a>04554     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l04555"></a>04555                          <a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number),
<a name="l04556"></a>04556                          FALSE,
<a name="l04557"></a>04557                          FALSE,
<a name="l04558"></a>04558                          0 );
<a name="l04559"></a>04559     gtk_widget_show ( <a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number));
<a name="l04560"></a>04560 
<a name="l04561"></a>04561 
<a name="l04562"></a>04562     <span class="comment">/* on met maintenant le comparateur txt */</span>
<a name="l04563"></a>04563 
<a name="l04564"></a>04564     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l04565"></a>04565                          <a class="code" href="gsb__data__report__text__comparison_8c.html#a15aaec0441bd90ec84379f643eaafc43">gsb_data_report_text_comparison_get_hbox_text</a> (text_comparison_number),
<a name="l04566"></a>04566                          FALSE,
<a name="l04567"></a>04567                          FALSE,
<a name="l04568"></a>04568                          0 );
<a name="l04569"></a>04569     gtk_widget_show (<a class="code" href="gsb__data__report__text__comparison_8c.html#a15aaec0441bd90ec84379f643eaafc43">gsb_data_report_text_comparison_get_hbox_text</a> (text_comparison_number));
<a name="l04570"></a>04570 
<a name="l04571"></a>04571     <span class="comment">/* avant de créer l&#39;opérateur, on doit créer l&#39;entrée de txt */</span>
<a name="l04572"></a>04572 
<a name="l04573"></a>04573     <a class="code" href="gsb__data__report__text__comparison_8c.html#a71963b6660c20c1dc5109848ff7a2dac">gsb_data_report_text_comparison_set_entry_text</a> ( text_comparison_number,
<a name="l04574"></a>04574                                                      gtk_entry_new ());
<a name="l04575"></a>04575 
<a name="l04576"></a>04576     <a class="code" href="gsb__data__report__text__comparison_8c.html#a19673b6f71dc4ee8f6348868e5224bf5">gsb_data_report_text_comparison_set_button_operator</a> ( text_comparison_number,
<a name="l04577"></a>04577                                                           cree_bouton_operateur_txt (text_comparison_number));
<a name="l04578"></a>04578     gtk_box_pack_start ( GTK_BOX (<a class="code" href="gsb__data__report__text__comparison_8c.html#a15aaec0441bd90ec84379f643eaafc43">gsb_data_report_text_comparison_get_hbox_text</a> (text_comparison_number)),
<a name="l04579"></a>04579                          <a class="code" href="gsb__data__report__text__comparison_8c.html#af7aa72ef5007f9416ec1137ee5901834">gsb_data_report_text_comparison_get_button_operator</a> (text_comparison_number),
<a name="l04580"></a>04580                          FALSE,
<a name="l04581"></a>04581                          FALSE,
<a name="l04582"></a>04582                          0 );
<a name="l04583"></a>04583 
<a name="l04584"></a>04584     <span class="comment">/* on peut maintenant mettre l&#39;entrée de txt */</span>
<a name="l04585"></a>04585 
<a name="l04586"></a>04586     gtk_widget_set_size_request ( <a class="code" href="gsb__data__report__text__comparison_8c.html#a9127cedf50ca4d5230e9c69c833a1e87">gsb_data_report_text_comparison_get_entry_text</a> (text_comparison_number),
<a name="l04587"></a>04587                            150,
<a name="l04588"></a>04588                            -1 );
<a name="l04589"></a>04589     gtk_box_pack_start ( GTK_BOX (<a class="code" href="gsb__data__report__text__comparison_8c.html#a15aaec0441bd90ec84379f643eaafc43">gsb_data_report_text_comparison_get_hbox_text</a> (text_comparison_number)),
<a name="l04590"></a>04590                          <a class="code" href="gsb__data__report__text__comparison_8c.html#a9127cedf50ca4d5230e9c69c833a1e87">gsb_data_report_text_comparison_get_entry_text</a> (text_comparison_number),
<a name="l04591"></a>04591                          FALSE,
<a name="l04592"></a>04592                          FALSE,
<a name="l04593"></a>04593                          0 );
<a name="l04594"></a>04594     gtk_widget_show (<a class="code" href="gsb__data__report__text__comparison_8c.html#a9127cedf50ca4d5230e9c69c833a1e87">gsb_data_report_text_comparison_get_entry_text</a> (text_comparison_number));
<a name="l04595"></a>04595 
<a name="l04596"></a>04596 
<a name="l04597"></a>04597     <span class="comment">/* on crée maintenant la 2ème row qui concerne les tests de chq */</span>
<a name="l04598"></a>04598 
<a name="l04599"></a>04599     hbox = gtk_hbox_new ( FALSE,
<a name="l04600"></a>04600                           5 );
<a name="l04601"></a>04601     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l04602"></a>04602                          hbox,
<a name="l04603"></a>04603                          FALSE,
<a name="l04604"></a>04604                          FALSE,
<a name="l04605"></a>04605                          0 );
<a name="l04606"></a>04606     gtk_widget_show ( hbox );
<a name="l04607"></a>04607 
<a name="l04608"></a>04608     label = gtk_label_new ( NULL );
<a name="l04609"></a>04609     gtk_widget_set_size_request ( label,
<a name="l04610"></a>04610                            12,
<a name="l04611"></a>04611                            -1 );
<a name="l04612"></a>04612     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l04613"></a>04613                          label,
<a name="l04614"></a>04614                          FALSE,
<a name="l04615"></a>04615                          FALSE,
<a name="l04616"></a>04616                          0 );
<a name="l04617"></a>04617     gtk_widget_show ( label );
<a name="l04618"></a>04618 
<a name="l04619"></a>04619 
<a name="l04620"></a>04620     <span class="comment">/* on met le check button utilisé en cas de champ à no */</span>
<a name="l04621"></a>04621 
<a name="l04622"></a>04622     g_signal_connect ( G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number)),
<a name="l04623"></a>04623                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l04624"></a>04624                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l04625"></a>04625                          <a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number));
<a name="l04626"></a>04626     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l04627"></a>04627                          <a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number),
<a name="l04628"></a>04628                          FALSE,
<a name="l04629"></a>04629                          FALSE,
<a name="l04630"></a>04630                          0 );
<a name="l04631"></a>04631     gtk_widget_show (<a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number));
<a name="l04632"></a>04632 
<a name="l04633"></a>04633 
<a name="l04634"></a>04634     <span class="comment">/* mise en place de la hbox des montants de chq */</span>
<a name="l04635"></a>04635 
<a name="l04636"></a>04636     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l04637"></a>04637                          <a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number),
<a name="l04638"></a>04638                          FALSE,
<a name="l04639"></a>04639                          FALSE,
<a name="l04640"></a>04640                          0 );
<a name="l04641"></a>04641     gtk_widget_show (<a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number));
<a name="l04642"></a>04642 
<a name="l04643"></a>04643 
<a name="l04644"></a>04644     label = gtk_label_new ( <a class="code" href="structures_8h.html#acec4595b4886c3686815d8cd5fb79a0f">POSTSPACIFY</a>(_(<span class="stringliteral">&quot;is&quot;</span>)));
<a name="l04645"></a>04645     gtk_box_pack_start ( GTK_BOX (<a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number)),
<a name="l04646"></a>04646                          label,
<a name="l04647"></a>04647                          FALSE,
<a name="l04648"></a>04648                          FALSE,
<a name="l04649"></a>04649                          0 );
<a name="l04650"></a>04650     gtk_widget_show ( label );
<a name="l04651"></a>04651 
<a name="l04652"></a>04652     <a class="code" href="gsb__data__report__text__comparison_8c.html#ae906258924ec87f65f82274c9cd98681">gsb_data_report_text_comparison_set_button_first_comparison</a> ( text_comparison_number,
<a name="l04653"></a>04653                                                                   cree_bouton_comparateur_texte (text_comparison_number));
<a name="l04654"></a>04654     gtk_box_pack_start ( GTK_BOX (<a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number)),
<a name="l04655"></a>04655                          <a class="code" href="gsb__data__report__text__comparison_8c.html#aa1d41141505ae5ec058940503c77502c">gsb_data_report_text_comparison_get_button_first_comparison</a> (text_comparison_number),
<a name="l04656"></a>04656                          FALSE,
<a name="l04657"></a>04657                          FALSE,
<a name="l04658"></a>04658                          0 );
<a name="l04659"></a>04659 
<a name="l04660"></a>04660     label = gtk_label_new ( <a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;to&quot;</span>)));
<a name="l04661"></a>04661     gtk_box_pack_start ( GTK_BOX (<a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number)),
<a name="l04662"></a>04662                          label,
<a name="l04663"></a>04663                          FALSE,
<a name="l04664"></a>04664                          FALSE,
<a name="l04665"></a>04665                          0 );
<a name="l04666"></a>04666     gtk_widget_show ( label );
<a name="l04667"></a>04667 
<a name="l04668"></a>04668     <a class="code" href="gsb__data__report__text__comparison_8c.html#af4b8d9bf4d4013e6e50587842f7e507d">gsb_data_report_text_comparison_set_entry_first_amount</a> ( text_comparison_number,
<a name="l04669"></a>04669                                                              gtk_entry_new ());
<a name="l04670"></a>04670     gtk_widget_set_size_request ( <a class="code" href="gsb__data__report__text__comparison_8c.html#a40e301a26e8349feb8b4b6f7b72ee87f">gsb_data_report_text_comparison_get_entry_first_amount</a> (text_comparison_number),
<a name="l04671"></a>04671                            100,
<a name="l04672"></a>04672                            -1 );
<a name="l04673"></a>04673     gtk_box_pack_start ( GTK_BOX (<a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number)),
<a name="l04674"></a>04674                          <a class="code" href="gsb__data__report__text__comparison_8c.html#a40e301a26e8349feb8b4b6f7b72ee87f">gsb_data_report_text_comparison_get_entry_first_amount</a> (text_comparison_number),
<a name="l04675"></a>04675                          FALSE,
<a name="l04676"></a>04676                          FALSE,
<a name="l04677"></a>04677                          0 );
<a name="l04678"></a>04678     gtk_widget_show (<a class="code" href="gsb__data__report__text__comparison_8c.html#a40e301a26e8349feb8b4b6f7b72ee87f">gsb_data_report_text_comparison_get_entry_first_amount</a> (text_comparison_number));
<a name="l04679"></a>04679 
<a name="l04680"></a>04680 
<a name="l04681"></a>04681     <span class="comment">/* la fonction cree_bouton_lien_montant va se servir de hbox_partie_2 */</span>
<a name="l04682"></a>04682     <span class="comment">/* il faut donc créer celle ci avant l&#39;appel de la fonction */</span>
<a name="l04683"></a>04683 
<a name="l04684"></a>04684     <a class="code" href="gsb__data__report__text__comparison_8c.html#aea8697ef97585a021c708a165f199f7f">gsb_data_report_text_comparison_set_hbox_second_part</a> ( text_comparison_number,
<a name="l04685"></a>04685                                                            gtk_hbox_new ( FALSE,
<a name="l04686"></a>04686                                                                           5 ));
<a name="l04687"></a>04687 
<a name="l04688"></a>04688     <span class="comment">/* on crée alors le bouton de lien */</span>
<a name="l04689"></a>04689 
<a name="l04690"></a>04690     <a class="code" href="gsb__data__report__text__comparison_8c.html#afc607fa71339ca5587076a4ad8638f0d">gsb_data_report_text_comparison_set_button_link_first_to_second_part</a> ( text_comparison_number,
<a name="l04691"></a>04691                                                                            cree_bouton_lien (<a class="code" href="gsb__data__report__text__comparison_8c.html#a43508d76f884118227a69a74796f653d">gsb_data_report_text_comparison_get_hbox_second_part</a> (text_comparison_number)));
<a name="l04692"></a>04692     gtk_box_pack_start ( GTK_BOX (<a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number)),
<a name="l04693"></a>04693                          <a class="code" href="gsb__data__report__text__comparison_8c.html#ae935aa748f908f852a8cf7e17c4c8c80">gsb_data_report_text_comparison_get_button_link_first_to_second_part</a> (text_comparison_number),
<a name="l04694"></a>04694                          FALSE,
<a name="l04695"></a>04695                          FALSE,
<a name="l04696"></a>04696                          0 );
<a name="l04697"></a>04697 
<a name="l04698"></a>04698     <span class="comment">/* on ajoute la hbox2 */</span>
<a name="l04699"></a>04699 
<a name="l04700"></a>04700     gtk_box_pack_start ( GTK_BOX (<a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number)),
<a name="l04701"></a>04701                          <a class="code" href="gsb__data__report__text__comparison_8c.html#a43508d76f884118227a69a74796f653d">gsb_data_report_text_comparison_get_hbox_second_part</a> (text_comparison_number),
<a name="l04702"></a>04702                          FALSE,
<a name="l04703"></a>04703                          FALSE,
<a name="l04704"></a>04704                          0 );
<a name="l04705"></a>04705     gtk_widget_show (<a class="code" href="gsb__data__report__text__comparison_8c.html#a43508d76f884118227a69a74796f653d">gsb_data_report_text_comparison_get_hbox_second_part</a> (text_comparison_number));
<a name="l04706"></a>04706 
<a name="l04707"></a>04707     <span class="comment">/* on peut maintenant ajouter dans hbox_partie_2 */</span>
<a name="l04708"></a>04708 
<a name="l04709"></a>04709     <a class="code" href="gsb__data__report__text__comparison_8c.html#ab04a22aaf43f06fd906a23e53cbc4130">gsb_data_report_text_comparison_set_button_second_comparison</a> ( text_comparison_number,
<a name="l04710"></a>04710                                                                    cree_bouton_comparateur_texte (text_comparison_number));
<a name="l04711"></a>04711     gtk_box_pack_start ( GTK_BOX (<a class="code" href="gsb__data__report__text__comparison_8c.html#a43508d76f884118227a69a74796f653d">gsb_data_report_text_comparison_get_hbox_second_part</a> (text_comparison_number)),
<a name="l04712"></a>04712                          <a class="code" href="gsb__data__report__text__comparison_8c.html#ac59873572d63412f35795f65988f9d9b">gsb_data_report_text_comparison_get_button_second_comparison</a> (text_comparison_number),
<a name="l04713"></a>04713                          FALSE,
<a name="l04714"></a>04714                          FALSE,
<a name="l04715"></a>04715                          0 );
<a name="l04716"></a>04716 
<a name="l04717"></a>04717     label = gtk_label_new ( <a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;to&quot;</span>)));
<a name="l04718"></a>04718     gtk_box_pack_start ( GTK_BOX (<a class="code" href="gsb__data__report__text__comparison_8c.html#a43508d76f884118227a69a74796f653d">gsb_data_report_text_comparison_get_hbox_second_part</a> (text_comparison_number)),
<a name="l04719"></a>04719                          label,
<a name="l04720"></a>04720                          FALSE,
<a name="l04721"></a>04721                          FALSE,
<a name="l04722"></a>04722                          0 );
<a name="l04723"></a>04723     gtk_widget_show ( label );
<a name="l04724"></a>04724 
<a name="l04725"></a>04725     <a class="code" href="gsb__data__report__text__comparison_8c.html#a07b8ad9d6e19ec0ed1ab6b0e13ca3aff">gsb_data_report_text_comparison_set_entry_second_amount</a> ( text_comparison_number,
<a name="l04726"></a>04726                                                               gtk_entry_new ());
<a name="l04727"></a>04727     gtk_widget_set_size_request ( <a class="code" href="gsb__data__report__text__comparison_8c.html#a171d77b0c4ab46cd9a2468dc815da11a">gsb_data_report_text_comparison_get_entry_second_amount</a> (text_comparison_number),
<a name="l04728"></a>04728                            100,
<a name="l04729"></a>04729                            -1 );
<a name="l04730"></a>04730     gtk_box_pack_start ( GTK_BOX (<a class="code" href="gsb__data__report__text__comparison_8c.html#a43508d76f884118227a69a74796f653d">gsb_data_report_text_comparison_get_hbox_second_part</a> (text_comparison_number)),
<a name="l04731"></a>04731                          <a class="code" href="gsb__data__report__text__comparison_8c.html#a171d77b0c4ab46cd9a2468dc815da11a">gsb_data_report_text_comparison_get_entry_second_amount</a> (text_comparison_number),
<a name="l04732"></a>04732                          FALSE,
<a name="l04733"></a>04733                          FALSE,
<a name="l04734"></a>04734                          0 );
<a name="l04735"></a>04735     gtk_widget_show (<a class="code" href="gsb__data__report__text__comparison_8c.html#a171d77b0c4ab46cd9a2468dc815da11a">gsb_data_report_text_comparison_get_entry_second_amount</a> (text_comparison_number));
<a name="l04736"></a>04736 
<a name="l04737"></a>04737     <span class="comment">/* on met les bouton ajouter et supprimer */</span>
<a name="l04738"></a>04738 
<a name="l04739"></a>04739     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Add&quot;</span>));
<a name="l04740"></a>04740     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l04741"></a>04741                             GTK_RELIEF_NONE );
<a name="l04742"></a>04742     g_signal_connect_swapped ( G_OBJECT ( bouton ),
<a name="l04743"></a>04743                                <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l04744"></a>04744                                G_CALLBACK ( ajoute_ligne_liste_comparaisons_textes_etat ),
<a name="l04745"></a>04745                                GINT_TO_POINTER (text_comparison_number));
<a name="l04746"></a>04746     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l04747"></a>04747                          bouton,
<a name="l04748"></a>04748                          FALSE,
<a name="l04749"></a>04749                          FALSE,
<a name="l04750"></a>04750                          0 );
<a name="l04751"></a>04751     gtk_widget_show ( bouton );
<a name="l04752"></a>04752 
<a name="l04753"></a>04753     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Remove&quot;</span>));
<a name="l04754"></a>04754     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l04755"></a>04755                             GTK_RELIEF_NONE );
<a name="l04756"></a>04756     g_signal_connect_swapped ( G_OBJECT ( bouton ),
<a name="l04757"></a>04757                                <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l04758"></a>04758                                G_CALLBACK ( retire_ligne_liste_comparaisons_textes_etat ),
<a name="l04759"></a>04759                                GINT_TO_POINTER (text_comparison_number));
<a name="l04760"></a>04760     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l04761"></a>04761                          bouton,
<a name="l04762"></a>04762                          FALSE,
<a name="l04763"></a>04763                          FALSE,
<a name="l04764"></a>04764                          0 );
<a name="l04765"></a>04765     gtk_widget_show ( bouton );
<a name="l04766"></a>04766 
<a name="l04767"></a>04767 
<a name="l04768"></a>04768     <span class="keywordflow">return</span> ( vbox );
<a name="l04769"></a>04769 }
<a name="l04770"></a>04770 <span class="comment">/******************************************************************************/</span>
<a name="l04771"></a>04771 
<a name="l04772"></a>04772 <span class="comment">/******************************************************************************/</span>
<a name="l04773"></a>04773 <span class="keywordtype">void</span> retire_ligne_liste_comparaisons_textes_etat ( gint last_text_comparison_number )
<a name="l04774"></a>04774 {
<a name="l04775"></a>04775     gint current_report_number;
<a name="l04776"></a>04776 
<a name="l04777"></a>04777     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l04778"></a>04778 
<a name="l04779"></a>04779     <span class="comment">/* il faut qu&#39;il y ai plus d&#39;une row affichée */</span>
<a name="l04780"></a>04780 
<a name="l04781"></a>04781     <span class="keywordflow">if</span> ( g_slist_length ( <a class="code" href="gsb__data__report_8c.html#acef51acc8cdd62ce33bf5bebdab0824d">gsb_data_report_get_text_comparison_list</a> (current_report_number)) &lt; 2 )
<a name="l04782"></a>04782         <span class="keywordflow">return</span>;
<a name="l04783"></a>04783 
<a name="l04784"></a>04784     <span class="comment">/* on commence par supprimer la row dans la liste */</span>
<a name="l04785"></a>04785 
<a name="l04786"></a>04786     gtk_widget_destroy (<a class="code" href="gsb__data__report__text__comparison_8c.html#a98e92783c34e4f3292adf3df1ac8fe4d">gsb_data_report_text_comparison_get_vbox_line</a> (last_text_comparison_number));
<a name="l04787"></a>04787 
<a name="l04788"></a>04788     <span class="comment">/* si la structure qu&#39;on retire est la 1ère, on vire le widget de lient */</span>
<a name="l04789"></a>04789 
<a name="l04790"></a>04790     <span class="keywordflow">if</span> ( !g_slist_index ( <a class="code" href="gsb__data__report_8c.html#acef51acc8cdd62ce33bf5bebdab0824d">gsb_data_report_get_text_comparison_list</a> (current_report_number),
<a name="l04791"></a>04791                           GINT_TO_POINTER (last_text_comparison_number)))
<a name="l04792"></a>04792     {
<a name="l04793"></a>04793         gint text_comparison_number;
<a name="l04794"></a>04794 
<a name="l04795"></a>04795         text_comparison_number = GPOINTER_TO_INT (<a class="code" href="gsb__data__report_8c.html#acef51acc8cdd62ce33bf5bebdab0824d">gsb_data_report_get_text_comparison_list</a> (current_report_number)-&gt; next -&gt; data);
<a name="l04796"></a>04796         gtk_widget_destroy (<a class="code" href="gsb__data__report__text__comparison_8c.html#a55a45156d527aca803836805f7adbff5">gsb_data_report_text_comparison_get_button_link</a> (text_comparison_number));
<a name="l04797"></a>04797         <a class="code" href="gsb__data__report__text__comparison_8c.html#a8a3e2ddf2fb6acb0f2bb18df643f9d88">gsb_data_report_text_comparison_set_button_link</a> ( text_comparison_number,
<a name="l04798"></a>04798                                                           NULL );
<a name="l04799"></a>04799     }
<a name="l04800"></a>04800 
<a name="l04801"></a>04801     <span class="comment">/* et on retire la struct de la sliste */</span>
<a name="l04802"></a>04802 
<a name="l04803"></a>04803     <a class="code" href="gsb__data__report_8c.html#a99112b283e821d4a6cf2195f7ccce028">gsb_data_report_set_text_comparison_list</a> ( current_report_number,
<a name="l04804"></a>04804                                                g_slist_remove ( <a class="code" href="gsb__data__report_8c.html#acef51acc8cdd62ce33bf5bebdab0824d">gsb_data_report_get_text_comparison_list</a> (current_report_number),
<a name="l04805"></a>04805                                                                 GINT_TO_POINTER (last_text_comparison_number)));
<a name="l04806"></a>04806 }
<a name="l04807"></a>04807 <span class="comment">/******************************************************************************/</span>
<a name="l04808"></a>04808 
<a name="l04809"></a>04809 <span class="comment">/******************************************************************************/</span>
<a name="l04810"></a>04810 <span class="comment">/* cette fonction crée un option_menu avec les noms de champs de txt, et rend (non-)sensitif */</span>
<a name="l04811"></a>04811 <span class="comment">/* la hbox correspondante ( txt ou chq ) */</span>
<a name="l04812"></a>04812 <span class="comment">/* il faut donc que hbox_txt,  hbox_chq et les 2 check button soient déjà créées */</span>
<a name="l04813"></a>04813 <span class="comment">/******************************************************************************/</span>
<a name="l04814"></a>04814 GtkWidget *cree_bouton_champ ( gint text_comparison_number )
<a name="l04815"></a>04815 {
<a name="l04816"></a>04816     GtkWidget *bouton;
<a name="l04817"></a>04817     GtkWidget *menu;
<a name="l04818"></a>04818     GtkWidget *menu_item;
<a name="l04819"></a>04819 
<a name="l04820"></a>04820     <span class="comment">/*   pour chaque item, on désensitive les check button et la row des tests de no, et */</span>
<a name="l04821"></a>04821     <span class="comment">/* on rend sensitif la row des test en txt */</span>
<a name="l04822"></a>04822     <span class="comment">/*     sauf pour les items à no (chq et pc) où on rend sensitif les check button et la */</span>
<a name="l04823"></a>04823     <span class="comment">/*     row correspondans au check button, et désensitive celle où le check button n&#39;est pas */</span>
<a name="l04824"></a>04824     <span class="comment">/* mis */</span>
<a name="l04825"></a>04825 
<a name="l04826"></a>04826     bouton = gtk_option_menu_new ();
<a name="l04827"></a>04827     gtk_widget_show ( bouton );
<a name="l04828"></a>04828 
<a name="l04829"></a>04829     menu = gtk_menu_new ();
<a name="l04830"></a>04830 
<a name="l04831"></a>04831     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;payee&quot;</span>));
<a name="l04832"></a>04832     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l04833"></a>04833                       menu_item );
<a name="l04834"></a>04834     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l04835"></a>04835                           <span class="stringliteral">&quot;no_champ&quot;</span>,
<a name="l04836"></a>04836                           GINT_TO_POINTER ( 0 ));
<a name="l04837"></a>04837     g_signal_connect_swapped ( G_OBJECT ( menu_item ),
<a name="l04838"></a>04838                                 <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04839"></a>04839                                 G_CALLBACK ( gtk_toggle_button_set_active ),
<a name="l04840"></a>04840                                 G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l04841"></a>04841     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04842"></a>04842                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04843"></a>04843                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l04844"></a>04844                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a15aaec0441bd90ec84379f643eaafc43">gsb_data_report_text_comparison_get_hbox_text</a> (text_comparison_number)));
<a name="l04845"></a>04845     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04846"></a>04846                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04847"></a>04847                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l04848"></a>04848                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number)));
<a name="l04849"></a>04849     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04850"></a>04850                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04851"></a>04851                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l04852"></a>04852                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l04853"></a>04853     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04854"></a>04854                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04855"></a>04855                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l04856"></a>04856                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number)));
<a name="l04857"></a>04857     gtk_widget_show ( menu_item );
<a name="l04858"></a>04858 
<a name="l04859"></a>04859     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;payee information&quot;</span>));
<a name="l04860"></a>04860     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l04861"></a>04861                       menu_item );
<a name="l04862"></a>04862     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l04863"></a>04863                           <span class="stringliteral">&quot;no_champ&quot;</span>,
<a name="l04864"></a>04864                           GINT_TO_POINTER ( 1 ));
<a name="l04865"></a>04865     g_signal_connect_swapped ( G_OBJECT ( menu_item ),
<a name="l04866"></a>04866                                 <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04867"></a>04867                                 G_CALLBACK ( gtk_toggle_button_set_active ),
<a name="l04868"></a>04868                                 G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l04869"></a>04869     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04870"></a>04870                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04871"></a>04871                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l04872"></a>04872                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a15aaec0441bd90ec84379f643eaafc43">gsb_data_report_text_comparison_get_hbox_text</a> (text_comparison_number)));
<a name="l04873"></a>04873     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04874"></a>04874                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04875"></a>04875                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l04876"></a>04876                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number)));
<a name="l04877"></a>04877     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04878"></a>04878                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04879"></a>04879                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l04880"></a>04880                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l04881"></a>04881     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04882"></a>04882                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04883"></a>04883                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l04884"></a>04884                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number)));
<a name="l04885"></a>04885     gtk_widget_show ( menu_item );
<a name="l04886"></a>04886 
<a name="l04887"></a>04887     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;category&quot;</span>));
<a name="l04888"></a>04888     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l04889"></a>04889                       menu_item );
<a name="l04890"></a>04890     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l04891"></a>04891                           <span class="stringliteral">&quot;no_champ&quot;</span>,
<a name="l04892"></a>04892                           GINT_TO_POINTER ( 2 ));
<a name="l04893"></a>04893     g_signal_connect_swapped ( G_OBJECT ( menu_item ),
<a name="l04894"></a>04894                                 <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04895"></a>04895                                 G_CALLBACK ( gtk_toggle_button_set_active ),
<a name="l04896"></a>04896                                 G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l04897"></a>04897     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04898"></a>04898                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04899"></a>04899                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l04900"></a>04900                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a15aaec0441bd90ec84379f643eaafc43">gsb_data_report_text_comparison_get_hbox_text</a> (text_comparison_number)));
<a name="l04901"></a>04901     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04902"></a>04902                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04903"></a>04903                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l04904"></a>04904                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number)));
<a name="l04905"></a>04905     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04906"></a>04906                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04907"></a>04907                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l04908"></a>04908                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l04909"></a>04909     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04910"></a>04910                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04911"></a>04911                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l04912"></a>04912                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number)));
<a name="l04913"></a>04913     gtk_widget_show ( menu_item );
<a name="l04914"></a>04914 
<a name="l04915"></a>04915     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;sub-category&quot;</span>));
<a name="l04916"></a>04916     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l04917"></a>04917                       menu_item );
<a name="l04918"></a>04918     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l04919"></a>04919                           <span class="stringliteral">&quot;no_champ&quot;</span>,
<a name="l04920"></a>04920                           GINT_TO_POINTER ( 3 ));
<a name="l04921"></a>04921     g_signal_connect_swapped ( G_OBJECT ( menu_item ),
<a name="l04922"></a>04922                                 <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04923"></a>04923                                 G_CALLBACK ( gtk_toggle_button_set_active ),
<a name="l04924"></a>04924                                 G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l04925"></a>04925     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04926"></a>04926                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04927"></a>04927                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l04928"></a>04928                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a15aaec0441bd90ec84379f643eaafc43">gsb_data_report_text_comparison_get_hbox_text</a> (text_comparison_number)));
<a name="l04929"></a>04929     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04930"></a>04930                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04931"></a>04931                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l04932"></a>04932                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number)));
<a name="l04933"></a>04933     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04934"></a>04934                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04935"></a>04935                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l04936"></a>04936                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l04937"></a>04937     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04938"></a>04938                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04939"></a>04939                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l04940"></a>04940                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number)));
<a name="l04941"></a>04941     gtk_widget_show ( menu_item );
<a name="l04942"></a>04942 
<a name="l04943"></a>04943     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;budgetary line&quot;</span>));
<a name="l04944"></a>04944     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l04945"></a>04945                       menu_item );
<a name="l04946"></a>04946     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l04947"></a>04947                           <span class="stringliteral">&quot;no_champ&quot;</span>,
<a name="l04948"></a>04948                           GINT_TO_POINTER ( 4 ));
<a name="l04949"></a>04949     g_signal_connect_swapped ( G_OBJECT ( menu_item ),
<a name="l04950"></a>04950                                 <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04951"></a>04951                                 G_CALLBACK ( gtk_toggle_button_set_active ),
<a name="l04952"></a>04952                                 G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l04953"></a>04953     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04954"></a>04954                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04955"></a>04955                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l04956"></a>04956                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a15aaec0441bd90ec84379f643eaafc43">gsb_data_report_text_comparison_get_hbox_text</a> (text_comparison_number)));
<a name="l04957"></a>04957     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04958"></a>04958                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04959"></a>04959                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l04960"></a>04960                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number)));
<a name="l04961"></a>04961     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04962"></a>04962                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04963"></a>04963                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l04964"></a>04964                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l04965"></a>04965     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04966"></a>04966                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04967"></a>04967                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l04968"></a>04968                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number)));
<a name="l04969"></a>04969     gtk_widget_show ( menu_item );
<a name="l04970"></a>04970 
<a name="l04971"></a>04971     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;sub-budgetary line&quot;</span>));
<a name="l04972"></a>04972     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l04973"></a>04973                       menu_item );
<a name="l04974"></a>04974     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l04975"></a>04975                           <span class="stringliteral">&quot;no_champ&quot;</span>,
<a name="l04976"></a>04976                           GINT_TO_POINTER ( 5 ));
<a name="l04977"></a>04977     g_signal_connect_swapped ( G_OBJECT ( menu_item ),
<a name="l04978"></a>04978                                 <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04979"></a>04979                                 G_CALLBACK ( gtk_toggle_button_set_active ),
<a name="l04980"></a>04980                                 G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l04981"></a>04981     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04982"></a>04982                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04983"></a>04983                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l04984"></a>04984                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a15aaec0441bd90ec84379f643eaafc43">gsb_data_report_text_comparison_get_hbox_text</a> (text_comparison_number)));
<a name="l04985"></a>04985     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04986"></a>04986                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04987"></a>04987                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l04988"></a>04988                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number)));
<a name="l04989"></a>04989     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04990"></a>04990                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04991"></a>04991                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l04992"></a>04992                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l04993"></a>04993     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l04994"></a>04994                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l04995"></a>04995                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l04996"></a>04996                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number)));
<a name="l04997"></a>04997     gtk_widget_show ( menu_item );
<a name="l04998"></a>04998 
<a name="l04999"></a>04999     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;note&quot;</span>));
<a name="l05000"></a>05000     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05001"></a>05001                       menu_item );
<a name="l05002"></a>05002     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05003"></a>05003                           <span class="stringliteral">&quot;no_champ&quot;</span>,
<a name="l05004"></a>05004                           GINT_TO_POINTER ( 6 ));
<a name="l05005"></a>05005     g_signal_connect_swapped ( G_OBJECT ( menu_item ),
<a name="l05006"></a>05006                                 <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05007"></a>05007                                 G_CALLBACK ( gtk_toggle_button_set_active ),
<a name="l05008"></a>05008                                 G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l05009"></a>05009     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05010"></a>05010                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05011"></a>05011                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l05012"></a>05012                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a15aaec0441bd90ec84379f643eaafc43">gsb_data_report_text_comparison_get_hbox_text</a> (text_comparison_number)));
<a name="l05013"></a>05013     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05014"></a>05014                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05015"></a>05015                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l05016"></a>05016                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number)));
<a name="l05017"></a>05017     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05018"></a>05018                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05019"></a>05019                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l05020"></a>05020                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l05021"></a>05021     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05022"></a>05022                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05023"></a>05023                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l05024"></a>05024                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number)));
<a name="l05025"></a>05025     gtk_widget_show ( menu_item );
<a name="l05026"></a>05026 
<a name="l05027"></a>05027     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;bank reference&quot;</span>));
<a name="l05028"></a>05028     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05029"></a>05029                       menu_item );
<a name="l05030"></a>05030     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05031"></a>05031                           <span class="stringliteral">&quot;no_champ&quot;</span>,
<a name="l05032"></a>05032                           GINT_TO_POINTER ( 7 ));
<a name="l05033"></a>05033     g_signal_connect_swapped ( G_OBJECT ( menu_item ),
<a name="l05034"></a>05034                                 <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05035"></a>05035                                 G_CALLBACK ( gtk_toggle_button_set_active ),
<a name="l05036"></a>05036                                 G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l05037"></a>05037     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05038"></a>05038                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05039"></a>05039                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l05040"></a>05040                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a15aaec0441bd90ec84379f643eaafc43">gsb_data_report_text_comparison_get_hbox_text</a> (text_comparison_number)));
<a name="l05041"></a>05041     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05042"></a>05042                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05043"></a>05043                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l05044"></a>05044                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number)));
<a name="l05045"></a>05045     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05046"></a>05046                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05047"></a>05047                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l05048"></a>05048                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l05049"></a>05049     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05050"></a>05050                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05051"></a>05051                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l05052"></a>05052                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number)));
<a name="l05053"></a>05053     gtk_widget_show ( menu_item );
<a name="l05054"></a>05054 
<a name="l05055"></a>05055     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;voucher&quot;</span>));
<a name="l05056"></a>05056     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05057"></a>05057                       menu_item );
<a name="l05058"></a>05058     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05059"></a>05059                           <span class="stringliteral">&quot;no_champ&quot;</span>,
<a name="l05060"></a>05060                           GINT_TO_POINTER ( 8 ));
<a name="l05061"></a>05061     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05062"></a>05062                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05063"></a>05063                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l05064"></a>05064                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l05065"></a>05065     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05066"></a>05066                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05067"></a>05067                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l05068"></a>05068                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number)));
<a name="l05069"></a>05069     g_signal_connect_swapped ( G_OBJECT ( menu_item ),
<a name="l05070"></a>05070                                <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05071"></a>05071                                G_CALLBACK ( sensitive_hbox_fonction_bouton_txt ),
<a name="l05072"></a>05072                                GINT_TO_POINTER (text_comparison_number));
<a name="l05073"></a>05073     gtk_widget_show ( menu_item );
<a name="l05074"></a>05074 
<a name="l05075"></a>05075 
<a name="l05076"></a>05076     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;cheque number&quot;</span>));
<a name="l05077"></a>05077     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05078"></a>05078                       menu_item );
<a name="l05079"></a>05079     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05080"></a>05080                           <span class="stringliteral">&quot;no_champ&quot;</span>,
<a name="l05081"></a>05081                           GINT_TO_POINTER ( 9 ));
<a name="l05082"></a>05082     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05083"></a>05083                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05084"></a>05084                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l05085"></a>05085                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l05086"></a>05086     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05087"></a>05087                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05088"></a>05088                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l05089"></a>05089                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number)));
<a name="l05090"></a>05090     g_signal_connect_swapped ( G_OBJECT ( menu_item ),
<a name="l05091"></a>05091                                 <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05092"></a>05092                                 G_CALLBACK ( sensitive_hbox_fonction_bouton_txt ),
<a name="l05093"></a>05093                                 GINT_TO_POINTER (text_comparison_number));
<a name="l05094"></a>05094     gtk_widget_show ( menu_item );
<a name="l05095"></a>05095 
<a name="l05096"></a>05096     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;reconciliation reference&quot;</span>));
<a name="l05097"></a>05097     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05098"></a>05098                       menu_item );
<a name="l05099"></a>05099     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05100"></a>05100                           <span class="stringliteral">&quot;no_champ&quot;</span>,
<a name="l05101"></a>05101                           GINT_TO_POINTER ( 10 ));
<a name="l05102"></a>05102     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05103"></a>05103                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05104"></a>05104                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l05105"></a>05105                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number)));
<a name="l05106"></a>05106     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05107"></a>05107                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05108"></a>05108                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l05109"></a>05109                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number)));
<a name="l05110"></a>05110     g_signal_connect_swapped ( G_OBJECT ( menu_item ),
<a name="l05111"></a>05111                                 <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05112"></a>05112                                 G_CALLBACK ( sensitive_hbox_fonction_bouton_txt ),
<a name="l05113"></a>05113                                 GINT_TO_POINTER (text_comparison_number));
<a name="l05114"></a>05114     gtk_widget_show ( menu_item );
<a name="l05115"></a>05115 
<a name="l05116"></a>05116     gtk_option_menu_set_menu ( GTK_OPTION_MENU ( bouton ),
<a name="l05117"></a>05117                                menu );
<a name="l05118"></a>05118     gtk_widget_show ( menu );
<a name="l05119"></a>05119 
<a name="l05120"></a>05120     <span class="keywordflow">return</span> ( bouton );
<a name="l05121"></a>05121 }
<a name="l05122"></a>05122 <span class="comment">/******************************************************************************/</span>
<a name="l05123"></a>05123 
<a name="l05124"></a>05124 <span class="comment">/******************************************************************************/</span>
<a name="l05125"></a>05125 <span class="comment">/* cette fonction est appellée lorsqu&#39;on sélectionne un champ de texte à no */</span>
<a name="l05126"></a>05126 <span class="comment">/* elle rend sensitif la hbox correspondant au check button */</span>
<a name="l05127"></a>05127 <span class="comment">/******************************************************************************/</span>
<a name="l05128"></a>05128 <span class="keywordtype">void</span> sensitive_hbox_fonction_bouton_txt ( gint text_comparison_number )
<a name="l05129"></a>05129 {
<a name="l05130"></a>05130     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( <a class="code" href="gsb__data__report__text__comparison_8c.html#a6e6be29beafd0d972e146091e38e0955">gsb_data_report_text_comparison_get_button_use_text</a> (text_comparison_number),
<a name="l05131"></a>05131                                 <a class="code" href="gsb__data__report__text__comparison_8c.html#a15aaec0441bd90ec84379f643eaafc43">gsb_data_report_text_comparison_get_hbox_text</a> (text_comparison_number));
<a name="l05132"></a>05132     <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ( <a class="code" href="gsb__data__report__text__comparison_8c.html#a17fa9502f08f221286edd8b366745438">gsb_data_report_text_comparison_get_button_use_number</a> (text_comparison_number),
<a name="l05133"></a>05133                                 <a class="code" href="gsb__data__report__text__comparison_8c.html#aa0a5801ae659805b7d921d4da80d42d0">gsb_data_report_text_comparison_get_hbox_cheque</a> (text_comparison_number));
<a name="l05134"></a>05134 }
<a name="l05135"></a>05135 <span class="comment">/******************************************************************************/</span>
<a name="l05136"></a>05136 
<a name="l05137"></a>05137 <span class="comment">/******************************************************************************/</span>
<a name="l05138"></a>05138 <span class="comment">/* cette fonction crée un option_menu avec contient, ne contient pas ... */</span>
<a name="l05139"></a>05139 <span class="comment">/******************************************************************************/</span>
<a name="l05140"></a>05140 GtkWidget *cree_bouton_operateur_txt ( gint text_comparison_number )
<a name="l05141"></a>05141 {
<a name="l05142"></a>05142     GtkWidget *bouton;
<a name="l05143"></a>05143     GtkWidget *menu;
<a name="l05144"></a>05144     GtkWidget *menu_item;
<a name="l05145"></a>05145 
<a name="l05146"></a>05146     bouton = gtk_option_menu_new ();
<a name="l05147"></a>05147     gtk_widget_show ( bouton );
<a name="l05148"></a>05148 
<a name="l05149"></a>05149     menu = gtk_menu_new ();
<a name="l05150"></a>05150 
<a name="l05151"></a>05151     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;contains&quot;</span>));
<a name="l05152"></a>05152     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05153"></a>05153                       menu_item );
<a name="l05154"></a>05154     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05155"></a>05155                           <span class="stringliteral">&quot;no_operateur&quot;</span>,
<a name="l05156"></a>05156                           GINT_TO_POINTER ( 0 ));
<a name="l05157"></a>05157     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05158"></a>05158                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05159"></a>05159                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l05160"></a>05160                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a9127cedf50ca4d5230e9c69c833a1e87">gsb_data_report_text_comparison_get_entry_text</a> (text_comparison_number)));
<a name="l05161"></a>05161     gtk_widget_show ( menu_item );
<a name="l05162"></a>05162 
<a name="l05163"></a>05163     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;doesn&#39;t contain&quot;</span>));
<a name="l05164"></a>05164     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05165"></a>05165                       menu_item );
<a name="l05166"></a>05166     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05167"></a>05167                           <span class="stringliteral">&quot;no_operateur&quot;</span>,
<a name="l05168"></a>05168                           GINT_TO_POINTER ( 1 ));
<a name="l05169"></a>05169     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05170"></a>05170                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05171"></a>05171                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l05172"></a>05172                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a9127cedf50ca4d5230e9c69c833a1e87">gsb_data_report_text_comparison_get_entry_text</a> (text_comparison_number)));
<a name="l05173"></a>05173     gtk_widget_show ( menu_item );
<a name="l05174"></a>05174 
<a name="l05175"></a>05175     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;begins with&quot;</span>));
<a name="l05176"></a>05176     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05177"></a>05177                       menu_item );
<a name="l05178"></a>05178     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05179"></a>05179                           <span class="stringliteral">&quot;no_operateur&quot;</span>,
<a name="l05180"></a>05180                           GINT_TO_POINTER ( 2 ));
<a name="l05181"></a>05181     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05182"></a>05182                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05183"></a>05183                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l05184"></a>05184                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a9127cedf50ca4d5230e9c69c833a1e87">gsb_data_report_text_comparison_get_entry_text</a> (text_comparison_number)));
<a name="l05185"></a>05185     gtk_widget_show ( menu_item );
<a name="l05186"></a>05186 
<a name="l05187"></a>05187     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;ends with&quot;</span>));
<a name="l05188"></a>05188     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05189"></a>05189                       menu_item );
<a name="l05190"></a>05190     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05191"></a>05191                           <span class="stringliteral">&quot;no_operateur&quot;</span>,
<a name="l05192"></a>05192                           GINT_TO_POINTER ( 3 ));
<a name="l05193"></a>05193     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05194"></a>05194                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05195"></a>05195                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l05196"></a>05196                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a9127cedf50ca4d5230e9c69c833a1e87">gsb_data_report_text_comparison_get_entry_text</a> (text_comparison_number)));
<a name="l05197"></a>05197     gtk_widget_show ( menu_item );
<a name="l05198"></a>05198 
<a name="l05199"></a>05199     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;is empty&quot;</span>));
<a name="l05200"></a>05200     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05201"></a>05201                       menu_item );
<a name="l05202"></a>05202     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05203"></a>05203                           <span class="stringliteral">&quot;no_operateur&quot;</span>,
<a name="l05204"></a>05204                           GINT_TO_POINTER ( 4 ));
<a name="l05205"></a>05205     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05206"></a>05206                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05207"></a>05207                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l05208"></a>05208                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a9127cedf50ca4d5230e9c69c833a1e87">gsb_data_report_text_comparison_get_entry_text</a> (text_comparison_number)));
<a name="l05209"></a>05209     gtk_widget_show ( menu_item );
<a name="l05210"></a>05210 
<a name="l05211"></a>05211     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;isn&#39;t empty&quot;</span>));
<a name="l05212"></a>05212     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05213"></a>05213                       menu_item );
<a name="l05214"></a>05214     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05215"></a>05215                           <span class="stringliteral">&quot;no_operateur&quot;</span>,
<a name="l05216"></a>05216                           GINT_TO_POINTER ( 5 ));
<a name="l05217"></a>05217     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05218"></a>05218                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05219"></a>05219                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l05220"></a>05220                          G_OBJECT (<a class="code" href="gsb__data__report__text__comparison_8c.html#a9127cedf50ca4d5230e9c69c833a1e87">gsb_data_report_text_comparison_get_entry_text</a> (text_comparison_number)));
<a name="l05221"></a>05221     gtk_widget_show ( menu_item );
<a name="l05222"></a>05222 
<a name="l05223"></a>05223 
<a name="l05224"></a>05224     gtk_option_menu_set_menu ( GTK_OPTION_MENU ( bouton ),
<a name="l05225"></a>05225                                menu );
<a name="l05226"></a>05226     gtk_widget_show ( menu );
<a name="l05227"></a>05227 
<a name="l05228"></a>05228     <span class="keywordflow">return</span> ( bouton );
<a name="l05229"></a>05229 }
<a name="l05230"></a>05230 <span class="comment">/******************************************************************************/</span>
<a name="l05231"></a>05231 
<a name="l05232"></a>05232 <span class="comment">/******************************************************************************/</span>
<a name="l05233"></a>05233 GtkWidget *onglet_etat_montant ( <span class="keywordtype">void</span> )
<a name="l05234"></a>05234 {
<a name="l05235"></a>05235     GtkWidget *hbox;
<a name="l05236"></a>05236     GtkWidget *vbox_onglet;
<a name="l05237"></a>05237     GtkWidget *scrolled_window;
<a name="l05238"></a>05238 
<a name="l05239"></a>05239     vbox_onglet = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Amount&quot;</span>), <span class="stringliteral">&quot;amount.png&quot;</span> );
<a name="l05240"></a>05240     gtk_widget_show ( vbox_onglet );
<a name="l05241"></a>05241 
<a name="l05242"></a>05242 
<a name="l05243"></a>05243     <span class="comment">/* on commence par créer le choix d&#39;utiliser le montant */</span>
<a name="l05244"></a>05244 
<a name="l05245"></a>05245     hbox = gtk_hbox_new ( FALSE,
<a name="l05246"></a>05246                           5 );
<a name="l05247"></a>05247     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l05248"></a>05248                          hbox,
<a name="l05249"></a>05249                          FALSE,
<a name="l05250"></a>05250                          FALSE,
<a name="l05251"></a>05251                          0 );
<a name="l05252"></a>05252     gtk_widget_show ( hbox );
<a name="l05253"></a>05253 
<a name="l05254"></a>05254     bouton_utilise_montant = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Select the transactions by amount&quot;</span>) );
<a name="l05255"></a>05255     g_signal_connect_swapped ( G_OBJECT ( bouton_utilise_montant ),
<a name="l05256"></a>05256                                 <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l05257"></a>05257                                 G_CALLBACK ( report_tree_update_style ),
<a name="l05258"></a>05258                                 GINT_TO_POINTER ( 7 ));
<a name="l05259"></a>05259     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l05260"></a>05260                          bouton_utilise_montant,
<a name="l05261"></a>05261                          FALSE,
<a name="l05262"></a>05262                          FALSE,
<a name="l05263"></a>05263                          0 );
<a name="l05264"></a>05264     gtk_widget_show ( bouton_utilise_montant );
<a name="l05265"></a>05265 
<a name="l05266"></a>05266     vbox_generale_montants_etat = gtk_vbox_new ( FALSE, 5 );
<a name="l05267"></a>05267     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l05268"></a>05268                          vbox_generale_montants_etat,
<a name="l05269"></a>05269                          TRUE,
<a name="l05270"></a>05270                          TRUE,
<a name="l05271"></a>05271                          0 );
<a name="l05272"></a>05272     gtk_widget_show ( vbox_generale_montants_etat );
<a name="l05273"></a>05273 
<a name="l05274"></a>05274     g_signal_connect ( G_OBJECT ( bouton_utilise_montant ),
<a name="l05275"></a>05275                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l05276"></a>05276                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l05277"></a>05277                          vbox_generale_montants_etat );
<a name="l05278"></a>05278 
<a name="l05279"></a>05279 
<a name="l05280"></a>05280 
<a name="l05281"></a>05281     <span class="comment">/* on va ensuite créer la liste qui contiendra les critères */</span>
<a name="l05282"></a>05282     <span class="comment">/* le remplissage ou la row vide se mettent plus tard */</span>
<a name="l05283"></a>05283 
<a name="l05284"></a>05284     scrolled_window = gtk_scrolled_window_new ( FALSE,
<a name="l05285"></a>05285                                                 FALSE );
<a name="l05286"></a>05286     gtk_scrolled_window_set_policy ( GTK_SCROLLED_WINDOW ( scrolled_window ),
<a name="l05287"></a>05287                                      GTK_POLICY_AUTOMATIC,
<a name="l05288"></a>05288                                      GTK_POLICY_AUTOMATIC );
<a name="l05289"></a>05289     gtk_box_pack_start ( GTK_BOX ( vbox_generale_montants_etat ),
<a name="l05290"></a>05290                          scrolled_window,
<a name="l05291"></a>05291                          TRUE,
<a name="l05292"></a>05292                          TRUE,
<a name="l05293"></a>05293                          0 );
<a name="l05294"></a>05294     gtk_widget_show ( scrolled_window );
<a name="l05295"></a>05295 
<a name="l05296"></a>05296     liste_montants_etat = gtk_vbox_new ( FALSE, 5 );
<a name="l05297"></a>05297     gtk_scrolled_window_add_with_viewport ( GTK_SCROLLED_WINDOW ( scrolled_window ),
<a name="l05298"></a>05298                                             liste_montants_etat );
<a name="l05299"></a>05299     gtk_widget_show ( liste_montants_etat );
<a name="l05300"></a>05300 
<a name="l05301"></a>05301 
<a name="l05302"></a>05302     <span class="comment">/* on rajoute le bouton exclure les opé dont le montant est nul */</span>
<a name="l05303"></a>05303 
<a name="l05304"></a>05304     bouton_exclure_ope_nulles_etat = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Exclude the transactions with a null amount&quot;</span>) );
<a name="l05305"></a>05305     g_signal_connect_swapped ( G_OBJECT ( bouton_exclure_ope_nulles_etat ),
<a name="l05306"></a>05306                                 <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l05307"></a>05307                                 G_CALLBACK ( report_tree_update_style ),
<a name="l05308"></a>05308                                 GINT_TO_POINTER ( 7 ));
<a name="l05309"></a>05309     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l05310"></a>05310                          bouton_exclure_ope_nulles_etat,
<a name="l05311"></a>05311                          FALSE,
<a name="l05312"></a>05312                          FALSE,
<a name="l05313"></a>05313                          0 );
<a name="l05314"></a>05314     gtk_widget_show ( bouton_exclure_ope_nulles_etat );
<a name="l05315"></a>05315 
<a name="l05316"></a>05316 
<a name="l05317"></a>05317     <span class="keywordflow">return</span> ( vbox_onglet );
<a name="l05318"></a>05318 }
<a name="l05319"></a>05319 <span class="comment">/******************************************************************************/</span>
<a name="l05320"></a>05320 
<a name="l05321"></a>05321 <span class="comment">/******************************************************************************/</span>
<a name="l05322"></a>05322 <span class="keywordtype">void</span> remplit_liste_comparaisons_montants_etat ( <span class="keywordtype">void</span> )
<a name="l05323"></a>05323 {
<a name="l05324"></a>05324     GSList *list_tmp;
<a name="l05325"></a>05325     gint current_report_number;
<a name="l05326"></a>05326         gchar* tmpstr;
<a name="l05327"></a>05327 
<a name="l05328"></a>05328     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l05329"></a>05329 
<a name="l05330"></a>05330 
<a name="l05331"></a>05331     list_tmp = <a class="code" href="gsb__data__report_8c.html#a67893d2be0b2f657aa1c41211820280b">gsb_data_report_get_amount_comparison_list</a> (current_report_number);
<a name="l05332"></a>05332 
<a name="l05333"></a>05333 
<a name="l05334"></a>05334     <span class="comment">/* commence par effacer l&#39;ancienne liste */</span>
<a name="l05335"></a>05335 
<a name="l05336"></a>05336     <span class="keywordflow">while</span> ( GTK_BOX ( liste_montants_etat ) -&gt; children )
<a name="l05337"></a>05337         gtk_container_remove ( GTK_CONTAINER ( liste_montants_etat ),
<a name="l05338"></a>05338                                (( GtkBoxChild *) ( GTK_BOX ( liste_montants_etat ) -&gt; children -&gt; data )) -&gt; widget );
<a name="l05339"></a>05339 
<a name="l05340"></a>05340 
<a name="l05341"></a>05341     <span class="comment">/*   s&#39;il n&#39;y a rien dans la liste, on met juste une row vide */</span>
<a name="l05342"></a>05342 
<a name="l05343"></a>05343     <span class="keywordflow">if</span> ( !list_tmp )
<a name="l05344"></a>05344     {
<a name="l05345"></a>05345         ajoute_ligne_liste_comparaisons_montants_etat (0);
<a name="l05346"></a>05346         <span class="keywordflow">return</span>;
<a name="l05347"></a>05347     }
<a name="l05348"></a>05348 
<a name="l05349"></a>05349     <span class="comment">/*   on fait le tour de la liste des comparaisons de montant, ajoute une row */</span>
<a name="l05350"></a>05350     <span class="comment">/* et la remplit à chaque fois */</span>
<a name="l05351"></a>05351 
<a name="l05352"></a>05352     <span class="keywordflow">while</span> ( list_tmp )
<a name="l05353"></a>05353     {
<a name="l05354"></a>05354         gint amount_comparison_number;
<a name="l05355"></a>05355         GtkWidget *hbox;
<a name="l05356"></a>05356 
<a name="l05357"></a>05357         amount_comparison_number = GPOINTER_TO_INT (list_tmp -&gt; data);
<a name="l05358"></a>05358         hbox = cree_ligne_comparaison_montant (amount_comparison_number);
<a name="l05359"></a>05359 
<a name="l05360"></a>05360         <span class="comment">/* on crée la row et remplit les widget de la structure */</span>
<a name="l05361"></a>05361 
<a name="l05362"></a>05362         <a class="code" href="gsb__data__report__amout__comparison_8c.html#aaf2442526ca1c7c9f8e21c098c26083e">gsb_data_report_amount_comparison_set_hbox_line</a> ( amount_comparison_number,
<a name="l05363"></a>05363                                                           hbox);
<a name="l05364"></a>05364         gtk_box_pack_start ( GTK_BOX ( liste_montants_etat ),
<a name="l05365"></a>05365                              hbox,
<a name="l05366"></a>05366                              FALSE,
<a name="l05367"></a>05367                              FALSE,
<a name="l05368"></a>05368                              0 );
<a name="l05369"></a>05369         gtk_widget_show ( hbox );
<a name="l05370"></a>05370 
<a name="l05371"></a>05371         <span class="comment">/* on remplit maintenant les widget avec les valeurs de la stucture */</span>
<a name="l05372"></a>05372 
<a name="l05373"></a>05373         <span class="comment">/*       s&#39;il n&#39;y a pas de lien avec la struct précédente, on le vire */</span>
<a name="l05374"></a>05374         <span class="comment">/* on rajoute le &amp;&amp; car parfois le bouton de lien se met quand même en 1ère row */</span>
<a name="l05375"></a>05375 
<a name="l05376"></a>05376         <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report__amout__comparison_8c.html#a0917d321c4f62f197d4d31ea0fdcc6a4">gsb_data_report_amount_comparison_get_link_to_last_amount_comparison</a> (amount_comparison_number) != -1
<a name="l05377"></a>05377              &amp;&amp;
<a name="l05378"></a>05378              list_tmp != <a class="code" href="gsb__data__report_8c.html#a67893d2be0b2f657aa1c41211820280b">gsb_data_report_get_amount_comparison_list</a> (current_report_number))
<a name="l05379"></a>05379             gtk_option_menu_set_history ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__amout__comparison_8c.html#a3df5f1bbd7f70036d8c5614ae41e2bba">gsb_data_report_amount_comparison_get_button_link</a> (amount_comparison_number)),
<a name="l05380"></a>05380                                           <a class="code" href="gsb__data__report__amout__comparison_8c.html#a0917d321c4f62f197d4d31ea0fdcc6a4">gsb_data_report_amount_comparison_get_link_to_last_amount_comparison</a> (amount_comparison_number));
<a name="l05381"></a>05381         <span class="keywordflow">else</span>
<a name="l05382"></a>05382         {
<a name="l05383"></a>05383             gtk_widget_destroy (<a class="code" href="gsb__data__report__amout__comparison_8c.html#a3df5f1bbd7f70036d8c5614ae41e2bba">gsb_data_report_amount_comparison_get_button_link</a> (amount_comparison_number));
<a name="l05384"></a>05384             <a class="code" href="gsb__data__report__amout__comparison_8c.html#a7c3f11144facc579886947e46cce5e4f">gsb_data_report_amount_comparison_set_button_link</a> ( amount_comparison_number,
<a name="l05385"></a>05385                                                                 NULL );
<a name="l05386"></a>05386         }
<a name="l05387"></a>05387 
<a name="l05388"></a>05388 
<a name="l05389"></a>05389         gtk_option_menu_set_history ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__amout__comparison_8c.html#a1d62e1b412dd1dc32d328883eeedfb97">gsb_data_report_amount_comparison_get_button_first_comparison</a> (amount_comparison_number)),
<a name="l05390"></a>05390                                       <a class="code" href="gsb__data__report__amout__comparison_8c.html#a44f7f91f11a27716875d00423b81deea">gsb_data_report_amount_comparison_get_first_comparison</a> (amount_comparison_number));
<a name="l05391"></a>05391         gtk_option_menu_set_history ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__amout__comparison_8c.html#a21371b634e4c92ceef60b4ff32d288c5">gsb_data_report_amount_comparison_get_button_link_first_to_second_part</a> (amount_comparison_number)),
<a name="l05392"></a>05392                                       <a class="code" href="gsb__data__report__amout__comparison_8c.html#afceb08f5464a31bc51d17215e6589514">gsb_data_report_amount_comparison_get_link_first_to_second_part</a> (amount_comparison_number));
<a name="l05393"></a>05393         gtk_option_menu_set_history ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__amout__comparison_8c.html#a41fcd19451f3230eb9737b5ee45b1366">gsb_data_report_amount_comparison_get_button_second_comparison</a> (amount_comparison_number)),
<a name="l05394"></a>05394                                       <a class="code" href="gsb__data__report__amout__comparison_8c.html#aa9d04fc293edeacf0930121bd663f234">gsb_data_report_amount_comparison_get_second_comparison</a> (amount_comparison_number));
<a name="l05395"></a>05395 
<a name="l05396"></a>05396         tmpstr = <a class="code" href="gsb__real_8c.html#a9207a2084e51e49584c038b6c8ae4433">gsb_real_get_string</a> (<a class="code" href="gsb__data__report__amout__comparison_8c.html#acf6a83475c566080242c5c6163abde54">gsb_data_report_amount_comparison_get_first_amount</a> (amount_comparison_number));
<a name="l05397"></a>05397         gtk_entry_set_text ( GTK_ENTRY (<a class="code" href="gsb__data__report__amout__comparison_8c.html#ad1e7549b875594564bb074c9bae69bbf">gsb_data_report_amount_comparison_get_entry_first_amount</a> (amount_comparison_number)), tmpstr);
<a name="l05398"></a>05398         g_free ( tmpstr );
<a name="l05399"></a>05399 
<a name="l05400"></a>05400         tmpstr = <a class="code" href="gsb__real_8c.html#a9207a2084e51e49584c038b6c8ae4433">gsb_real_get_string</a> (<a class="code" href="gsb__data__report__amout__comparison_8c.html#aa34007389fb6e92a19ef95edc1803d8b">gsb_data_report_amount_comparison_get_second_amount</a> (amount_comparison_number));
<a name="l05401"></a>05401         gtk_entry_set_text ( GTK_ENTRY (<a class="code" href="gsb__data__report__amout__comparison_8c.html#a38d12eff5d62a0cc0befb2655d46c96d">gsb_data_report_amount_comparison_get_entry_second_amount</a> (amount_comparison_number)), tmpstr);
<a name="l05402"></a>05402         g_free ( tmpstr );
<a name="l05403"></a>05403 
<a name="l05404"></a>05404         <span class="comment">/* on sensitive/désensitive les entrées si nécessaire */</span>
<a name="l05405"></a>05405 
<a name="l05406"></a>05406         <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report__amout__comparison_8c.html#a44f7f91f11a27716875d00423b81deea">gsb_data_report_amount_comparison_get_first_comparison</a> (amount_comparison_number) &gt; 5 )
<a name="l05407"></a>05407             <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> (NULL, <a class="code" href="gsb__data__report__amout__comparison_8c.html#ad1e7549b875594564bb074c9bae69bbf">gsb_data_report_amount_comparison_get_entry_first_amount</a> (amount_comparison_number));
<a name="l05408"></a>05408         <span class="keywordflow">else</span>
<a name="l05409"></a>05409             <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> (NULL, <a class="code" href="gsb__data__report__amout__comparison_8c.html#ad1e7549b875594564bb074c9bae69bbf">gsb_data_report_amount_comparison_get_entry_first_amount</a> (amount_comparison_number));
<a name="l05410"></a>05410 
<a name="l05411"></a>05411         <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report__amout__comparison_8c.html#aa9d04fc293edeacf0930121bd663f234">gsb_data_report_amount_comparison_get_second_comparison</a> (amount_comparison_number) &gt; 5 )
<a name="l05412"></a>05412             <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> (NULL, <a class="code" href="gsb__data__report__amout__comparison_8c.html#a38d12eff5d62a0cc0befb2655d46c96d">gsb_data_report_amount_comparison_get_entry_second_amount</a> (amount_comparison_number));
<a name="l05413"></a>05413         <span class="keywordflow">else</span>
<a name="l05414"></a>05414             <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> (NULL, <a class="code" href="gsb__data__report__amout__comparison_8c.html#a38d12eff5d62a0cc0befb2655d46c96d">gsb_data_report_amount_comparison_get_entry_second_amount</a> (amount_comparison_number));
<a name="l05415"></a>05415 
<a name="l05416"></a>05416 
<a name="l05417"></a>05417         <span class="comment">/* on sensitive/désensitive la hbox_2 si nécessaire */</span>
<a name="l05418"></a>05418 
<a name="l05419"></a>05419         <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report__amout__comparison_8c.html#afceb08f5464a31bc51d17215e6589514">gsb_data_report_amount_comparison_get_link_first_to_second_part</a> (amount_comparison_number) == 3 )
<a name="l05420"></a>05420             <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> (NULL, <a class="code" href="gsb__data__report__amout__comparison_8c.html#a820deaa79a40b8b64515c7fd8815c97e">gsb_data_report_amount_comparison_get_hbox_second_part</a> (amount_comparison_number));
<a name="l05421"></a>05421         <span class="keywordflow">else</span>
<a name="l05422"></a>05422             <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> (NULL, <a class="code" href="gsb__data__report__amout__comparison_8c.html#a820deaa79a40b8b64515c7fd8815c97e">gsb_data_report_amount_comparison_get_hbox_second_part</a> (amount_comparison_number));
<a name="l05423"></a>05423 
<a name="l05424"></a>05424         list_tmp = list_tmp -&gt; next;
<a name="l05425"></a>05425     }
<a name="l05426"></a>05426 }
<a name="l05427"></a>05427 <span class="comment">/******************************************************************************/</span>
<a name="l05428"></a>05428 
<a name="l05429"></a>05429 <span class="comment">/******************************************************************************/</span>
<a name="l05430"></a>05430 <span class="comment">/* cette fonction ajoute une row vierge */</span>
<a name="l05431"></a>05431 <span class="comment">/* si ancien_comp_montants n&#39;est pas nul, la row est insérée juste après celle de l&#39;argument */</span>
<a name="l05432"></a>05432 <span class="comment">/******************************************************************************/</span>
<a name="l05433"></a>05433 
<a name="l05434"></a>05434 <span class="keywordtype">void</span> ajoute_ligne_liste_comparaisons_montants_etat ( gint last_amount_comparison_number )
<a name="l05435"></a>05435 {
<a name="l05436"></a>05436     gint position;
<a name="l05437"></a>05437     gint current_report_number;
<a name="l05438"></a>05438     gint amount_comparison_number;
<a name="l05439"></a>05439     GtkWidget *hbox;
<a name="l05440"></a>05440 
<a name="l05441"></a>05441     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l05442"></a>05442 
<a name="l05443"></a>05443 
<a name="l05444"></a>05444     <span class="comment">/* on récupère tout de suite la position à laquelle il faut insérer la row */</span>
<a name="l05445"></a>05445 
<a name="l05446"></a>05446     <span class="keywordflow">if</span> ( last_amount_comparison_number )
<a name="l05447"></a>05447         position = g_slist_index ( <a class="code" href="gsb__data__report_8c.html#a67893d2be0b2f657aa1c41211820280b">gsb_data_report_get_amount_comparison_list</a> (current_report_number),
<a name="l05448"></a>05448                                    GINT_TO_POINTER (last_amount_comparison_number)) + 1;
<a name="l05449"></a>05449     <span class="keywordflow">else</span>
<a name="l05450"></a>05450         position = 0;
<a name="l05451"></a>05451 
<a name="l05452"></a>05452     <span class="comment">/* on commence par créer une structure vide */</span>
<a name="l05453"></a>05453 
<a name="l05454"></a>05454     amount_comparison_number = <a class="code" href="gsb__data__report__amout__comparison_8c.html#a68750f00e0800724678fadc6245433eb">gsb_data_report_amount_comparison_new</a> (0);
<a name="l05455"></a>05455     <a class="code" href="gsb__data__report__amout__comparison_8c.html#ab8582868812aa6de911a6c955057fbd2">gsb_data_report_amount_comparison_set_report_number</a> ( amount_comparison_number,
<a name="l05456"></a>05456                                                           current_report_number);
<a name="l05457"></a>05457 
<a name="l05458"></a>05458     <span class="comment">/* on crée la row et remplit les widget de la structure */</span>
<a name="l05459"></a>05459 
<a name="l05460"></a>05460     hbox = cree_ligne_comparaison_montant (amount_comparison_number);
<a name="l05461"></a>05461     <a class="code" href="gsb__data__report__amout__comparison_8c.html#aaf2442526ca1c7c9f8e21c098c26083e">gsb_data_report_amount_comparison_set_hbox_line</a> ( amount_comparison_number,
<a name="l05462"></a>05462                                                       hbox);
<a name="l05463"></a>05463     gtk_box_pack_start ( GTK_BOX ( liste_montants_etat ),
<a name="l05464"></a>05464                          hbox,
<a name="l05465"></a>05465                          FALSE,
<a name="l05466"></a>05466                          FALSE,
<a name="l05467"></a>05467                          0 );
<a name="l05468"></a>05468     gtk_widget_show ( hbox );
<a name="l05469"></a>05469 
<a name="l05470"></a>05470     <span class="comment">/* on vire le lien de la row s&#39;il n&#39;y a pas encore de liste */</span>
<a name="l05471"></a>05471     <span class="comment">/*   (cad si c&#39;est la 1ère row) */</span>
<a name="l05472"></a>05472 
<a name="l05473"></a>05473     <span class="keywordflow">if</span> ( !<a class="code" href="gsb__data__report_8c.html#a67893d2be0b2f657aa1c41211820280b">gsb_data_report_get_amount_comparison_list</a> (current_report_number))
<a name="l05474"></a>05474     {
<a name="l05475"></a>05475         gtk_widget_destroy (<a class="code" href="gsb__data__report__amout__comparison_8c.html#a3df5f1bbd7f70036d8c5614ae41e2bba">gsb_data_report_amount_comparison_get_button_link</a> (amount_comparison_number));
<a name="l05476"></a>05476         <a class="code" href="gsb__data__report__amout__comparison_8c.html#a7c3f11144facc579886947e46cce5e4f">gsb_data_report_amount_comparison_set_button_link</a> ( amount_comparison_number,
<a name="l05477"></a>05477                                                             NULL );
<a name="l05478"></a>05478     }
<a name="l05479"></a>05479 
<a name="l05480"></a>05480     <span class="comment">/*   par défaut, le bouton bouton_lien_1_2 est sur stop */</span>
<a name="l05481"></a>05481 
<a name="l05482"></a>05482     gtk_option_menu_set_history ( GTK_OPTION_MENU (<a class="code" href="gsb__data__report__amout__comparison_8c.html#a21371b634e4c92ceef60b4ff32d288c5">gsb_data_report_amount_comparison_get_button_link_first_to_second_part</a> (amount_comparison_number)),
<a name="l05483"></a>05483                                   3 );
<a name="l05484"></a>05484     <a class="code" href="gsb__data__report__amout__comparison_8c.html#ad8583bac5e54d94dc888e53fe8e66809">gsb_data_report_amount_comparison_set_link_first_to_second_part</a> ( amount_comparison_number,
<a name="l05485"></a>05485                                                                       3 );
<a name="l05486"></a>05486     gtk_widget_set_sensitive ( <a class="code" href="gsb__data__report__amout__comparison_8c.html#a820deaa79a40b8b64515c7fd8815c97e">gsb_data_report_amount_comparison_get_hbox_second_part</a> (amount_comparison_number),
<a name="l05487"></a>05487                                FALSE );
<a name="l05488"></a>05488 
<a name="l05489"></a>05489     <span class="comment">/* on met la structure dans la liste à la position demandée */</span>
<a name="l05490"></a>05490 
<a name="l05491"></a>05491     <a class="code" href="gsb__data__report_8c.html#a6eb5115463b2a01bb92cc146d8892ba8">gsb_data_report_set_amount_comparison_list</a> ( current_report_number,
<a name="l05492"></a>05492                                                  g_slist_insert ( <a class="code" href="gsb__data__report_8c.html#a67893d2be0b2f657aa1c41211820280b">gsb_data_report_get_amount_comparison_list</a> (current_report_number),
<a name="l05493"></a>05493                                                                   GINT_TO_POINTER (amount_comparison_number),
<a name="l05494"></a>05494                                                                   position ));
<a name="l05495"></a>05495 
<a name="l05496"></a>05496 
<a name="l05497"></a>05497     <span class="comment">/* on met la row à sa place dans la liste */</span>
<a name="l05498"></a>05498 
<a name="l05499"></a>05499     gtk_box_reorder_child ( GTK_BOX ( liste_montants_etat ),
<a name="l05500"></a>05500                             <a class="code" href="gsb__data__report__amout__comparison_8c.html#a16f1b40f708722b5b69378fe06846b06">gsb_data_report_amount_comparison_get_hbox_line</a> (amount_comparison_number),
<a name="l05501"></a>05501                             position );
<a name="l05502"></a>05502 }
<a name="l05503"></a>05503 <span class="comment">/******************************************************************************/</span>
<a name="l05504"></a>05504 
<a name="l05505"></a>05505 <span class="comment">/******************************************************************************/</span>
<a name="l05506"></a>05506 <span class="comment">/* crée la hbox de la row et la renvoie */</span>
<a name="l05507"></a>05507 <span class="comment">/* remplie en même temps les widget de la struct envoyée en argument, sauf hbox_ligne */</span>
<a name="l05508"></a>05508 <span class="comment">/******************************************************************************/</span>
<a name="l05509"></a>05509 GtkWidget *cree_ligne_comparaison_montant ( gint amount_comparison_number )
<a name="l05510"></a>05510 {
<a name="l05511"></a>05511     GtkWidget *hbox;
<a name="l05512"></a>05512     GtkWidget *label;
<a name="l05513"></a>05513     GtkWidget *bouton;
<a name="l05514"></a>05514     GtkWidget *widget;
<a name="l05515"></a>05515     GtkWidget *widget_1;
<a name="l05516"></a>05516 
<a name="l05517"></a>05517     <span class="comment">/*   on laisse les infos vides, on met juste les boutons et les labels */</span>
<a name="l05518"></a>05518 
<a name="l05519"></a>05519     hbox = gtk_hbox_new ( FALSE,
<a name="l05520"></a>05520                           5 );
<a name="l05521"></a>05521 
<a name="l05522"></a>05522     widget = cree_bouton_lien_lignes_comparaison ();
<a name="l05523"></a>05523     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l05524"></a>05524                          widget,
<a name="l05525"></a>05525                          FALSE,
<a name="l05526"></a>05526                          FALSE,
<a name="l05527"></a>05527                          0 );
<a name="l05528"></a>05528     <a class="code" href="gsb__data__report__amout__comparison_8c.html#a7c3f11144facc579886947e46cce5e4f">gsb_data_report_amount_comparison_set_button_link</a> ( amount_comparison_number,
<a name="l05529"></a>05529                                                         widget );
<a name="l05530"></a>05530 
<a name="l05531"></a>05531     label = gtk_label_new ( <a class="code" href="structures_8h.html#acec4595b4886c3686815d8cd5fb79a0f">POSTSPACIFY</a>(_(<span class="stringliteral">&quot;Transactions with an amount of&quot;</span>)));
<a name="l05532"></a>05532     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l05533"></a>05533                          label,
<a name="l05534"></a>05534                          FALSE,
<a name="l05535"></a>05535                          FALSE,
<a name="l05536"></a>05536                          0 );
<a name="l05537"></a>05537     gtk_widget_show ( label );
<a name="l05538"></a>05538 
<a name="l05539"></a>05539     widget = cree_bouton_comparateur_montant (amount_comparison_number);
<a name="l05540"></a>05540     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l05541"></a>05541                          widget,
<a name="l05542"></a>05542                          FALSE,
<a name="l05543"></a>05543                          FALSE,
<a name="l05544"></a>05544                          0 );
<a name="l05545"></a>05545     <a class="code" href="gsb__data__report__amout__comparison_8c.html#acdc5164fd42d9c11f1810e8d666362b7">gsb_data_report_amount_comparison_set_button_first_comparison</a> ( amount_comparison_number,
<a name="l05546"></a>05546                                                                     widget );
<a name="l05547"></a>05547 
<a name="l05548"></a>05548     label = gtk_label_new ( <a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;to&quot;</span>)));
<a name="l05549"></a>05549     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l05550"></a>05550                          label,
<a name="l05551"></a>05551                          FALSE,
<a name="l05552"></a>05552                          FALSE,
<a name="l05553"></a>05553                          0 );
<a name="l05554"></a>05554     gtk_widget_show ( label );
<a name="l05555"></a>05555 
<a name="l05556"></a>05556     widget = gtk_entry_new ();
<a name="l05557"></a>05557     gtk_widget_set_size_request ( widget,
<a name="l05558"></a>05558                            50,
<a name="l05559"></a>05559                            -1 );
<a name="l05560"></a>05560     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l05561"></a>05561                          widget,
<a name="l05562"></a>05562                          FALSE,
<a name="l05563"></a>05563                          FALSE,
<a name="l05564"></a>05564                          0 );
<a name="l05565"></a>05565     gtk_widget_show ( widget );
<a name="l05566"></a>05566     <a class="code" href="gsb__data__report__amout__comparison_8c.html#aa2ae38c4595b77ebea8e9f74cb618298">gsb_data_report_amount_comparison_set_entry_first_amount</a> ( amount_comparison_number,
<a name="l05567"></a>05567                                                                widget);
<a name="l05568"></a>05568 
<a name="l05569"></a>05569     <span class="comment">/* la fonction cree_bouton_lien va se servir de comp_montants -&gt; hbox_partie_2 */</span>
<a name="l05570"></a>05570     <span class="comment">/* il faut donc créer celle ci avant l&#39;appel de la fonction */</span>
<a name="l05571"></a>05571     <span class="comment">/* the hbox is created in widget_1 and is used later */</span>
<a name="l05572"></a>05572 
<a name="l05573"></a>05573     widget_1 = gtk_hbox_new ( FALSE,
<a name="l05574"></a>05574                               5 );
<a name="l05575"></a>05575 
<a name="l05576"></a>05576     <span class="comment">/* on crée alors le bouton de lien */</span>
<a name="l05577"></a>05577 
<a name="l05578"></a>05578     widget = cree_bouton_lien ( widget );
<a name="l05579"></a>05579     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l05580"></a>05580                          widget,
<a name="l05581"></a>05581                          FALSE,
<a name="l05582"></a>05582                          FALSE,
<a name="l05583"></a>05583                          0 );
<a name="l05584"></a>05584     <a class="code" href="gsb__data__report__amout__comparison_8c.html#a087486603c2aee80b31256fde7a544b1">gsb_data_report_amount_comparison_set_button_link_first_to_second_part</a> ( amount_comparison_number,
<a name="l05585"></a>05585                                                                              widget);
<a name="l05586"></a>05586 
<a name="l05587"></a>05587     <span class="comment">/* on ajoute la hbox2 */</span>
<a name="l05588"></a>05588 
<a name="l05589"></a>05589     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l05590"></a>05590                          widget_1,
<a name="l05591"></a>05591                          FALSE,
<a name="l05592"></a>05592                          FALSE,
<a name="l05593"></a>05593                          0 );
<a name="l05594"></a>05594     gtk_widget_show ( widget_1 );
<a name="l05595"></a>05595     <a class="code" href="gsb__data__report__amout__comparison_8c.html#a55b427927db85731f82e937cae02db10">gsb_data_report_amount_comparison_set_hbox_second_part</a> ( amount_comparison_number,
<a name="l05596"></a>05596                                                              widget_1);
<a name="l05597"></a>05597 
<a name="l05598"></a>05598     <span class="comment">/* on peut maintenant ajouter dans comp_montants -&gt; hbox_partie_2 */</span>
<a name="l05599"></a>05599 
<a name="l05600"></a>05600     widget = cree_bouton_comparateur_montant ( amount_comparison_number );
<a name="l05601"></a>05601     gtk_box_pack_start ( GTK_BOX ( widget_1 ),
<a name="l05602"></a>05602                          widget,
<a name="l05603"></a>05603                          FALSE,
<a name="l05604"></a>05604                          FALSE,
<a name="l05605"></a>05605                          0 );
<a name="l05606"></a>05606     <a class="code" href="gsb__data__report__amout__comparison_8c.html#a050001ae227cac61e5e2bdde14f9503d">gsb_data_report_amount_comparison_set_button_second_comparison</a> ( amount_comparison_number,
<a name="l05607"></a>05607                                                                      widget);
<a name="l05608"></a>05608 
<a name="l05609"></a>05609     label = gtk_label_new ( <a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;to&quot;</span>)));
<a name="l05610"></a>05610     gtk_box_pack_start ( GTK_BOX ( widget_1 ),
<a name="l05611"></a>05611                          label,
<a name="l05612"></a>05612                          FALSE,
<a name="l05613"></a>05613                          FALSE,
<a name="l05614"></a>05614                          0 );
<a name="l05615"></a>05615     gtk_widget_show ( label );
<a name="l05616"></a>05616 
<a name="l05617"></a>05617     widget = gtk_entry_new ();
<a name="l05618"></a>05618     gtk_widget_set_size_request ( widget,
<a name="l05619"></a>05619                            50,
<a name="l05620"></a>05620                            -1 );
<a name="l05621"></a>05621     gtk_box_pack_start ( GTK_BOX ( widget_1 ),
<a name="l05622"></a>05622                          widget,
<a name="l05623"></a>05623                          FALSE,
<a name="l05624"></a>05624                          FALSE,
<a name="l05625"></a>05625                          0 );
<a name="l05626"></a>05626     gtk_widget_show ( widget );
<a name="l05627"></a>05627     <a class="code" href="gsb__data__report__amout__comparison_8c.html#ac59db35863b6d673bd0f377f91c04edd">gsb_data_report_amount_comparison_set_entry_second_amount</a> ( amount_comparison_number,
<a name="l05628"></a>05628                                                                 widget);
<a name="l05629"></a>05629 
<a name="l05630"></a>05630     <span class="comment">/* on met les bouton ajouter et supprimer */</span>
<a name="l05631"></a>05631 
<a name="l05632"></a>05632     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Add&quot;</span>));
<a name="l05633"></a>05633     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l05634"></a>05634                             GTK_RELIEF_NONE );
<a name="l05635"></a>05635     g_signal_connect_swapped ( G_OBJECT (bouton),
<a name="l05636"></a>05636                                <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l05637"></a>05637                                G_CALLBACK (ajoute_ligne_liste_comparaisons_montants_etat),
<a name="l05638"></a>05638                                GINT_TO_POINTER (amount_comparison_number));
<a name="l05639"></a>05639     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l05640"></a>05640                          bouton,
<a name="l05641"></a>05641                          FALSE,
<a name="l05642"></a>05642                          FALSE,
<a name="l05643"></a>05643                          0 );
<a name="l05644"></a>05644     gtk_widget_show ( bouton );
<a name="l05645"></a>05645 
<a name="l05646"></a>05646     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Remove&quot;</span>));
<a name="l05647"></a>05647     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l05648"></a>05648                             GTK_RELIEF_NONE );
<a name="l05649"></a>05649     g_signal_connect_swapped ( G_OBJECT (bouton),
<a name="l05650"></a>05650                                <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l05651"></a>05651                                G_CALLBACK (retire_ligne_liste_comparaisons_montants_etat),
<a name="l05652"></a>05652                                GINT_TO_POINTER (amount_comparison_number));
<a name="l05653"></a>05653     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l05654"></a>05654                          bouton,
<a name="l05655"></a>05655                          FALSE,
<a name="l05656"></a>05656                          FALSE,
<a name="l05657"></a>05657                          0 );
<a name="l05658"></a>05658     gtk_widget_show ( bouton );
<a name="l05659"></a>05659 
<a name="l05660"></a>05660     <span class="keywordflow">return</span> ( hbox );
<a name="l05661"></a>05661 }
<a name="l05662"></a>05662 <span class="comment">/******************************************************************************/</span>
<a name="l05663"></a>05663 
<a name="l05664"></a>05664 <span class="comment">/******************************************************************************/</span>
<a name="l05665"></a>05665 <span class="comment">/* cette fonction crée un option_menu avec et/ou/sauf */</span>
<a name="l05666"></a>05666 <span class="comment">/******************************************************************************/</span>
<a name="l05667"></a>05667 GtkWidget *cree_bouton_lien_lignes_comparaison ( <span class="keywordtype">void</span> )
<a name="l05668"></a>05668 {
<a name="l05669"></a>05669     GtkWidget *bouton;
<a name="l05670"></a>05670     GtkWidget *menu;
<a name="l05671"></a>05671     GtkWidget *menu_item;
<a name="l05672"></a>05672 
<a name="l05673"></a>05673     bouton = gtk_option_menu_new ();
<a name="l05674"></a>05674     gtk_widget_show ( bouton );
<a name="l05675"></a>05675 
<a name="l05676"></a>05676     menu = gtk_menu_new ();
<a name="l05677"></a>05677 
<a name="l05678"></a>05678     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;and&quot;</span>));
<a name="l05679"></a>05679     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05680"></a>05680                       menu_item );
<a name="l05681"></a>05681     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05682"></a>05682                           <span class="stringliteral">&quot;no_lien&quot;</span>,
<a name="l05683"></a>05683                           GINT_TO_POINTER ( 0 ));
<a name="l05684"></a>05684     gtk_widget_show ( menu_item );
<a name="l05685"></a>05685 
<a name="l05686"></a>05686     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;or&quot;</span>));
<a name="l05687"></a>05687     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05688"></a>05688                       menu_item );
<a name="l05689"></a>05689     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05690"></a>05690                           <span class="stringliteral">&quot;no_lien&quot;</span>,
<a name="l05691"></a>05691                           GINT_TO_POINTER ( 1 ));
<a name="l05692"></a>05692     gtk_widget_show ( menu_item );
<a name="l05693"></a>05693 
<a name="l05694"></a>05694     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;except&quot;</span>));
<a name="l05695"></a>05695     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05696"></a>05696                       menu_item );
<a name="l05697"></a>05697     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05698"></a>05698                           <span class="stringliteral">&quot;no_lien&quot;</span>,
<a name="l05699"></a>05699                           GINT_TO_POINTER ( 2 ));
<a name="l05700"></a>05700     gtk_widget_show ( menu_item );
<a name="l05701"></a>05701 
<a name="l05702"></a>05702     gtk_option_menu_set_menu ( GTK_OPTION_MENU ( bouton ),
<a name="l05703"></a>05703                                menu );
<a name="l05704"></a>05704     gtk_widget_show ( menu );
<a name="l05705"></a>05705 
<a name="l05706"></a>05706     <span class="keywordflow">return</span> ( bouton );
<a name="l05707"></a>05707 }
<a name="l05708"></a>05708 <span class="comment">/******************************************************************************/</span>
<a name="l05709"></a>05709 
<a name="l05710"></a>05710 <span class="comment">/******************************************************************************/</span>
<a name="l05711"></a>05711 <span class="comment">/* cette fonction crée un option_menu avec =,&lt;,&lt;=,&gt;,&gt;=, nul, non nul, positif, nég */</span>
<a name="l05712"></a>05712 <span class="comment">/******************************************************************************/</span>
<a name="l05713"></a>05713 GtkWidget *cree_bouton_comparateur_montant ( gint amount_comparison_number )
<a name="l05714"></a>05714 {
<a name="l05715"></a>05715     GtkWidget *bouton;
<a name="l05716"></a>05716     GtkWidget *menu;
<a name="l05717"></a>05717     GtkWidget *menu_item;
<a name="l05718"></a>05718 
<a name="l05719"></a>05719     bouton = gtk_option_menu_new ();
<a name="l05720"></a>05720     gtk_widget_show ( bouton );
<a name="l05721"></a>05721 
<a name="l05722"></a>05722     menu = gtk_menu_new ();
<a name="l05723"></a>05723 
<a name="l05724"></a>05724     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;equal&quot;</span>));
<a name="l05725"></a>05725     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05726"></a>05726                       menu_item );
<a name="l05727"></a>05727     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05728"></a>05728                           <span class="stringliteral">&quot;no_comparateur&quot;</span>,
<a name="l05729"></a>05729                           GINT_TO_POINTER ( 0 ));
<a name="l05730"></a>05730     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05731"></a>05731                        <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05732"></a>05732                        G_CALLBACK ( change_comparaison_montant ),
<a name="l05733"></a>05733                        GINT_TO_POINTER (amount_comparison_number));
<a name="l05734"></a>05734     gtk_widget_show ( menu_item );
<a name="l05735"></a>05735 
<a name="l05736"></a>05736     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;less than&quot;</span>));
<a name="l05737"></a>05737     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05738"></a>05738                       menu_item );
<a name="l05739"></a>05739     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05740"></a>05740                           <span class="stringliteral">&quot;no_comparateur&quot;</span>,
<a name="l05741"></a>05741                           GINT_TO_POINTER ( 1 ));
<a name="l05742"></a>05742     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05743"></a>05743                        <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05744"></a>05744                        G_CALLBACK ( change_comparaison_montant ),
<a name="l05745"></a>05745                        GINT_TO_POINTER (amount_comparison_number));
<a name="l05746"></a>05746     gtk_widget_show ( menu_item );
<a name="l05747"></a>05747 
<a name="l05748"></a>05748     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;less than or equal&quot;</span>));
<a name="l05749"></a>05749     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05750"></a>05750                       menu_item );
<a name="l05751"></a>05751     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05752"></a>05752                           <span class="stringliteral">&quot;no_comparateur&quot;</span>,
<a name="l05753"></a>05753                           GINT_TO_POINTER ( 2 ));
<a name="l05754"></a>05754     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05755"></a>05755                        <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05756"></a>05756                        G_CALLBACK ( change_comparaison_montant ),
<a name="l05757"></a>05757                        GINT_TO_POINTER (amount_comparison_number));
<a name="l05758"></a>05758     gtk_widget_show ( menu_item );
<a name="l05759"></a>05759 
<a name="l05760"></a>05760     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;greater than&quot;</span>));
<a name="l05761"></a>05761     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05762"></a>05762                       menu_item );
<a name="l05763"></a>05763     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05764"></a>05764                           <span class="stringliteral">&quot;no_comparateur&quot;</span>,
<a name="l05765"></a>05765                           GINT_TO_POINTER ( 3 ));
<a name="l05766"></a>05766     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05767"></a>05767                        <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05768"></a>05768                        G_CALLBACK ( change_comparaison_montant ),
<a name="l05769"></a>05769                        GINT_TO_POINTER (amount_comparison_number));
<a name="l05770"></a>05770     gtk_widget_show ( menu_item );
<a name="l05771"></a>05771 
<a name="l05772"></a>05772     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;greater than or equal&quot;</span>));
<a name="l05773"></a>05773     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05774"></a>05774                       menu_item );
<a name="l05775"></a>05775     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05776"></a>05776                           <span class="stringliteral">&quot;no_comparateur&quot;</span>,
<a name="l05777"></a>05777                           GINT_TO_POINTER ( 4 ));
<a name="l05778"></a>05778     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05779"></a>05779                        <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05780"></a>05780                        G_CALLBACK ( change_comparaison_montant ),
<a name="l05781"></a>05781                        GINT_TO_POINTER (amount_comparison_number));
<a name="l05782"></a>05782     gtk_widget_show ( menu_item );
<a name="l05783"></a>05783 
<a name="l05784"></a>05784     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;different from&quot;</span>));
<a name="l05785"></a>05785     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05786"></a>05786                       menu_item );
<a name="l05787"></a>05787     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05788"></a>05788                           <span class="stringliteral">&quot;no_comparateur&quot;</span>,
<a name="l05789"></a>05789                           GINT_TO_POINTER ( 5 ));
<a name="l05790"></a>05790     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05791"></a>05791                        <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05792"></a>05792                        G_CALLBACK ( change_comparaison_montant ),
<a name="l05793"></a>05793                        GINT_TO_POINTER (amount_comparison_number));
<a name="l05794"></a>05794     gtk_widget_show ( menu_item );
<a name="l05795"></a>05795 
<a name="l05796"></a>05796     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;null&quot;</span>));
<a name="l05797"></a>05797     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05798"></a>05798                       menu_item );
<a name="l05799"></a>05799     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05800"></a>05800                           <span class="stringliteral">&quot;no_comparateur&quot;</span>,
<a name="l05801"></a>05801                           GINT_TO_POINTER ( 6 ));
<a name="l05802"></a>05802     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05803"></a>05803                        <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05804"></a>05804                        G_CALLBACK ( change_comparaison_montant ),
<a name="l05805"></a>05805                        GINT_TO_POINTER (amount_comparison_number));
<a name="l05806"></a>05806     gtk_widget_show ( menu_item );
<a name="l05807"></a>05807 
<a name="l05808"></a>05808     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;not null&quot;</span>));
<a name="l05809"></a>05809     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05810"></a>05810                       menu_item );
<a name="l05811"></a>05811     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05812"></a>05812                           <span class="stringliteral">&quot;no_comparateur&quot;</span>,
<a name="l05813"></a>05813                           GINT_TO_POINTER ( 7 ));
<a name="l05814"></a>05814     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05815"></a>05815                        <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05816"></a>05816                        G_CALLBACK ( change_comparaison_montant ),
<a name="l05817"></a>05817                        GINT_TO_POINTER (amount_comparison_number));
<a name="l05818"></a>05818     gtk_widget_show ( menu_item );
<a name="l05819"></a>05819 
<a name="l05820"></a>05820     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;positive&quot;</span>));
<a name="l05821"></a>05821     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05822"></a>05822                       menu_item );
<a name="l05823"></a>05823     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05824"></a>05824                           <span class="stringliteral">&quot;no_comparateur&quot;</span>,
<a name="l05825"></a>05825                           GINT_TO_POINTER ( 8 ));
<a name="l05826"></a>05826     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05827"></a>05827                        <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05828"></a>05828                        G_CALLBACK ( change_comparaison_montant ),
<a name="l05829"></a>05829                        GINT_TO_POINTER (amount_comparison_number));
<a name="l05830"></a>05830     gtk_widget_show ( menu_item );
<a name="l05831"></a>05831 
<a name="l05832"></a>05832     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;negative&quot;</span>));
<a name="l05833"></a>05833     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05834"></a>05834                       menu_item );
<a name="l05835"></a>05835     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05836"></a>05836                           <span class="stringliteral">&quot;no_comparateur&quot;</span>,
<a name="l05837"></a>05837                           GINT_TO_POINTER ( 9 ));
<a name="l05838"></a>05838     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05839"></a>05839                        <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05840"></a>05840                        G_CALLBACK ( change_comparaison_montant ),
<a name="l05841"></a>05841                        GINT_TO_POINTER (amount_comparison_number));
<a name="l05842"></a>05842     gtk_widget_show ( menu_item );
<a name="l05843"></a>05843 
<a name="l05844"></a>05844     gtk_option_menu_set_menu ( GTK_OPTION_MENU ( bouton ),
<a name="l05845"></a>05845                                menu );
<a name="l05846"></a>05846     gtk_widget_show ( menu );
<a name="l05847"></a>05847 
<a name="l05848"></a>05848     <span class="keywordflow">return</span> ( bouton );
<a name="l05849"></a>05849 }
<a name="l05850"></a>05850 <span class="comment">/******************************************************************************/</span>
<a name="l05851"></a>05851 
<a name="l05852"></a>05852 <span class="comment">/******************************************************************************/</span>
<a name="l05853"></a>05853 <span class="comment">/* cette fonction rend sensitive ou non l&#39;entrée après le label après l&#39;option menu du menu_item en argument */</span>
<a name="l05854"></a>05854 <span class="comment">/* donc si on choisit nul, non nul, pos ou nég, on grise l&#39;entrée */</span>
<a name="l05855"></a>05855 <span class="comment">/******************************************************************************/</span>
<a name="l05856"></a>05856 <span class="keywordtype">void</span> change_comparaison_montant ( GtkWidget *menu_item,
<a name="l05857"></a>05857                                   gint amount_comparison_number )
<a name="l05858"></a>05858 {
<a name="l05859"></a>05859     gint sensitif;
<a name="l05860"></a>05860 
<a name="l05861"></a>05861     <span class="keywordflow">switch</span> ( GPOINTER_TO_INT ( g_object_get_data ( G_OBJECT ( menu_item ),
<a name="l05862"></a>05862                                                      <span class="stringliteral">&quot;no_comparateur&quot;</span> )))
<a name="l05863"></a>05863     {
<a name="l05864"></a>05864         <span class="keywordflow">case</span> 6:
<a name="l05865"></a>05865         <span class="keywordflow">case</span> 7:
<a name="l05866"></a>05866         <span class="keywordflow">case</span> 8:
<a name="l05867"></a>05867         <span class="keywordflow">case</span> 9:
<a name="l05868"></a>05868 
<a name="l05869"></a>05869             sensitif = 0;
<a name="l05870"></a>05870             <span class="keywordflow">break</span>;
<a name="l05871"></a>05871 
<a name="l05872"></a>05872         <span class="keywordflow">default</span>:
<a name="l05873"></a>05873 
<a name="l05874"></a>05874             sensitif = 1;
<a name="l05875"></a>05875     }
<a name="l05876"></a>05876 
<a name="l05877"></a>05877     <span class="keywordflow">if</span> ( gtk_menu_get_attach_widget ( GTK_MENU ( menu_item -&gt; parent ))
<a name="l05878"></a>05878          ==
<a name="l05879"></a>05879          <a class="code" href="gsb__data__report__amout__comparison_8c.html#a1d62e1b412dd1dc32d328883eeedfb97">gsb_data_report_amount_comparison_get_button_first_comparison</a> (amount_comparison_number))
<a name="l05880"></a>05880         gtk_widget_set_sensitive ( <a class="code" href="gsb__data__report__amout__comparison_8c.html#ad1e7549b875594564bb074c9bae69bbf">gsb_data_report_amount_comparison_get_entry_first_amount</a> (amount_comparison_number),
<a name="l05881"></a>05881                                    sensitif );
<a name="l05882"></a>05882     <span class="keywordflow">else</span>
<a name="l05883"></a>05883         gtk_widget_set_sensitive ( <a class="code" href="gsb__data__report__amout__comparison_8c.html#a38d12eff5d62a0cc0befb2655d46c96d">gsb_data_report_amount_comparison_get_entry_second_amount</a> (amount_comparison_number),
<a name="l05884"></a>05884                                    sensitif );
<a name="l05885"></a>05885 }
<a name="l05886"></a>05886 <span class="comment">/******************************************************************************/</span>
<a name="l05887"></a>05887 
<a name="l05888"></a>05888 <span class="comment">/******************************************************************************/</span>
<a name="l05889"></a>05889 <span class="comment">/* cette fonction crée un option_menu avec =,&lt;,&lt;=,&gt;,&gt;= */</span>
<a name="l05890"></a>05890 <span class="comment">/******************************************************************************/</span>
<a name="l05891"></a>05891 GtkWidget *cree_bouton_comparateur_texte ( gint text_comparison_number )
<a name="l05892"></a>05892 {
<a name="l05893"></a>05893     GtkWidget *bouton;
<a name="l05894"></a>05894     GtkWidget *menu;
<a name="l05895"></a>05895     GtkWidget *menu_item;
<a name="l05896"></a>05896 
<a name="l05897"></a>05897     bouton = gtk_option_menu_new ();
<a name="l05898"></a>05898     gtk_widget_show ( bouton );
<a name="l05899"></a>05899 
<a name="l05900"></a>05900     menu = gtk_menu_new ();
<a name="l05901"></a>05901 
<a name="l05902"></a>05902     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;equal&quot;</span>));
<a name="l05903"></a>05903     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05904"></a>05904                       menu_item );
<a name="l05905"></a>05905     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05906"></a>05906                           <span class="stringliteral">&quot;no_comparateur&quot;</span>,
<a name="l05907"></a>05907                           GINT_TO_POINTER ( 0 ));
<a name="l05908"></a>05908     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05909"></a>05909                        <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05910"></a>05910                        G_CALLBACK ( change_comparaison_texte ),
<a name="l05911"></a>05911                        GINT_TO_POINTER (text_comparison_number));
<a name="l05912"></a>05912     gtk_widget_show ( menu_item );
<a name="l05913"></a>05913 
<a name="l05914"></a>05914     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;less than&quot;</span>));
<a name="l05915"></a>05915     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05916"></a>05916                       menu_item );
<a name="l05917"></a>05917     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05918"></a>05918                           <span class="stringliteral">&quot;no_comparateur&quot;</span>,
<a name="l05919"></a>05919                           GINT_TO_POINTER ( 1 ));
<a name="l05920"></a>05920     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05921"></a>05921                        <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05922"></a>05922                        G_CALLBACK ( change_comparaison_texte ),
<a name="l05923"></a>05923                        GINT_TO_POINTER (text_comparison_number));
<a name="l05924"></a>05924     gtk_widget_show ( menu_item );
<a name="l05925"></a>05925 
<a name="l05926"></a>05926     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;less than or equal&quot;</span>));
<a name="l05927"></a>05927     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05928"></a>05928                       menu_item );
<a name="l05929"></a>05929     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05930"></a>05930                           <span class="stringliteral">&quot;no_comparateur&quot;</span>,
<a name="l05931"></a>05931                           GINT_TO_POINTER ( 2 ));
<a name="l05932"></a>05932     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05933"></a>05933                        <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05934"></a>05934                        G_CALLBACK ( change_comparaison_texte ),
<a name="l05935"></a>05935                        GINT_TO_POINTER (text_comparison_number));
<a name="l05936"></a>05936     gtk_widget_show ( menu_item );
<a name="l05937"></a>05937 
<a name="l05938"></a>05938     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;greater than&quot;</span>));
<a name="l05939"></a>05939     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05940"></a>05940                       menu_item );
<a name="l05941"></a>05941     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05942"></a>05942                           <span class="stringliteral">&quot;no_comparateur&quot;</span>,
<a name="l05943"></a>05943                           GINT_TO_POINTER ( 3 ));
<a name="l05944"></a>05944     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05945"></a>05945                        <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05946"></a>05946                        G_CALLBACK ( change_comparaison_texte ),
<a name="l05947"></a>05947                        GINT_TO_POINTER (text_comparison_number));
<a name="l05948"></a>05948     gtk_widget_show ( menu_item );
<a name="l05949"></a>05949 
<a name="l05950"></a>05950     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;greater than or equal&quot;</span>));
<a name="l05951"></a>05951     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05952"></a>05952                       menu_item );
<a name="l05953"></a>05953     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05954"></a>05954                           <span class="stringliteral">&quot;no_comparateur&quot;</span>,
<a name="l05955"></a>05955                           GINT_TO_POINTER ( 4 ));
<a name="l05956"></a>05956     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05957"></a>05957                        <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05958"></a>05958                        G_CALLBACK ( change_comparaison_texte ),
<a name="l05959"></a>05959                        GINT_TO_POINTER (text_comparison_number));
<a name="l05960"></a>05960     gtk_widget_show ( menu_item );
<a name="l05961"></a>05961 
<a name="l05962"></a>05962     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;different from&quot;</span>));
<a name="l05963"></a>05963     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05964"></a>05964                       menu_item );
<a name="l05965"></a>05965     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05966"></a>05966                           <span class="stringliteral">&quot;no_comparateur&quot;</span>,
<a name="l05967"></a>05967                           GINT_TO_POINTER ( 5 ));
<a name="l05968"></a>05968     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05969"></a>05969                        <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05970"></a>05970                        G_CALLBACK ( change_comparaison_texte ),
<a name="l05971"></a>05971                        GINT_TO_POINTER (text_comparison_number));
<a name="l05972"></a>05972     gtk_widget_show ( menu_item );
<a name="l05973"></a>05973 
<a name="l05974"></a>05974     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;the biggest&quot;</span>));
<a name="l05975"></a>05975     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l05976"></a>05976                       menu_item );
<a name="l05977"></a>05977     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l05978"></a>05978                           <span class="stringliteral">&quot;no_comparateur&quot;</span>,
<a name="l05979"></a>05979                           GINT_TO_POINTER ( 6 ));
<a name="l05980"></a>05980     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l05981"></a>05981                        <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l05982"></a>05982                        G_CALLBACK ( change_comparaison_texte ),
<a name="l05983"></a>05983                        GINT_TO_POINTER (text_comparison_number));
<a name="l05984"></a>05984     gtk_widget_show ( menu_item );
<a name="l05985"></a>05985 
<a name="l05986"></a>05986 
<a name="l05987"></a>05987     gtk_option_menu_set_menu ( GTK_OPTION_MENU ( bouton ),
<a name="l05988"></a>05988                                menu );
<a name="l05989"></a>05989     gtk_widget_show ( menu );
<a name="l05990"></a>05990 
<a name="l05991"></a>05991     <span class="keywordflow">return</span> ( bouton );
<a name="l05992"></a>05992 }
<a name="l05993"></a>05993 <span class="comment">/******************************************************************************/</span>
<a name="l05994"></a>05994 
<a name="l05995"></a>05995 <span class="comment">/******************************************************************************/</span>
<a name="l05996"></a>05996 <span class="comment">/* cette fonction rend sensitive ou non l&#39;entrée après le label après l&#39;option menu du menu_item en argument */</span>
<a name="l05997"></a>05997 <span class="comment">/* donc si on choisit nul, non nul, pos ou nég, on grise l&#39;entrée */</span>
<a name="l05998"></a>05998 <span class="comment">/******************************************************************************/</span>
<a name="l05999"></a>05999 <span class="keywordtype">void</span> change_comparaison_texte ( GtkWidget *menu_item,
<a name="l06000"></a>06000                                 gint text_comparison_number )
<a name="l06001"></a>06001 {
<a name="l06002"></a>06002     gint sensitif;
<a name="l06003"></a>06003 
<a name="l06004"></a>06004     <span class="keywordflow">if</span> ( GPOINTER_TO_INT ( g_object_get_data ( G_OBJECT ( menu_item ),
<a name="l06005"></a>06005                                                  <span class="stringliteral">&quot;no_comparateur&quot;</span> )) == 6 )
<a name="l06006"></a>06006         sensitif = 0;
<a name="l06007"></a>06007     <span class="keywordflow">else</span>
<a name="l06008"></a>06008         sensitif = 1;
<a name="l06009"></a>06009 
<a name="l06010"></a>06010 
<a name="l06011"></a>06011     <span class="keywordflow">if</span> ( gtk_menu_get_attach_widget ( GTK_MENU ( menu_item -&gt; parent )) ==  <a class="code" href="gsb__data__report__text__comparison_8c.html#aa1d41141505ae5ec058940503c77502c">gsb_data_report_text_comparison_get_button_first_comparison</a> (text_comparison_number))
<a name="l06012"></a>06012         gtk_widget_set_sensitive ( <a class="code" href="gsb__data__report__text__comparison_8c.html#a40e301a26e8349feb8b4b6f7b72ee87f">gsb_data_report_text_comparison_get_entry_first_amount</a> (text_comparison_number),
<a name="l06013"></a>06013                                    sensitif );
<a name="l06014"></a>06014     <span class="keywordflow">else</span>
<a name="l06015"></a>06015         gtk_widget_set_sensitive ( <a class="code" href="gsb__data__report__text__comparison_8c.html#a171d77b0c4ab46cd9a2468dc815da11a">gsb_data_report_text_comparison_get_entry_second_amount</a> (text_comparison_number),
<a name="l06016"></a>06016                                    sensitif );
<a name="l06017"></a>06017 }
<a name="l06018"></a>06018 <span class="comment">/******************************************************************************/</span>
<a name="l06019"></a>06019 
<a name="l06020"></a>06020 <span class="comment">/******************************************************************************/</span>
<a name="l06021"></a>06021 <span class="comment">/* cette fonction crée un option_menu avec et/ou/aucun */</span>
<a name="l06022"></a>06022 <span class="comment">/******************************************************************************/</span>
<a name="l06023"></a>06023 
<a name="l06024"></a>06024 GtkWidget *cree_bouton_lien ( GtkWidget *hbox )
<a name="l06025"></a>06025 {
<a name="l06026"></a>06026     GtkWidget *bouton;
<a name="l06027"></a>06027     GtkWidget *menu;
<a name="l06028"></a>06028     GtkWidget *menu_item;
<a name="l06029"></a>06029 
<a name="l06030"></a>06030     bouton = gtk_option_menu_new ();
<a name="l06031"></a>06031     gtk_widget_show ( bouton );
<a name="l06032"></a>06032 
<a name="l06033"></a>06033     menu = gtk_menu_new ();
<a name="l06034"></a>06034 
<a name="l06035"></a>06035     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;and&quot;</span>));
<a name="l06036"></a>06036     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l06037"></a>06037                       menu_item );
<a name="l06038"></a>06038     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l06039"></a>06039                           <span class="stringliteral">&quot;no_lien&quot;</span>,
<a name="l06040"></a>06040                           GINT_TO_POINTER ( 0 ));
<a name="l06041"></a>06041     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l06042"></a>06042                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l06043"></a>06043                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l06044"></a>06044                          G_OBJECT ( hbox ));
<a name="l06045"></a>06045     gtk_widget_show ( menu_item );
<a name="l06046"></a>06046 
<a name="l06047"></a>06047     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;or&quot;</span>));
<a name="l06048"></a>06048     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l06049"></a>06049                       menu_item );
<a name="l06050"></a>06050     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l06051"></a>06051                           <span class="stringliteral">&quot;no_lien&quot;</span>,
<a name="l06052"></a>06052                           GINT_TO_POINTER ( 1 ));
<a name="l06053"></a>06053     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l06054"></a>06054                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l06055"></a>06055                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l06056"></a>06056                          G_OBJECT ( hbox ));
<a name="l06057"></a>06057     gtk_widget_show ( menu_item );
<a name="l06058"></a>06058 
<a name="l06059"></a>06059     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;except&quot;</span>));
<a name="l06060"></a>06060     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l06061"></a>06061                       menu_item );
<a name="l06062"></a>06062     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l06063"></a>06063                           <span class="stringliteral">&quot;no_lien&quot;</span>,
<a name="l06064"></a>06064                           GINT_TO_POINTER ( 2 ));
<a name="l06065"></a>06065     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l06066"></a>06066                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l06067"></a>06067                          G_CALLBACK ( <a class="code" href="utils_8c.html#a1902d3a5ef1f0899109cd68bf014c7b6">sensitive_widget</a> ),
<a name="l06068"></a>06068                          G_OBJECT ( hbox ));
<a name="l06069"></a>06069     gtk_widget_show ( menu_item );
<a name="l06070"></a>06070 
<a name="l06071"></a>06071     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;stop&quot;</span>));
<a name="l06072"></a>06072     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l06073"></a>06073                       menu_item );
<a name="l06074"></a>06074     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l06075"></a>06075                           <span class="stringliteral">&quot;no_lien&quot;</span>,
<a name="l06076"></a>06076                           GINT_TO_POINTER ( 3 ));
<a name="l06077"></a>06077     g_signal_connect ( G_OBJECT ( menu_item ),
<a name="l06078"></a>06078                          <span class="stringliteral">&quot;activate&quot;</span>,
<a name="l06079"></a>06079                          G_CALLBACK ( <a class="code" href="utils_8c.html#a2c94bcb7fbf8bc4dc28ae7ab24425a62">desensitive_widget</a> ),
<a name="l06080"></a>06080                          G_OBJECT ( hbox ));
<a name="l06081"></a>06081     gtk_widget_show ( menu_item );
<a name="l06082"></a>06082 
<a name="l06083"></a>06083     gtk_option_menu_set_menu ( GTK_OPTION_MENU ( bouton ),
<a name="l06084"></a>06084                                menu );
<a name="l06085"></a>06085     gtk_widget_show ( menu );
<a name="l06086"></a>06086 
<a name="l06087"></a>06087     gtk_option_menu_set_history ( GTK_OPTION_MENU ( bouton ),
<a name="l06088"></a>06088                                   3 );
<a name="l06089"></a>06089     <span class="keywordflow">return</span> ( bouton );
<a name="l06090"></a>06090 }
<a name="l06091"></a>06091 <span class="comment">/******************************************************************************/</span>
<a name="l06092"></a>06092 
<a name="l06093"></a>06093 
<a name="l06094"></a>06094 
<a name="l06095"></a>06095 <span class="comment">/******************************************************************************/</span>
<a name="l06096"></a>06096 <span class="keywordtype">void</span> retire_ligne_liste_comparaisons_montants_etat ( gint last_amount_comparison_number )
<a name="l06097"></a>06097 {
<a name="l06098"></a>06098      gint current_report_number;
<a name="l06099"></a>06099 
<a name="l06100"></a>06100     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l06101"></a>06101 
<a name="l06102"></a>06102     <span class="comment">/* il faut qu&#39;il y ai plus d&#39;une row affichée */</span>
<a name="l06103"></a>06103 
<a name="l06104"></a>06104     <span class="keywordflow">if</span> ( g_slist_length ( <a class="code" href="gsb__data__report_8c.html#a67893d2be0b2f657aa1c41211820280b">gsb_data_report_get_amount_comparison_list</a> (current_report_number)) &lt; 2 )
<a name="l06105"></a>06105         <span class="keywordflow">return</span>;
<a name="l06106"></a>06106 
<a name="l06107"></a>06107     <span class="comment">/* on commence par supprimer la row dans la liste */</span>
<a name="l06108"></a>06108 
<a name="l06109"></a>06109     gtk_widget_destroy ( <a class="code" href="gsb__data__report__amout__comparison_8c.html#a16f1b40f708722b5b69378fe06846b06">gsb_data_report_amount_comparison_get_hbox_line</a> (last_amount_comparison_number));
<a name="l06110"></a>06110 
<a name="l06111"></a>06111     <span class="comment">/* si la structure qu&#39;on retire est la 1ère, on vire le widget de lient */</span>
<a name="l06112"></a>06112 
<a name="l06113"></a>06113     <span class="keywordflow">if</span> ( !g_slist_index ( <a class="code" href="gsb__data__report_8c.html#a67893d2be0b2f657aa1c41211820280b">gsb_data_report_get_amount_comparison_list</a> (current_report_number),
<a name="l06114"></a>06114                           GINT_TO_POINTER (last_amount_comparison_number)))
<a name="l06115"></a>06115     {
<a name="l06116"></a>06116         gint amount_comparison_number;
<a name="l06117"></a>06117 
<a name="l06118"></a>06118         amount_comparison_number = GPOINTER_TO_INT (<a class="code" href="gsb__data__report_8c.html#a67893d2be0b2f657aa1c41211820280b">gsb_data_report_get_amount_comparison_list</a> (current_report_number)-&gt; next -&gt; data);
<a name="l06119"></a>06119         gtk_widget_destroy ( <a class="code" href="gsb__data__report__amout__comparison_8c.html#a3df5f1bbd7f70036d8c5614ae41e2bba">gsb_data_report_amount_comparison_get_button_link</a> (amount_comparison_number));
<a name="l06120"></a>06120         <a class="code" href="gsb__data__report__amout__comparison_8c.html#a7c3f11144facc579886947e46cce5e4f">gsb_data_report_amount_comparison_set_button_link</a> ( amount_comparison_number,
<a name="l06121"></a>06121                                                             NULL );
<a name="l06122"></a>06122     }
<a name="l06123"></a>06123 
<a name="l06124"></a>06124     <span class="comment">/* et on retire la struct de la sliste */</span>
<a name="l06125"></a>06125 
<a name="l06126"></a>06126     <a class="code" href="gsb__data__report_8c.html#a6eb5115463b2a01bb92cc146d8892ba8">gsb_data_report_set_amount_comparison_list</a> ( current_report_number,
<a name="l06127"></a>06127                                                  g_slist_remove ( <a class="code" href="gsb__data__report_8c.html#a67893d2be0b2f657aa1c41211820280b">gsb_data_report_get_amount_comparison_list</a> (current_report_number),
<a name="l06128"></a>06128                                                                   GINT_TO_POINTER (last_amount_comparison_number)));
<a name="l06129"></a>06129 }
<a name="l06130"></a>06130 <span class="comment">/******************************************************************************/</span>
<a name="l06131"></a>06131 
<a name="l06132"></a>06132 <span class="comment">/******************************************************************************/</span>
<a name="l06133"></a>06133 GtkWidget *onglet_etat_divers ( <span class="keywordtype">void</span> )
<a name="l06134"></a>06134 {
<a name="l06135"></a>06135     GtkWidget *vbox_onglet;
<a name="l06136"></a>06136     GtkWidget *frame;
<a name="l06137"></a>06137 
<a name="l06138"></a>06138     vbox_onglet = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Miscellaneous&quot;</span>), <span class="stringliteral">&quot;generalities.png&quot;</span> );
<a name="l06139"></a>06139     gtk_widget_show ( vbox_onglet );
<a name="l06140"></a>06140 
<a name="l06141"></a>06141 
<a name="l06142"></a>06142 
<a name="l06143"></a>06143     <span class="comment">/* on peut sélectionner les opé R ou non R */</span>
<a name="l06144"></a>06144     frame = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_onglet, FALSE, _(<span class="stringliteral">&quot;Reconciled transactions&quot;</span>) );
<a name="l06145"></a>06145 
<a name="l06146"></a>06146     bouton_opes_r_et_non_r_etat = gtk_radio_button_new_with_label ( NULL,
<a name="l06147"></a>06147                                                                     _(<span class="stringliteral">&quot;Select all transactions&quot;</span>) );
<a name="l06148"></a>06148     gtk_box_pack_start ( GTK_BOX ( frame ),
<a name="l06149"></a>06149                          bouton_opes_r_et_non_r_etat,
<a name="l06150"></a>06150                          FALSE,
<a name="l06151"></a>06151                          FALSE,
<a name="l06152"></a>06152                          0 );
<a name="l06153"></a>06153     gtk_widget_show ( bouton_opes_r_et_non_r_etat );
<a name="l06154"></a>06154 
<a name="l06155"></a>06155     bouton_opes_non_r_etat = gtk_radio_button_new_with_label ( gtk_radio_button_get_group ( GTK_RADIO_BUTTON ( bouton_opes_r_et_non_r_etat )),
<a name="l06156"></a>06156                                                                _(<span class="stringliteral">&quot;Select unreconciled transactions&quot;</span>) );
<a name="l06157"></a>06157     g_signal_connect_swapped ( G_OBJECT ( bouton_opes_non_r_etat ),
<a name="l06158"></a>06158                                 <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l06159"></a>06159                                 G_CALLBACK ( report_tree_update_style ),
<a name="l06160"></a>06160                                 GINT_TO_POINTER ( 9 ));
<a name="l06161"></a>06161     gtk_box_pack_start ( GTK_BOX ( frame ),
<a name="l06162"></a>06162                          bouton_opes_non_r_etat,
<a name="l06163"></a>06163                          FALSE,
<a name="l06164"></a>06164                          FALSE,
<a name="l06165"></a>06165                          0 );
<a name="l06166"></a>06166     gtk_widget_show ( bouton_opes_non_r_etat );
<a name="l06167"></a>06167 
<a name="l06168"></a>06168     bouton_opes_r_etat = gtk_radio_button_new_with_label ( gtk_radio_button_get_group ( GTK_RADIO_BUTTON ( bouton_opes_r_et_non_r_etat )),
<a name="l06169"></a>06169                                                            _(<span class="stringliteral">&quot;Select reconciled transactions&quot;</span>) );
<a name="l06170"></a>06170     g_signal_connect_swapped ( G_OBJECT ( bouton_opes_r_etat ),
<a name="l06171"></a>06171                                 <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l06172"></a>06172                                 G_CALLBACK ( report_tree_update_style ),
<a name="l06173"></a>06173                                 GINT_TO_POINTER ( 9 ));
<a name="l06174"></a>06174     gtk_box_pack_start ( GTK_BOX ( frame ),
<a name="l06175"></a>06175                          bouton_opes_r_etat,
<a name="l06176"></a>06176                          FALSE,
<a name="l06177"></a>06177                          FALSE,
<a name="l06178"></a>06178                          0 );
<a name="l06179"></a>06179     gtk_widget_show ( bouton_opes_r_etat );
<a name="l06180"></a>06180 
<a name="l06181"></a>06181     frame = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_onglet, FALSE, _(<span class="stringliteral">&quot;Split of transactions detail&quot;</span>) );
<a name="l06182"></a>06182 
<a name="l06183"></a>06183     bouton_pas_detailler_ventilation = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Do not detail split of transactions&quot;</span>) );
<a name="l06184"></a>06184     g_signal_connect_swapped ( G_OBJECT ( bouton_pas_detailler_ventilation ),
<a name="l06185"></a>06185                                 <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l06186"></a>06186                                 G_CALLBACK ( report_tree_update_style ),
<a name="l06187"></a>06187                                 GINT_TO_POINTER ( 9 ));
<a name="l06188"></a>06188     gtk_box_pack_start ( GTK_BOX ( frame ),
<a name="l06189"></a>06189                          bouton_pas_detailler_ventilation,
<a name="l06190"></a>06190                          FALSE,
<a name="l06191"></a>06191                          FALSE,
<a name="l06192"></a>06192                          0 );
<a name="l06193"></a>06193     gtk_widget_show ( bouton_pas_detailler_ventilation );
<a name="l06194"></a>06194 
<a name="l06195"></a>06195     <span class="keywordflow">return</span> ( vbox_onglet );
<a name="l06196"></a>06196 }
<a name="l06197"></a>06197 <span class="comment">/******************************************************************************/</span>
<a name="l06198"></a>06198 
<a name="l06199"></a>06199 <span class="comment">/******************************************************************************/</span>
<a name="l06200"></a>06200 GtkWidget *page_data_grouping ( <span class="keywordtype">void</span> )
<a name="l06201"></a>06201 {
<a name="l06202"></a>06202     GtkWidget *hbox;
<a name="l06203"></a>06203     GtkWidget *scrolled_window;
<a name="l06204"></a>06204     GtkWidget *vbox;
<a name="l06205"></a>06205     GtkWidget *fleche;
<a name="l06206"></a>06206     GtkWidget *vbox_onglet;
<a name="l06207"></a>06207     GtkWidget * paddingbox;
<a name="l06208"></a>06208 
<a name="l06209"></a>06209     vbox_onglet = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Data grouping&quot;</span>), <span class="stringliteral">&quot;organization.png&quot;</span> );
<a name="l06210"></a>06210     gtk_widget_show ( vbox_onglet );
<a name="l06211"></a>06211 
<a name="l06212"></a>06212     <span class="comment">/* choix de ce qu&#39;on utilise dans le classement */</span>
<a name="l06213"></a>06213 
<a name="l06214"></a>06214     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_onglet, FALSE, _(<span class="stringliteral">&quot;Group transactions&quot;</span>) );
<a name="l06215"></a>06215 
<a name="l06216"></a>06216     bouton_regroupe_ope_compte_etat = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Group transactions by account&quot;</span>) );
<a name="l06217"></a>06217     gtk_box_pack_start ( GTK_BOX ( paddingbox ), bouton_regroupe_ope_compte_etat, FALSE, FALSE, 0 );
<a name="l06218"></a>06218 
<a name="l06219"></a>06219     bouton_utilise_tiers_etat = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Group transactions by payee&quot;</span>) );
<a name="l06220"></a>06220     gtk_box_pack_start ( GTK_BOX ( paddingbox ), bouton_utilise_tiers_etat, FALSE, FALSE, 0 );
<a name="l06221"></a>06221 
<a name="l06222"></a>06222     button_group_by_categ = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Group transactions by category&quot;</span>) );
<a name="l06223"></a>06223     gtk_box_pack_start ( GTK_BOX ( paddingbox ), button_group_by_categ, FALSE, FALSE, 0 );
<a name="l06224"></a>06224 
<a name="l06225"></a>06225     bouton_utilise_ib_etat = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Group transactions by budgetary line&quot;</span>) );
<a name="l06226"></a>06226     gtk_box_pack_start ( GTK_BOX ( paddingbox ), bouton_utilise_ib_etat, FALSE, FALSE, 0 );
<a name="l06227"></a>06227 
<a name="l06228"></a>06228     <span class="comment">/* choix du type de classement */</span>
<a name="l06229"></a>06229 
<a name="l06230"></a>06230     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_onglet, FALSE, _(<span class="stringliteral">&quot;Group level organisation&quot;</span>) );
<a name="l06231"></a>06231     hbox = gtk_hbox_new ( FALSE,
<a name="l06232"></a>06232                           5 );
<a name="l06233"></a>06233     gtk_container_set_border_width ( GTK_CONTAINER ( hbox ), 5 );
<a name="l06234"></a>06234     gtk_box_pack_start ( GTK_BOX ( paddingbox ),
<a name="l06235"></a>06235                          hbox,
<a name="l06236"></a>06236                          TRUE,
<a name="l06237"></a>06237                          TRUE,
<a name="l06238"></a>06238                          0 );
<a name="l06239"></a>06239 
<a name="l06240"></a>06240     gtk_widget_show ( hbox );
<a name="l06241"></a>06241 
<a name="l06242"></a>06242     scrolled_window = gtk_scrolled_window_new ( FALSE,
<a name="l06243"></a>06243                                                 FALSE );
<a name="l06244"></a>06244     gtk_scrolled_window_set_policy ( GTK_SCROLLED_WINDOW ( scrolled_window ),
<a name="l06245"></a>06245                                      GTK_POLICY_AUTOMATIC,
<a name="l06246"></a>06246                                      GTK_POLICY_AUTOMATIC );
<a name="l06247"></a>06247     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l06248"></a>06248                          scrolled_window,
<a name="l06249"></a>06249                          TRUE,
<a name="l06250"></a>06250                          TRUE,
<a name="l06251"></a>06251                          0 );
<a name="l06252"></a>06252     gtk_widget_show ( scrolled_window );
<a name="l06253"></a>06253 
<a name="l06254"></a>06254 
<a name="l06255"></a>06255     liste_type_classement_etat = gtk_ctree_new ( 1, 0 );
<a name="l06256"></a>06256     gtk_clist_set_column_auto_resize ( GTK_CLIST ( liste_type_classement_etat ),
<a name="l06257"></a>06257                                        0,
<a name="l06258"></a>06258                                        TRUE );
<a name="l06259"></a>06259     gtk_ctree_set_line_style ( GTK_CTREE ( liste_type_classement_etat ),
<a name="l06260"></a>06260                                GTK_CTREE_LINES_NONE );
<a name="l06261"></a>06261     gtk_ctree_set_expander_style ( GTK_CTREE ( liste_type_classement_etat ),
<a name="l06262"></a>06262                                    GTK_CTREE_EXPANDER_NONE );
<a name="l06263"></a>06263 
<a name="l06264"></a>06264     g_signal_connect ( G_OBJECT ( liste_type_classement_etat ),
<a name="l06265"></a>06265                          <span class="stringliteral">&quot;button_press_event&quot;</span>,
<a name="l06266"></a>06266                          G_CALLBACK ( click_liste_etat ),
<a name="l06267"></a>06267                          GINT_TO_POINTER (1) );
<a name="l06268"></a>06268     gtk_container_add ( GTK_CONTAINER ( scrolled_window ),
<a name="l06269"></a>06269                         liste_type_classement_etat );
<a name="l06270"></a>06270     gtk_widget_show ( liste_type_classement_etat );
<a name="l06271"></a>06271 
<a name="l06272"></a>06272     <span class="comment">/* on place ici les flèches sur le côté de la liste */</span>
<a name="l06273"></a>06273 
<a name="l06274"></a>06274     vbox = gtk_vbutton_box_new ();
<a name="l06275"></a>06275 
<a name="l06276"></a>06276     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l06277"></a>06277                          vbox,
<a name="l06278"></a>06278                          FALSE,
<a name="l06279"></a>06279                          FALSE,
<a name="l06280"></a>06280                          0);
<a name="l06281"></a>06281 
<a name="l06282"></a>06282     fleche = gtk_button_new_from_stock (GTK_STOCK_GO_UP);
<a name="l06283"></a>06283     gtk_button_set_relief ( GTK_BUTTON ( fleche ),
<a name="l06284"></a>06284                             GTK_RELIEF_NONE );
<a name="l06285"></a>06285     g_signal_connect ( G_OBJECT ( fleche ),
<a name="l06286"></a>06286                          <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l06287"></a>06287                          G_CALLBACK ( click_haut_classement_etat ),
<a name="l06288"></a>06288                          NULL );
<a name="l06289"></a>06289     gtk_container_add ( GTK_CONTAINER ( vbox ),
<a name="l06290"></a>06290                         fleche  );
<a name="l06291"></a>06291 
<a name="l06292"></a>06292     fleche = gtk_button_new_from_stock (GTK_STOCK_GO_DOWN);
<a name="l06293"></a>06293     gtk_button_set_relief ( GTK_BUTTON ( fleche ),
<a name="l06294"></a>06294                             GTK_RELIEF_NONE );
<a name="l06295"></a>06295     g_signal_connect ( G_OBJECT ( fleche ),
<a name="l06296"></a>06296                          <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l06297"></a>06297                          G_CALLBACK ( click_bas_classement_etat ),
<a name="l06298"></a>06298                          NULL);
<a name="l06299"></a>06299     gtk_container_add ( GTK_CONTAINER ( vbox ),
<a name="l06300"></a>06300                         fleche  );
<a name="l06301"></a>06301     gtk_widget_show_all ( vbox );
<a name="l06302"></a>06302 
<a name="l06303"></a>06303     <span class="keywordflow">return</span> vbox_onglet;
<a name="l06304"></a>06304 }
<a name="l06305"></a>06305 
<a name="l06306"></a>06306 
<a name="l06307"></a>06307 GtkWidget *page_data_separation ( <span class="keywordtype">void</span> )
<a name="l06308"></a>06308 {
<a name="l06309"></a>06309     GtkWidget *label;
<a name="l06310"></a>06310     GtkWidget *vbox_onglet;
<a name="l06311"></a>06311     GtkWidget *menu;
<a name="l06312"></a>06312     GtkWidget *menu_item;
<a name="l06313"></a>06313         GtkWidget *table;
<a name="l06314"></a>06314     GtkWidget * paddingbox;
<a name="l06315"></a>06315     gint i;
<a name="l06316"></a>06316 
<a name="l06317"></a>06317     vbox_onglet = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Data separation&quot;</span>), <span class="stringliteral">&quot;organization.png&quot;</span> );
<a name="l06318"></a>06318     gtk_widget_show ( vbox_onglet );
<a name="l06319"></a>06319 
<a name="l06320"></a>06320     <span class="comment">/* choix de ce qu&#39;on utilise dans le classement */</span>
<a name="l06321"></a>06321     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_onglet, FALSE, _(<span class="stringliteral">&quot;Data separation&quot;</span>) );
<a name="l06322"></a>06322 
<a name="l06323"></a>06323     <span class="comment">/* on permet la séparation des revenus et des dépenses */</span>
<a name="l06324"></a>06324     bouton_separer_revenus_depenses = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Split incomes and outgoings&quot;</span>) );
<a name="l06325"></a>06325     gtk_box_pack_start ( GTK_BOX ( paddingbox ), bouton_separer_revenus_depenses, FALSE, FALSE, 0 );
<a name="l06326"></a>06326 
<a name="l06327"></a>06327     <span class="comment">/* on permet la séparation par exercice */</span>
<a name="l06328"></a>06328     bouton_separe_exo_etat = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Split by financial year&quot;</span>) );
<a name="l06329"></a>06329     gtk_box_pack_start ( GTK_BOX ( paddingbox ), bouton_separe_exo_etat, FALSE, FALSE, 0 );
<a name="l06330"></a>06330     g_signal_connect ( G_OBJECT ( radio_button_utilise_exo ),
<a name="l06331"></a>06331                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l06332"></a>06332                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l06333"></a>06333                          bouton_separe_exo_etat );
<a name="l06334"></a>06334 
<a name="l06335"></a>06335     bouton_separe_plages_etat = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Split by period&quot;</span>) );
<a name="l06336"></a>06336     gtk_box_pack_start ( GTK_BOX ( paddingbox ), bouton_separe_plages_etat, FALSE, FALSE, 0 );
<a name="l06337"></a>06337 
<a name="l06338"></a>06338     <span class="comment">/* on permet ensuite la séparation des résultats par période */</span>
<a name="l06339"></a>06339     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_onglet, FALSE, _(<span class="stringliteral">&quot;Separation by period&quot;</span>) );
<a name="l06340"></a>06340 
<a name="l06341"></a>06341     table = gtk_table_new ( 2, 2, FALSE );
<a name="l06342"></a>06342     gtk_table_set_col_spacings ( GTK_TABLE ( table ), 5 );
<a name="l06343"></a>06343     gtk_table_set_row_spacings ( GTK_TABLE ( table ), 5 );
<a name="l06344"></a>06344     gtk_box_pack_start ( GTK_BOX ( paddingbox ), table, TRUE, TRUE, 5 );
<a name="l06345"></a>06345 
<a name="l06346"></a>06346     label = gtk_label_new (<a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;Separation by time period&quot;</span>)));
<a name="l06347"></a>06347     gtk_misc_set_alignment (GTK_MISC (label), 0, 1);
<a name="l06348"></a>06348     gtk_label_set_justify ( GTK_LABEL (label), GTK_JUSTIFY_LEFT );
<a name="l06349"></a>06349     gtk_table_attach ( GTK_TABLE ( table ), label,
<a name="l06350"></a>06350                        0, 1, 0, 1, GTK_SHRINK | GTK_FILL, 0, 0, 0 );
<a name="l06351"></a>06351 
<a name="l06352"></a>06352     <span class="comment">/* add split button by day, week... */</span>
<a name="l06353"></a>06353     bouton_type_separe_plages_etat = gtk_option_menu_new ();
<a name="l06354"></a>06354     g_signal_connect ( G_OBJECT (bouton_separe_plages_etat),
<a name="l06355"></a>06355                        <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l06356"></a>06356                        G_CALLBACK (<a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a>),
<a name="l06357"></a>06357                        bouton_type_separe_plages_etat );
<a name="l06358"></a>06358 
<a name="l06359"></a>06359     gtk_table_attach ( GTK_TABLE ( table ), bouton_type_separe_plages_etat,
<a name="l06360"></a>06360                        1, 2, 0, 1, GTK_SHRINK | GTK_FILL, 0, 0, 0 );
<a name="l06361"></a>06361 
<a name="l06362"></a>06362     menu = gtk_menu_new ();
<a name="l06363"></a>06363     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;Day&quot;</span>) );
<a name="l06364"></a>06364     g_object_set_data ( G_OBJECT ( menu_item ), <span class="stringliteral">&quot;type&quot;</span>, NULL );
<a name="l06365"></a>06365     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ), menu_item );
<a name="l06366"></a>06366 
<a name="l06367"></a>06367     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;Week&quot;</span>) );
<a name="l06368"></a>06368     g_object_set_data ( G_OBJECT ( menu_item ), <span class="stringliteral">&quot;type&quot;</span>, GINT_TO_POINTER (1) );
<a name="l06369"></a>06369     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ), menu_item );
<a name="l06370"></a>06370 
<a name="l06371"></a>06371     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;Month&quot;</span>) );
<a name="l06372"></a>06372     g_object_set_data ( G_OBJECT ( menu_item ), <span class="stringliteral">&quot;type&quot;</span>, GINT_TO_POINTER (2) );
<a name="l06373"></a>06373     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ), menu_item );
<a name="l06374"></a>06374 
<a name="l06375"></a>06375     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;Year&quot;</span>) );
<a name="l06376"></a>06376     g_object_set_data ( G_OBJECT ( menu_item ), <span class="stringliteral">&quot;type&quot;</span>, GINT_TO_POINTER (3));
<a name="l06377"></a>06377     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ), menu_item );
<a name="l06378"></a>06378 
<a name="l06379"></a>06379     gtk_option_menu_set_menu ( GTK_OPTION_MENU ( bouton_type_separe_plages_etat ), menu );
<a name="l06380"></a>06380 
<a name="l06381"></a>06381     <span class="comment">/* add beginning day of the week */</span>
<a name="l06382"></a>06382     label = gtk_label_new (<a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;Beginning of week&quot;</span>)));
<a name="l06383"></a>06383     gtk_misc_set_alignment (GTK_MISC (label), 0, 1);
<a name="l06384"></a>06384     gtk_label_set_justify ( GTK_LABEL (label), GTK_JUSTIFY_LEFT );
<a name="l06385"></a>06385     gtk_table_attach ( GTK_TABLE ( table ), label,
<a name="l06386"></a>06386                        0, 1, 1, 2, GTK_SHRINK | GTK_FILL, 0, 0, 0 );
<a name="l06387"></a>06387 
<a name="l06388"></a>06388     bouton_debut_semaine = gtk_option_menu_new ();
<a name="l06389"></a>06389     g_signal_connect ( G_OBJECT (bouton_separe_plages_etat),
<a name="l06390"></a>06390                        <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l06391"></a>06391                        G_CALLBACK (<a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a>),
<a name="l06392"></a>06392                        bouton_debut_semaine );
<a name="l06393"></a>06393 
<a name="l06394"></a>06394     gtk_table_attach ( GTK_TABLE ( table ), bouton_debut_semaine,
<a name="l06395"></a>06395                        1, 2, 1, 2, GTK_SHRINK | GTK_FILL, 0, 0, 0 );
<a name="l06396"></a>06396 
<a name="l06397"></a>06397     menu = gtk_menu_new ();
<a name="l06398"></a>06398 
<a name="l06399"></a>06399     i = 0;
<a name="l06400"></a>06400 
<a name="l06401"></a>06401     <span class="keywordflow">while</span> ( <a class="code" href="etats__config_8c.html#ac315591e8b0b5daecd30327b0a2224bf">jours_semaine</a>[i] )
<a name="l06402"></a>06402     {
<a name="l06403"></a>06403         menu_item = gtk_menu_item_new_with_label ( _(<a class="code" href="etats__config_8c.html#ac315591e8b0b5daecd30327b0a2224bf">jours_semaine</a>[i]) );
<a name="l06404"></a>06404         g_object_set_data ( G_OBJECT ( menu_item ), <span class="stringliteral">&quot;day&quot;</span>, GINT_TO_POINTER (i));
<a name="l06405"></a>06405         gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ), menu_item );
<a name="l06406"></a>06406         i++;
<a name="l06407"></a>06407     }
<a name="l06408"></a>06408     gtk_option_menu_set_menu ( GTK_OPTION_MENU ( bouton_debut_semaine ), menu );
<a name="l06409"></a>06409 
<a name="l06410"></a>06410     <span class="comment">/* on connecte le signal &quot;changed&quot; au bouton bouton_type_separe_plages_etat</span>
<a name="l06411"></a>06411 <span class="comment">     * pour rendre insensible le choix du jour de la semaine pour les choix</span>
<a name="l06412"></a>06412 <span class="comment">     * autres que la semaine. On le met ici pour que l&#39;initialisation se fasse</span>
<a name="l06413"></a>06413 <span class="comment">     * proprement */</span>
<a name="l06414"></a>06414     g_signal_connect ( G_OBJECT ( bouton_type_separe_plages_etat ), 
<a name="l06415"></a>06415                   <span class="stringliteral">&quot;changed&quot;</span>,
<a name="l06416"></a>06416                           G_CALLBACK ( etat_option_menu_changed ), 
<a name="l06417"></a>06417                   bouton_debut_semaine );
<a name="l06418"></a>06418 
<a name="l06419"></a>06419     <span class="keywordflow">return</span> ( vbox_onglet );
<a name="l06420"></a>06420 }
<a name="l06421"></a>06421 <span class="comment">/******************************************************************************/</span>
<a name="l06422"></a>06422 
<a name="l06423"></a>06423 <span class="comment">/******************************************************************************/</span>
<a name="l06424"></a>06424 <span class="keywordtype">void</span> click_haut_classement_etat ( <span class="keywordtype">void</span> )
<a name="l06425"></a>06425 {
<a name="l06426"></a>06426     GtkCTreeNode *node_parent;
<a name="l06427"></a>06427     GtkCTreeNode *node;
<a name="l06428"></a>06428     GtkCTreeNode *node_enfant;
<a name="l06429"></a>06429     GtkCTreeNode *nouveau_parent;
<a name="l06430"></a>06430 
<a name="l06431"></a>06431     node = GTK_CLIST ( liste_type_classement_etat )-&gt;selection -&gt; data;
<a name="l06432"></a>06432 
<a name="l06433"></a>06433     <span class="comment">/*   si on est au niveau 1, peut pas plus haut */</span>
<a name="l06434"></a>06434 
<a name="l06435"></a>06435     <span class="keywordflow">if</span> ( GTK_CTREE_ROW ( node ) -&gt; level == 1 )
<a name="l06436"></a>06436         <span class="keywordflow">return</span>;
<a name="l06437"></a>06437 
<a name="l06438"></a>06438     node_parent = GTK_CTREE_ROW ( GTK_CLIST ( liste_type_classement_etat )-&gt;selection -&gt; data )-&gt;parent;
<a name="l06439"></a>06439     node_enfant = GTK_CTREE_ROW ( GTK_CLIST ( liste_type_classement_etat )-&gt;selection -&gt; data )-&gt;children;
<a name="l06440"></a>06440 
<a name="l06441"></a>06441     nouveau_parent = GTK_CTREE_ROW ( node_parent )-&gt;parent;
<a name="l06442"></a>06442 
<a name="l06443"></a>06443     <span class="comment">/* on remonte le node */</span>
<a name="l06444"></a>06444 
<a name="l06445"></a>06445     gtk_ctree_move ( GTK_CTREE ( liste_type_classement_etat ),
<a name="l06446"></a>06446                      node,
<a name="l06447"></a>06447                      nouveau_parent,
<a name="l06448"></a>06448                      NULL );
<a name="l06449"></a>06449 
<a name="l06450"></a>06450     <span class="comment">/* on descend celui du dessus */</span>
<a name="l06451"></a>06451 
<a name="l06452"></a>06452     gtk_ctree_move ( GTK_CTREE ( liste_type_classement_etat ),
<a name="l06453"></a>06453                      node_parent,
<a name="l06454"></a>06454                      node,
<a name="l06455"></a>06455                      NULL );
<a name="l06456"></a>06456 
<a name="l06457"></a>06457     <span class="comment">/* on attache l&#39;enfant à son nouveau parent */</span>
<a name="l06458"></a>06458 
<a name="l06459"></a>06459     <span class="keywordflow">if</span> ( node_enfant )
<a name="l06460"></a>06460         gtk_ctree_move ( GTK_CTREE ( liste_type_classement_etat ),
<a name="l06461"></a>06461                          node_enfant,
<a name="l06462"></a>06462                          node_parent,
<a name="l06463"></a>06463                          NULL );
<a name="l06464"></a>06464 
<a name="l06465"></a>06465     gtk_ctree_expand_recursive ( GTK_CTREE ( liste_type_classement_etat ),
<a name="l06466"></a>06466                                  node );
<a name="l06467"></a>06467 }
<a name="l06468"></a>06468 <span class="comment">/******************************************************************************/</span>
<a name="l06469"></a>06469 
<a name="l06470"></a>06470 <span class="comment">/******************************************************************************/</span>
<a name="l06471"></a>06471 <span class="keywordtype">void</span> click_bas_classement_etat ( <span class="keywordtype">void</span> )
<a name="l06472"></a>06472 {
<a name="l06473"></a>06473     GtkCTreeNode *node_parent;
<a name="l06474"></a>06474     GtkCTreeNode *node;
<a name="l06475"></a>06475     GtkCTreeNode *node_enfant;
<a name="l06476"></a>06476     GtkCTreeNode *node_enfant_enfant;
<a name="l06477"></a>06477 
<a name="l06478"></a>06478     node = GTK_CLIST ( liste_type_classement_etat )-&gt;selection -&gt; data;
<a name="l06479"></a>06479 
<a name="l06480"></a>06480     <span class="comment">/*   si on est au niveau 4, peut pas plus bas */</span>
<a name="l06481"></a>06481 
<a name="l06482"></a>06482     <span class="keywordflow">if</span> ( GTK_CTREE_ROW ( node ) -&gt; level == 4 )
<a name="l06483"></a>06483         <span class="keywordflow">return</span>;
<a name="l06484"></a>06484 
<a name="l06485"></a>06485     node_parent = GTK_CTREE_ROW ( GTK_CLIST ( liste_type_classement_etat )-&gt;selection -&gt; data )-&gt;parent;
<a name="l06486"></a>06486     node_enfant = GTK_CTREE_ROW ( GTK_CLIST ( liste_type_classement_etat )-&gt;selection -&gt; data )-&gt;children;
<a name="l06487"></a>06487 
<a name="l06488"></a>06488     node_enfant_enfant = GTK_CTREE_ROW ( node_enfant )-&gt;children;
<a name="l06489"></a>06489 
<a name="l06490"></a>06490     <span class="comment">/* on remonte le node enfant */</span>
<a name="l06491"></a>06491 
<a name="l06492"></a>06492     gtk_ctree_move ( GTK_CTREE ( liste_type_classement_etat ),
<a name="l06493"></a>06493                      node_enfant,
<a name="l06494"></a>06494                      node_parent,
<a name="l06495"></a>06495                      NULL );
<a name="l06496"></a>06496 
<a name="l06497"></a>06497     <span class="comment">/* on descend le node */</span>
<a name="l06498"></a>06498 
<a name="l06499"></a>06499     gtk_ctree_move ( GTK_CTREE ( liste_type_classement_etat ),
<a name="l06500"></a>06500                      node,
<a name="l06501"></a>06501                      node_enfant,
<a name="l06502"></a>06502                      NULL );
<a name="l06503"></a>06503 
<a name="l06504"></a>06504     <span class="comment">/* on attache l&#39;enfant de l&#39;enfant à son nouveau parent */</span>
<a name="l06505"></a>06505 
<a name="l06506"></a>06506     <span class="keywordflow">if</span> ( node_enfant_enfant )
<a name="l06507"></a>06507         gtk_ctree_move ( GTK_CTREE ( liste_type_classement_etat ),
<a name="l06508"></a>06508                          node_enfant_enfant,
<a name="l06509"></a>06509                          node,
<a name="l06510"></a>06510                          NULL );
<a name="l06511"></a>06511 
<a name="l06512"></a>06512     gtk_ctree_expand_recursive ( GTK_CTREE ( liste_type_classement_etat ),
<a name="l06513"></a>06513                                  node );
<a name="l06514"></a>06514 }
<a name="l06515"></a>06515 
<a name="l06516"></a>06516 
<a name="l06517"></a>06517 
<a name="l06518"></a>06518 GtkWidget *onglet_affichage_etat_generalites ( <span class="keywordtype">void</span> )
<a name="l06519"></a>06519 {
<a name="l06520"></a>06520     GtkWidget *label;
<a name="l06521"></a>06521     GtkWidget *hbox;
<a name="l06522"></a>06522     GtkWidget *vbox_onglet;
<a name="l06523"></a>06523 
<a name="l06524"></a>06524     vbox_onglet = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Generalities&quot;</span>), <span class="stringliteral">&quot;generalities.png&quot;</span> );
<a name="l06525"></a>06525     gtk_widget_show ( vbox_onglet );
<a name="l06526"></a>06526 
<a name="l06527"></a>06527     <span class="comment">/* choix du name du rapport */</span>
<a name="l06528"></a>06528 
<a name="l06529"></a>06529     hbox = gtk_hbox_new ( FALSE,
<a name="l06530"></a>06530                           5 );
<a name="l06531"></a>06531     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l06532"></a>06532                          hbox,
<a name="l06533"></a>06533                          FALSE,
<a name="l06534"></a>06534                          FALSE,
<a name="l06535"></a>06535                          0 );
<a name="l06536"></a>06536     gtk_widget_show ( hbox );
<a name="l06537"></a>06537 
<a name="l06538"></a>06538     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;Report name&quot;</span>)) );
<a name="l06539"></a>06539     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l06540"></a>06540                          label,
<a name="l06541"></a>06541                          FALSE,
<a name="l06542"></a>06542                          FALSE,
<a name="l06543"></a>06543                          0 );
<a name="l06544"></a>06544     gtk_widget_show ( label );
<a name="l06545"></a>06545 
<a name="l06546"></a>06546     entree_nom_etat = gtk_entry_new ();
<a name="l06547"></a>06547     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l06548"></a>06548                          entree_nom_etat,
<a name="l06549"></a>06549                          FALSE,
<a name="l06550"></a>06550                          FALSE,
<a name="l06551"></a>06551                          0 );
<a name="l06552"></a>06552     gtk_widget_show ( entree_nom_etat );
<a name="l06553"></a>06553 
<a name="l06554"></a>06554 
<a name="l06555"></a>06555     <span class="comment">/* afficher ou non le nb d&#39;opés avec les totaux */</span>
<a name="l06556"></a>06556 
<a name="l06557"></a>06557     hbox = gtk_hbox_new ( FALSE,
<a name="l06558"></a>06558                           5 );
<a name="l06559"></a>06559     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l06560"></a>06560                          hbox,
<a name="l06561"></a>06561                          FALSE,
<a name="l06562"></a>06562                          FALSE,
<a name="l06563"></a>06563                          0 );
<a name="l06564"></a>06564     gtk_widget_show ( hbox );
<a name="l06565"></a>06565 
<a name="l06566"></a>06566     bouton_afficher_nb_opes = gtk_check_button_new_with_label ( 
<a name="l06567"></a>06567                         _(<span class="stringliteral">&quot;Display the number of transactions with the totals&quot;</span>) );
<a name="l06568"></a>06568     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l06569"></a>06569                          bouton_afficher_nb_opes,
<a name="l06570"></a>06570                          FALSE,
<a name="l06571"></a>06571                          FALSE,
<a name="l06572"></a>06572                          0 );
<a name="l06573"></a>06573     gtk_widget_show ( bouton_afficher_nb_opes );
<a name="l06574"></a>06574 
<a name="l06575"></a>06575     <span class="comment">/* mise en place du bouton pour faire apparaitre l&#39;état dans la liste des tiers */</span>
<a name="l06576"></a>06576 
<a name="l06577"></a>06577     hbox = gtk_hbox_new ( FALSE,
<a name="l06578"></a>06578                           5 );
<a name="l06579"></a>06579     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l06580"></a>06580                          hbox,
<a name="l06581"></a>06581                          FALSE,
<a name="l06582"></a>06582                          FALSE,
<a name="l06583"></a>06583                          0 );
<a name="l06584"></a>06584     gtk_widget_show ( hbox );
<a name="l06585"></a>06585 
<a name="l06586"></a>06586     bouton_inclure_dans_tiers = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Consider the payees of this report as a multiple payee.&quot;</span>) );
<a name="l06587"></a>06587     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l06588"></a>06588                          bouton_inclure_dans_tiers,
<a name="l06589"></a>06589                          FALSE,
<a name="l06590"></a>06590                          FALSE,
<a name="l06591"></a>06591                          0 );
<a name="l06592"></a>06592     gtk_widget_show ( bouton_inclure_dans_tiers );
<a name="l06593"></a>06593 
<a name="l06594"></a>06594     <span class="keywordflow">return</span> ( vbox_onglet );
<a name="l06595"></a>06595 }
<a name="l06596"></a>06596 
<a name="l06597"></a>06597 
<a name="l06598"></a>06598 
<a name="l06605"></a>06605 GtkWidget *onglet_affichage_etat_operations ( <span class="keywordtype">void</span> )
<a name="l06606"></a>06606 {
<a name="l06607"></a>06607     GtkWidget * table, * vbox_onglet, * menu, * menu_item, * paddingbox;
<a name="l06608"></a>06608 
<a name="l06609"></a>06609     vbox_onglet = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Transactions display&quot;</span>), <span class="stringliteral">&quot;transdisplay.png&quot;</span> );
<a name="l06610"></a>06610     gtk_widget_show ( vbox_onglet );
<a name="l06611"></a>06611 
<a name="l06612"></a>06612     <span class="comment">/* afficher ou non les opés */</span>
<a name="l06613"></a>06613 
<a name="l06614"></a>06614     bouton_afficher_opes = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Display transactions&quot;</span>) );
<a name="l06615"></a>06615     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ), bouton_afficher_opes, FALSE, FALSE, 0 );
<a name="l06616"></a>06616 
<a name="l06617"></a>06617     vbox_show_transactions = gtk_vbox_new (FALSE, 0);
<a name="l06618"></a>06618     gtk_box_pack_start ( GTK_BOX (vbox_onglet),
<a name="l06619"></a>06619                          vbox_show_transactions,
<a name="l06620"></a>06620                          FALSE, FALSE, 0);
<a name="l06621"></a>06621     g_signal_connect ( G_OBJECT (bouton_afficher_opes),
<a name="l06622"></a>06622                        <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l06623"></a>06623                        G_CALLBACK (<a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a>),
<a name="l06624"></a>06624                        vbox_show_transactions );
<a name="l06625"></a>06625 
<a name="l06626"></a>06626     <span class="comment">/* demande les détails affichés dans les opérations */</span>
<a name="l06627"></a>06627     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_show_transactions, FALSE,
<a name="l06628"></a>06628                         _(<span class="stringliteral">&quot;Include following information&quot;</span>) );
<a name="l06629"></a>06629     <span class="comment">/* connection pour rendre sensitif la frame */</span>
<a name="l06630"></a>06630     table = gtk_table_new ( 12, 3, FALSE );
<a name="l06631"></a>06631     gtk_box_pack_start ( GTK_BOX (paddingbox), table, FALSE, FALSE, 0 );
<a name="l06632"></a>06632 
<a name="l06633"></a>06633     bouton_afficher_no_ope = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;transaction number&quot;</span>) );
<a name="l06634"></a>06634     gtk_table_attach_defaults ( GTK_TABLE ( table ), bouton_afficher_no_ope, 0, 1, 0, 1 );
<a name="l06635"></a>06635 
<a name="l06636"></a>06636     bouton_afficher_date_opes = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;date&quot;</span>) );
<a name="l06637"></a>06637     gtk_table_attach_defaults ( GTK_TABLE ( table ), bouton_afficher_date_opes, 1, 2, 0, 1 );
<a name="l06638"></a>06638 
<a name="l06639"></a>06639     bouton_afficher_value_date_opes = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;value date&quot;</span>) );
<a name="l06640"></a>06640     gtk_table_attach_defaults ( GTK_TABLE ( table ), bouton_afficher_value_date_opes, 2, 3, 0, 1 );
<a name="l06641"></a>06641 
<a name="l06642"></a>06642     bouton_afficher_tiers_opes = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;payee&quot;</span>) );
<a name="l06643"></a>06643     gtk_table_attach_defaults ( GTK_TABLE ( table ), bouton_afficher_tiers_opes, 0, 1, 1, 2 );
<a name="l06644"></a>06644 
<a name="l06645"></a>06645     bouton_afficher_categ_opes = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;category&quot;</span>) );
<a name="l06646"></a>06646     gtk_table_attach_defaults ( GTK_TABLE ( table ), bouton_afficher_categ_opes, 1, 2, 1, 2 );
<a name="l06647"></a>06647 
<a name="l06648"></a>06648     bouton_afficher_sous_categ_opes = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;sub-category&quot;</span>) );
<a name="l06649"></a>06649     gtk_table_attach_defaults ( GTK_TABLE ( table ), bouton_afficher_sous_categ_opes, 2, 3, 1, 2 );
<a name="l06650"></a>06650 
<a name="l06651"></a>06651     bouton_afficher_ib_opes = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;budgetary line&quot;</span>) );
<a name="l06652"></a>06652     gtk_table_attach_defaults ( GTK_TABLE ( table ), bouton_afficher_ib_opes, 0, 1, 2, 3 );
<a name="l06653"></a>06653 
<a name="l06654"></a>06654     bouton_afficher_sous_ib_opes = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;sub-budgetary line&quot;</span>) );
<a name="l06655"></a>06655     gtk_table_attach_defaults ( GTK_TABLE ( table ), bouton_afficher_sous_ib_opes, 1, 2, 2, 3 );
<a name="l06656"></a>06656 
<a name="l06657"></a>06657     bouton_afficher_notes_opes = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;notes&quot;</span>) );
<a name="l06658"></a>06658     gtk_table_attach_defaults ( GTK_TABLE ( table ), bouton_afficher_notes_opes, 2, 3, 2, 3 );
<a name="l06659"></a>06659 
<a name="l06660"></a>06660     bouton_afficher_type_ope = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;method of payment&quot;</span>) );
<a name="l06661"></a>06661     gtk_table_attach_defaults ( GTK_TABLE ( table ), bouton_afficher_type_ope, 0, 1, 3, 4 );
<a name="l06662"></a>06662 
<a name="l06663"></a>06663     bouton_afficher_no_cheque = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;cheque/transfer number&quot;</span>) );
<a name="l06664"></a>06664     gtk_table_attach_defaults ( GTK_TABLE ( table ), bouton_afficher_no_cheque, 1, 2, 3, 4 );
<a name="l06665"></a>06665 
<a name="l06666"></a>06666     bouton_afficher_pc_opes = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;voucher&quot;</span>) );
<a name="l06667"></a>06667     gtk_table_attach_defaults ( GTK_TABLE ( table ), bouton_afficher_pc_opes, 2, 3, 3, 4 );
<a name="l06668"></a>06668 
<a name="l06669"></a>06669     bouton_afficher_exo_opes = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;financial year&quot;</span>) );
<a name="l06670"></a>06670     gtk_table_attach_defaults ( GTK_TABLE ( table ), bouton_afficher_exo_opes, 2, 3, 4, 5 );
<a name="l06671"></a>06671 
<a name="l06672"></a>06672     bouton_afficher_infobd_opes = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;bank reference&quot;</span>) );
<a name="l06673"></a>06673     gtk_table_attach_defaults ( GTK_TABLE ( table ), bouton_afficher_infobd_opes, 0, 1, 4, 5 );
<a name="l06674"></a>06674 
<a name="l06675"></a>06675     bouton_afficher_no_rappr = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;reconciliation reference&quot;</span>) );
<a name="l06676"></a>06676     gtk_table_attach_defaults ( GTK_TABLE ( table ), bouton_afficher_no_rappr, 1, 2, 4, 5  );
<a name="l06677"></a>06677 
<a name="l06678"></a>06678 
<a name="l06679"></a>06679     <span class="comment">/* on propose d&#39;afficher le titre des colonnes */</span>
<a name="l06680"></a>06680     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_show_transactions, FALSE, _(<span class="stringliteral">&quot;Columns&quot;</span>) );
<a name="l06681"></a>06681 
<a name="l06682"></a>06682     bouton_afficher_titres_colonnes = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Display column titles&quot;</span>) );
<a name="l06683"></a>06683     gtk_box_pack_start ( GTK_BOX ( paddingbox ), bouton_afficher_titres_colonnes, FALSE, FALSE, 0 );
<a name="l06684"></a>06684 
<a name="l06685"></a>06685     bouton_titre_changement = gtk_radio_button_new_with_label ( NULL, _(<span class="stringliteral">&quot;every section&quot;</span>) );
<a name="l06686"></a>06686     gtk_box_pack_start ( GTK_BOX ( paddingbox ), bouton_titre_changement, FALSE, FALSE, 0 );
<a name="l06687"></a>06687 
<a name="l06688"></a>06688     bouton_titre_en_haut = gtk_radio_button_new_with_label ( gtk_radio_button_get_group ( GTK_RADIO_BUTTON ( bouton_titre_changement )),
<a name="l06689"></a>06689                                                              _(<span class="stringliteral">&quot;at the top of the report&quot;</span>) );
<a name="l06690"></a>06690     gtk_box_pack_start ( GTK_BOX ( paddingbox ), bouton_titre_en_haut, FALSE, FALSE, 0 );
<a name="l06691"></a>06691 
<a name="l06692"></a>06692 
<a name="l06693"></a>06693     <span class="comment">/* mise en place du type de classement des opés */</span>
<a name="l06694"></a>06694     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_show_transactions, FALSE, _(<span class="stringliteral">&quot;Sort transactions by&quot;</span>) );
<a name="l06695"></a>06695 
<a name="l06696"></a>06696     bouton_choix_classement_ope_etat = gtk_option_menu_new ();
<a name="l06697"></a>06697     gtk_box_pack_start ( GTK_BOX ( paddingbox ), bouton_choix_classement_ope_etat, FALSE, FALSE, 0 );
<a name="l06698"></a>06698 
<a name="l06699"></a>06699     menu = gtk_menu_new ();
<a name="l06700"></a>06700 
<a name="l06701"></a>06701     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;date&quot;</span>));
<a name="l06702"></a>06702     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l06703"></a>06703                           <span class="stringliteral">&quot;no_classement&quot;</span>,
<a name="l06704"></a>06704                           GINT_TO_POINTER ( 0 ));
<a name="l06705"></a>06705     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l06706"></a>06706                       menu_item );
<a name="l06707"></a>06707 
<a name="l06708"></a>06708     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;value date&quot;</span>));
<a name="l06709"></a>06709     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l06710"></a>06710                           <span class="stringliteral">&quot;no_classement&quot;</span>,
<a name="l06711"></a>06711                           GINT_TO_POINTER ( 1 ));
<a name="l06712"></a>06712     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l06713"></a>06713                       menu_item );
<a name="l06714"></a>06714 
<a name="l06715"></a>06715     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;transaction number&quot;</span>));
<a name="l06716"></a>06716     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l06717"></a>06717                           <span class="stringliteral">&quot;no_classement&quot;</span>,
<a name="l06718"></a>06718                           GINT_TO_POINTER ( 2 ));
<a name="l06719"></a>06719     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l06720"></a>06720                       menu_item );
<a name="l06721"></a>06721 
<a name="l06722"></a>06722     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;payee&quot;</span>));
<a name="l06723"></a>06723     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l06724"></a>06724                           <span class="stringliteral">&quot;no_classement&quot;</span>,
<a name="l06725"></a>06725                           GINT_TO_POINTER ( 3 ));
<a name="l06726"></a>06726     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l06727"></a>06727                       menu_item );
<a name="l06728"></a>06728 
<a name="l06729"></a>06729     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;category&quot;</span>));
<a name="l06730"></a>06730     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l06731"></a>06731                           <span class="stringliteral">&quot;no_classement&quot;</span>,
<a name="l06732"></a>06732                           GINT_TO_POINTER ( 4 ));
<a name="l06733"></a>06733     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l06734"></a>06734                       menu_item );
<a name="l06735"></a>06735 
<a name="l06736"></a>06736     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;budgetary line&quot;</span>));
<a name="l06737"></a>06737     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l06738"></a>06738                           <span class="stringliteral">&quot;no_classement&quot;</span>,
<a name="l06739"></a>06739                           GINT_TO_POINTER ( 5 ));
<a name="l06740"></a>06740     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l06741"></a>06741                       menu_item );
<a name="l06742"></a>06742 
<a name="l06743"></a>06743     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;note&quot;</span>));
<a name="l06744"></a>06744     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l06745"></a>06745                           <span class="stringliteral">&quot;no_classement&quot;</span>,
<a name="l06746"></a>06746                           GINT_TO_POINTER ( 6 ));
<a name="l06747"></a>06747     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l06748"></a>06748                       menu_item );
<a name="l06749"></a>06749 
<a name="l06750"></a>06750     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;method of payment&quot;</span>));
<a name="l06751"></a>06751     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l06752"></a>06752                           <span class="stringliteral">&quot;no_classement&quot;</span>,
<a name="l06753"></a>06753                           GINT_TO_POINTER ( 7 ));
<a name="l06754"></a>06754     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l06755"></a>06755                       menu_item );
<a name="l06756"></a>06756 
<a name="l06757"></a>06757     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;cheque/transfer number&quot;</span>));
<a name="l06758"></a>06758     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l06759"></a>06759                           <span class="stringliteral">&quot;no_classement&quot;</span>,
<a name="l06760"></a>06760                           GINT_TO_POINTER ( 8 ));
<a name="l06761"></a>06761     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l06762"></a>06762                       menu_item );
<a name="l06763"></a>06763 
<a name="l06764"></a>06764     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;voucher&quot;</span>));
<a name="l06765"></a>06765     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l06766"></a>06766                           <span class="stringliteral">&quot;no_classement&quot;</span>,
<a name="l06767"></a>06767                           GINT_TO_POINTER ( 9 ));
<a name="l06768"></a>06768     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l06769"></a>06769                       menu_item );
<a name="l06770"></a>06770 
<a name="l06771"></a>06771     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;bank reference&quot;</span>));
<a name="l06772"></a>06772     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l06773"></a>06773                           <span class="stringliteral">&quot;no_classement&quot;</span>,
<a name="l06774"></a>06774                           GINT_TO_POINTER ( 10 ));
<a name="l06775"></a>06775     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l06776"></a>06776                       menu_item );
<a name="l06777"></a>06777 
<a name="l06778"></a>06778     menu_item = gtk_menu_item_new_with_label ( _(<span class="stringliteral">&quot;reconciliation reference&quot;</span>));
<a name="l06779"></a>06779     g_object_set_data ( G_OBJECT ( menu_item ),
<a name="l06780"></a>06780                           <span class="stringliteral">&quot;no_classement&quot;</span>,
<a name="l06781"></a>06781                           GINT_TO_POINTER ( 11 ));
<a name="l06782"></a>06782     gtk_menu_shell_append ( GTK_MENU_SHELL ( menu ),
<a name="l06783"></a>06783                       menu_item );
<a name="l06784"></a>06784 
<a name="l06785"></a>06785     gtk_option_menu_set_menu ( GTK_OPTION_MENU ( bouton_choix_classement_ope_etat ),
<a name="l06786"></a>06786                                menu );
<a name="l06787"></a>06787 
<a name="l06788"></a>06788 
<a name="l06789"></a>06789     <span class="comment">/* on propose de rendre clickable le détails des opérations */</span>
<a name="l06790"></a>06790     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_show_transactions, FALSE, _(<span class="stringliteral">&quot;Clickable transactions&quot;</span>) );
<a name="l06791"></a>06791 
<a name="l06792"></a>06792     bouton_rendre_ope_clickables = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Make transactions clickable&quot;</span>));
<a name="l06793"></a>06793     gtk_box_pack_start ( GTK_BOX ( paddingbox ), bouton_rendre_ope_clickables, FALSE, FALSE, 0 );
<a name="l06794"></a>06794 
<a name="l06795"></a>06795 
<a name="l06796"></a>06796     <span class="comment">/* on met les connexions */</span>
<a name="l06797"></a>06797     g_signal_connect ( G_OBJECT ( bouton_afficher_categ_opes ),
<a name="l06798"></a>06798                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l06799"></a>06799                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l06800"></a>06800                          bouton_afficher_sous_categ_opes );
<a name="l06801"></a>06801     g_signal_connect ( G_OBJECT ( bouton_afficher_ib_opes ),
<a name="l06802"></a>06802                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l06803"></a>06803                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l06804"></a>06804                          bouton_afficher_sous_ib_opes );
<a name="l06805"></a>06805     g_signal_connect ( G_OBJECT ( bouton_afficher_titres_colonnes ),
<a name="l06806"></a>06806                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l06807"></a>06807                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l06808"></a>06808                          bouton_titre_changement );
<a name="l06809"></a>06809     g_signal_connect ( G_OBJECT ( bouton_afficher_titres_colonnes ),
<a name="l06810"></a>06810                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l06811"></a>06811                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l06812"></a>06812                          bouton_titre_en_haut );
<a name="l06813"></a>06813 
<a name="l06814"></a>06814     gtk_widget_show_all ( vbox_onglet );
<a name="l06815"></a>06815 
<a name="l06816"></a>06816     <span class="keywordflow">return</span> ( vbox_onglet );
<a name="l06817"></a>06817 }
<a name="l06818"></a>06818 <span class="comment">/******************************************************************************/</span>
<a name="l06819"></a>06819 
<a name="l06820"></a>06820 <span class="comment">/******************************************************************************/</span>
<a name="l06821"></a>06821 GtkWidget *onglet_affichage_etat_devises ( <span class="keywordtype">void</span> )
<a name="l06822"></a>06822 {
<a name="l06823"></a>06823     GtkWidget *label;
<a name="l06824"></a>06824     GtkWidget *hbox;
<a name="l06825"></a>06825     GtkWidget *vbox_onglet;
<a name="l06826"></a>06826 
<a name="l06827"></a>06827 
<a name="l06828"></a>06828     vbox_onglet = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Totals currencies&quot;</span>), <span class="stringliteral">&quot;currencies.png&quot;</span> );
<a name="l06829"></a>06829     gtk_widget_show ( vbox_onglet );
<a name="l06830"></a>06830 
<a name="l06831"></a>06831 
<a name="l06832"></a>06832     hbox = gtk_hbox_new ( FALSE,
<a name="l06833"></a>06833                           5 );
<a name="l06834"></a>06834     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l06835"></a>06835                          hbox,
<a name="l06836"></a>06836                          FALSE,
<a name="l06837"></a>06837                          FALSE,
<a name="l06838"></a>06838                          0 );
<a name="l06839"></a>06839     gtk_widget_show ( hbox );
<a name="l06840"></a>06840 
<a name="l06841"></a>06841     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;General totals currency&quot;</span>)) );
<a name="l06842"></a>06842     gtk_misc_set_alignment ( GTK_MISC ( label ),
<a name="l06843"></a>06843                              0,
<a name="l06844"></a>06844                              0.5 );
<a name="l06845"></a>06845     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l06846"></a>06846                          label,
<a name="l06847"></a>06847                          TRUE,
<a name="l06848"></a>06848                          TRUE,
<a name="l06849"></a>06849                          0 );
<a name="l06850"></a>06850     gtk_widget_show ( label );
<a name="l06851"></a>06851 
<a name="l06852"></a>06852     bouton_devise_general_etat = <a class="code" href="gsb__currency_8c.html#ad0c6f15f859f45a94923fa743d81f5b5">gsb_currency_make_combobox</a> (FALSE);
<a name="l06853"></a>06853     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l06854"></a>06854                          bouton_devise_general_etat,
<a name="l06855"></a>06855                          FALSE,
<a name="l06856"></a>06856                          FALSE,
<a name="l06857"></a>06857                          0 );
<a name="l06858"></a>06858     gtk_widget_show ( bouton_devise_general_etat );
<a name="l06859"></a>06859 
<a name="l06860"></a>06860     hbox = gtk_hbox_new ( FALSE,
<a name="l06861"></a>06861                           5 );
<a name="l06862"></a>06862     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l06863"></a>06863                          hbox,
<a name="l06864"></a>06864                          FALSE,
<a name="l06865"></a>06865                          FALSE,
<a name="l06866"></a>06866                          0 );
<a name="l06867"></a>06867     gtk_widget_show ( hbox );
<a name="l06868"></a>06868 
<a name="l06869"></a>06869 
<a name="l06870"></a>06870     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;Payees currency&quot;</span>)) );
<a name="l06871"></a>06871     gtk_misc_set_alignment ( GTK_MISC ( label ),
<a name="l06872"></a>06872                              0,
<a name="l06873"></a>06873                              0.5 );
<a name="l06874"></a>06874     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l06875"></a>06875                          label,
<a name="l06876"></a>06876                          TRUE,
<a name="l06877"></a>06877                          TRUE,
<a name="l06878"></a>06878                          0 );
<a name="l06879"></a>06879     gtk_widget_show ( label );
<a name="l06880"></a>06880 
<a name="l06881"></a>06881     bouton_devise_tiers_etat = <a class="code" href="gsb__currency_8c.html#ad0c6f15f859f45a94923fa743d81f5b5">gsb_currency_make_combobox</a> (FALSE);
<a name="l06882"></a>06882     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l06883"></a>06883                          bouton_devise_tiers_etat,
<a name="l06884"></a>06884                          FALSE,
<a name="l06885"></a>06885                          FALSE,
<a name="l06886"></a>06886                          0 );
<a name="l06887"></a>06887     gtk_widget_show ( bouton_devise_tiers_etat );
<a name="l06888"></a>06888 
<a name="l06889"></a>06889 
<a name="l06890"></a>06890     hbox = gtk_hbox_new ( FALSE,
<a name="l06891"></a>06891                           5 );
<a name="l06892"></a>06892     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l06893"></a>06893                          hbox,
<a name="l06894"></a>06894                          FALSE,
<a name="l06895"></a>06895                          FALSE,
<a name="l06896"></a>06896                          0 );
<a name="l06897"></a>06897     gtk_widget_show ( hbox );
<a name="l06898"></a>06898 
<a name="l06899"></a>06899     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;Categories currency&quot;</span>)) );
<a name="l06900"></a>06900     gtk_misc_set_alignment ( GTK_MISC ( label ),
<a name="l06901"></a>06901                              0,
<a name="l06902"></a>06902                              0.5 );
<a name="l06903"></a>06903     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l06904"></a>06904                          label,
<a name="l06905"></a>06905                          TRUE,
<a name="l06906"></a>06906                          TRUE,
<a name="l06907"></a>06907                          0 );
<a name="l06908"></a>06908     gtk_widget_show ( label );
<a name="l06909"></a>06909 
<a name="l06910"></a>06910 
<a name="l06911"></a>06911     bouton_devise_categ_etat = <a class="code" href="gsb__currency_8c.html#ad0c6f15f859f45a94923fa743d81f5b5">gsb_currency_make_combobox</a> (FALSE);
<a name="l06912"></a>06912     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l06913"></a>06913                          bouton_devise_categ_etat,
<a name="l06914"></a>06914                          FALSE,
<a name="l06915"></a>06915                          FALSE,
<a name="l06916"></a>06916                          0 );
<a name="l06917"></a>06917     gtk_widget_show ( bouton_devise_categ_etat );
<a name="l06918"></a>06918 
<a name="l06919"></a>06919 
<a name="l06920"></a>06920     hbox = gtk_hbox_new ( FALSE,
<a name="l06921"></a>06921                           5 );
<a name="l06922"></a>06922     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l06923"></a>06923                          hbox,
<a name="l06924"></a>06924                          FALSE,
<a name="l06925"></a>06925                          FALSE,
<a name="l06926"></a>06926                          0 );
<a name="l06927"></a>06927     gtk_widget_show ( hbox );
<a name="l06928"></a>06928 
<a name="l06929"></a>06929     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;Budgetary lines currency&quot;</span>)) );
<a name="l06930"></a>06930     gtk_misc_set_alignment ( GTK_MISC ( label ),
<a name="l06931"></a>06931                              0,
<a name="l06932"></a>06932                              0.5 );
<a name="l06933"></a>06933     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l06934"></a>06934                          label,
<a name="l06935"></a>06935                          TRUE,
<a name="l06936"></a>06936                          TRUE,
<a name="l06937"></a>06937                          0 );
<a name="l06938"></a>06938     gtk_widget_show ( label );
<a name="l06939"></a>06939 
<a name="l06940"></a>06940     bouton_devise_ib_etat = <a class="code" href="gsb__currency_8c.html#ad0c6f15f859f45a94923fa743d81f5b5">gsb_currency_make_combobox</a> (FALSE);
<a name="l06941"></a>06941     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l06942"></a>06942                          bouton_devise_ib_etat,
<a name="l06943"></a>06943                          FALSE,
<a name="l06944"></a>06944                          FALSE,
<a name="l06945"></a>06945                          0 );
<a name="l06946"></a>06946     gtk_widget_show ( bouton_devise_ib_etat );
<a name="l06947"></a>06947 
<a name="l06948"></a>06948 
<a name="l06949"></a>06949     hbox = gtk_hbox_new ( FALSE,
<a name="l06950"></a>06950                           5 );
<a name="l06951"></a>06951     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l06952"></a>06952                          hbox,
<a name="l06953"></a>06953                          FALSE,
<a name="l06954"></a>06954                          FALSE,
<a name="l06955"></a>06955                          0 );
<a name="l06956"></a>06956     gtk_widget_show ( hbox );
<a name="l06957"></a>06957 
<a name="l06958"></a>06958     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;Amount comparison currency&quot;</span>)));
<a name="l06959"></a>06959     gtk_misc_set_alignment ( GTK_MISC ( label ),
<a name="l06960"></a>06960                              0,
<a name="l06961"></a>06961                              0.5 );
<a name="l06962"></a>06962     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l06963"></a>06963                          label,
<a name="l06964"></a>06964                          TRUE,
<a name="l06965"></a>06965                          TRUE,
<a name="l06966"></a>06966                          0 );
<a name="l06967"></a>06967     gtk_widget_show ( label );
<a name="l06968"></a>06968 
<a name="l06969"></a>06969     bouton_devise_montant_etat = <a class="code" href="gsb__currency_8c.html#ad0c6f15f859f45a94923fa743d81f5b5">gsb_currency_make_combobox</a> (FALSE);
<a name="l06970"></a>06970     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l06971"></a>06971                          bouton_devise_montant_etat,
<a name="l06972"></a>06972                          FALSE,
<a name="l06973"></a>06973                          FALSE,
<a name="l06974"></a>06974                          0 );
<a name="l06975"></a>06975     gtk_widget_show ( bouton_devise_montant_etat );
<a name="l06976"></a>06976 
<a name="l06977"></a>06977 
<a name="l06978"></a>06978     <span class="keywordflow">return</span> ( vbox_onglet );
<a name="l06979"></a>06979 }
<a name="l06980"></a>06980 <span class="comment">/******************************************************************************/</span>
<a name="l06981"></a>06981 
<a name="l06982"></a>06982 <span class="comment">/******************************************************************************/</span>
<a name="l06983"></a>06983 GtkWidget *onglet_affichage_etat_divers ( <span class="keywordtype">void</span> )
<a name="l06984"></a>06984 {
<a name="l06985"></a>06985     GtkWidget *vbox_onglet;
<a name="l06986"></a>06986     GtkWidget *paddingbox;
<a name="l06987"></a>06987 
<a name="l06988"></a>06988     vbox_onglet = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Titles&quot;</span>), <span class="stringliteral">&quot;title.png&quot;</span> );
<a name="l06989"></a>06989     gtk_widget_show ( vbox_onglet );
<a name="l06990"></a>06990 
<a name="l06991"></a>06991     <span class="comment">/* mise en place de la paddingbox des comptes */</span>
<a name="l06992"></a>06992     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_onglet, FALSE, _(<span class="stringliteral">&quot;Accounts&quot;</span>) );
<a name="l06993"></a>06993 
<a name="l06994"></a>06994     <span class="comment">/* on permet d&#39;afficher le name du compte */</span>
<a name="l06995"></a>06995     bouton_afficher_noms_comptes = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Display account name&quot;</span>) );
<a name="l06996"></a>06996     gtk_box_pack_start ( GTK_BOX ( paddingbox ),
<a name="l06997"></a>06997                          bouton_afficher_noms_comptes,
<a name="l06998"></a>06998                          FALSE,
<a name="l06999"></a>06999                          FALSE,
<a name="l07000"></a>07000                          0 );
<a name="l07001"></a>07001     gtk_widget_show ( bouton_afficher_noms_comptes );
<a name="l07002"></a>07002 
<a name="l07003"></a>07003 
<a name="l07004"></a>07004     <span class="comment">/* on permet d&#39;afficher un ss total lors de chgt de compte */</span>
<a name="l07005"></a>07005     <span class="comment">/* activé uniquement si on a regroupé les opés par compte */</span>
<a name="l07006"></a>07006 
<a name="l07007"></a>07007     bouton_affiche_sous_total_compte = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Display a sub-total for each account&quot;</span>) );
<a name="l07008"></a>07008     gtk_box_pack_start ( GTK_BOX ( paddingbox ),
<a name="l07009"></a>07009                          bouton_affiche_sous_total_compte,
<a name="l07010"></a>07010                          FALSE,
<a name="l07011"></a>07011                          FALSE,
<a name="l07012"></a>07012                          0 );
<a name="l07013"></a>07013     gtk_widget_show ( bouton_affiche_sous_total_compte );
<a name="l07014"></a>07014 
<a name="l07015"></a>07015     g_signal_connect ( G_OBJECT ( bouton_regroupe_ope_compte_etat ),
<a name="l07016"></a>07016                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l07017"></a>07017                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l07018"></a>07018                          bouton_affiche_sous_total_compte );
<a name="l07019"></a>07019 
<a name="l07020"></a>07020     <span class="comment">/* mise en place de la paddingbox des tiers */</span>
<a name="l07021"></a>07021 
<a name="l07022"></a>07022     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_onglet, FALSE, _(<span class="stringliteral">&quot;Payee&quot;</span>) );
<a name="l07023"></a>07023 
<a name="l07024"></a>07024     <span class="comment">/* permet d&#39;afficher le name du tiers, activé uniquement si on utilise les tiers */</span>
<a name="l07025"></a>07025     bouton_afficher_noms_tiers = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Display payee&#39;s name&quot;</span>) );
<a name="l07026"></a>07026     gtk_box_pack_start ( GTK_BOX ( paddingbox ),
<a name="l07027"></a>07027                          bouton_afficher_noms_tiers,
<a name="l07028"></a>07028                          FALSE,
<a name="l07029"></a>07029                          FALSE,
<a name="l07030"></a>07030                          0 );
<a name="l07031"></a>07031     gtk_widget_show ( bouton_afficher_noms_tiers );
<a name="l07032"></a>07032 
<a name="l07033"></a>07033     g_signal_connect ( G_OBJECT ( bouton_utilise_tiers_etat ),
<a name="l07034"></a>07034                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l07035"></a>07035                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l07036"></a>07036                          bouton_afficher_noms_tiers );
<a name="l07037"></a>07037 
<a name="l07038"></a>07038     <span class="comment">/* permet d&#39;afficher un ss total lors de chgt de tiers */</span>
<a name="l07039"></a>07039     <span class="comment">/* activé uniquement si on utilise les tiers */</span>
<a name="l07040"></a>07040 
<a name="l07041"></a>07041     bouton_affiche_sous_total_tiers = gtk_check_button_new_with_label ( 
<a name="l07042"></a>07042                         _(<span class="stringliteral">&quot;Display a sub-total for each payee&quot;</span>) );
<a name="l07043"></a>07043     gtk_box_pack_start ( GTK_BOX ( paddingbox ),
<a name="l07044"></a>07044                          bouton_affiche_sous_total_tiers,
<a name="l07045"></a>07045                          FALSE,
<a name="l07046"></a>07046                          FALSE,
<a name="l07047"></a>07047                          0 );
<a name="l07048"></a>07048     gtk_widget_show ( bouton_affiche_sous_total_tiers );
<a name="l07049"></a>07049 
<a name="l07050"></a>07050     g_signal_connect ( G_OBJECT ( bouton_utilise_tiers_etat ),
<a name="l07051"></a>07051                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l07052"></a>07052                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l07053"></a>07053                          bouton_affiche_sous_total_tiers );
<a name="l07054"></a>07054 
<a name="l07055"></a>07055 
<a name="l07056"></a>07056     <span class="comment">/* mise en place de la paddingbox des catégories */</span>
<a name="l07057"></a>07057     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_onglet, FALSE, _(<span class="stringliteral">&quot;Categories&quot;</span>) );
<a name="l07058"></a>07058 
<a name="l07059"></a>07059     <span class="comment">/* affichage possible du name de la categ */</span>
<a name="l07060"></a>07060     bouton_afficher_noms_categ = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Display the (sub)category&#39;s name&quot;</span>) );
<a name="l07061"></a>07061     gtk_box_pack_start ( GTK_BOX ( paddingbox ),
<a name="l07062"></a>07062                          bouton_afficher_noms_categ,
<a name="l07063"></a>07063                          FALSE,
<a name="l07064"></a>07064                          FALSE,
<a name="l07065"></a>07065                          0 );
<a name="l07066"></a>07066     gtk_widget_show ( bouton_afficher_noms_categ );
<a name="l07067"></a>07067 
<a name="l07068"></a>07068     g_signal_connect ( G_OBJECT ( button_group_by_categ ),
<a name="l07069"></a>07069                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l07070"></a>07070                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l07071"></a>07071                          bouton_afficher_noms_categ );
<a name="l07072"></a>07072 
<a name="l07073"></a>07073     <span class="comment">/* permet d&#39;afficher un sous total lors de chgt de categ */</span>
<a name="l07074"></a>07074     <span class="comment">/* activé uniquement si on utilise les categ */</span>
<a name="l07075"></a>07075 
<a name="l07076"></a>07076     bouton_affiche_sous_total_categ = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Display a sub-total for each category&quot;</span>) );
<a name="l07077"></a>07077     gtk_box_pack_start ( GTK_BOX ( paddingbox ),
<a name="l07078"></a>07078                          bouton_affiche_sous_total_categ,
<a name="l07079"></a>07079                          FALSE,
<a name="l07080"></a>07080                          FALSE,
<a name="l07081"></a>07081                          0 );
<a name="l07082"></a>07082     gtk_widget_show ( bouton_affiche_sous_total_categ );
<a name="l07083"></a>07083 
<a name="l07084"></a>07084     g_signal_connect ( G_OBJECT ( button_group_by_categ ),
<a name="l07085"></a>07085                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l07086"></a>07086                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l07087"></a>07087                          bouton_affiche_sous_total_categ );
<a name="l07088"></a>07088 
<a name="l07089"></a>07089     <span class="comment">/* mise en place du bouton pour afficher les sous categ */</span>
<a name="l07090"></a>07090 
<a name="l07091"></a>07091     bouton_afficher_sous_categ = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Display sub-categories&quot;</span>) );
<a name="l07092"></a>07092     gtk_box_pack_start ( GTK_BOX ( paddingbox ),
<a name="l07093"></a>07093                          bouton_afficher_sous_categ,
<a name="l07094"></a>07094                          FALSE,
<a name="l07095"></a>07095                          FALSE,
<a name="l07096"></a>07096                          0 );
<a name="l07097"></a>07097     gtk_widget_show ( bouton_afficher_sous_categ );
<a name="l07098"></a>07098 
<a name="l07099"></a>07099     g_signal_connect ( G_OBJECT ( button_group_by_categ ),
<a name="l07100"></a>07100                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l07101"></a>07101                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l07102"></a>07102                          bouton_afficher_sous_categ );
<a name="l07103"></a>07103 
<a name="l07104"></a>07104 
<a name="l07105"></a>07105     bouton_affiche_sous_total_sous_categ = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Display a sub-total for each sub-category&quot;</span>) );
<a name="l07106"></a>07106     gtk_box_pack_start ( GTK_BOX ( paddingbox ),
<a name="l07107"></a>07107                          bouton_affiche_sous_total_sous_categ,
<a name="l07108"></a>07108                          FALSE,
<a name="l07109"></a>07109                          FALSE,
<a name="l07110"></a>07110                          0 );
<a name="l07111"></a>07111     gtk_widget_show ( bouton_affiche_sous_total_sous_categ );
<a name="l07112"></a>07112 
<a name="l07113"></a>07113     g_signal_connect ( G_OBJECT ( button_group_by_categ ),
<a name="l07114"></a>07114                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l07115"></a>07115                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l07116"></a>07116                          bouton_affiche_sous_total_sous_categ );
<a name="l07117"></a>07117 
<a name="l07118"></a>07118 
<a name="l07119"></a>07119     bouton_afficher_pas_de_sous_categ = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Display \&quot; No sub-category\&quot; if none&quot;</span>) );
<a name="l07120"></a>07120     gtk_box_pack_start ( GTK_BOX ( paddingbox ),
<a name="l07121"></a>07121                          bouton_afficher_pas_de_sous_categ,
<a name="l07122"></a>07122                          FALSE,
<a name="l07123"></a>07123                          FALSE,
<a name="l07124"></a>07124                          0 );
<a name="l07125"></a>07125     gtk_widget_show ( bouton_afficher_pas_de_sous_categ );
<a name="l07126"></a>07126 
<a name="l07127"></a>07127     g_signal_connect ( G_OBJECT ( button_group_by_categ ),
<a name="l07128"></a>07128                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l07129"></a>07129                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l07130"></a>07130                          bouton_afficher_pas_de_sous_categ );
<a name="l07131"></a>07131 
<a name="l07132"></a>07132 
<a name="l07133"></a>07133     <span class="comment">/* mise en place de la paddingbox des ib */</span>
<a name="l07134"></a>07134     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_onglet, FALSE, _(<span class="stringliteral">&quot;Budgetary lines&quot;</span>) );
<a name="l07135"></a>07135 
<a name="l07136"></a>07136     bouton_afficher_noms_ib = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Display the (sub-)budget line name&quot;</span>) );
<a name="l07137"></a>07137     gtk_box_pack_start ( GTK_BOX ( paddingbox ),
<a name="l07138"></a>07138                          bouton_afficher_noms_ib,
<a name="l07139"></a>07139                          FALSE,
<a name="l07140"></a>07140                          FALSE,
<a name="l07141"></a>07141                          0 );
<a name="l07142"></a>07142     gtk_widget_show ( bouton_afficher_noms_ib );
<a name="l07143"></a>07143 
<a name="l07144"></a>07144     g_signal_connect ( G_OBJECT ( bouton_utilise_ib_etat ),
<a name="l07145"></a>07145                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l07146"></a>07146                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l07147"></a>07147                          bouton_afficher_noms_ib );
<a name="l07148"></a>07148 
<a name="l07149"></a>07149     <span class="comment">/* permet d&#39;afficher un sous total lors de chgt d&#39;ib */</span>
<a name="l07150"></a>07150     <span class="comment">/* activé uniquement si on utilise les ib */</span>
<a name="l07151"></a>07151 
<a name="l07152"></a>07152     bouton_affiche_sous_total_ib = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Display a sub-total for each budgetary line&quot;</span>) );
<a name="l07153"></a>07153     gtk_box_pack_start ( GTK_BOX ( paddingbox ),
<a name="l07154"></a>07154                          bouton_affiche_sous_total_ib,
<a name="l07155"></a>07155                          FALSE,
<a name="l07156"></a>07156                          FALSE,
<a name="l07157"></a>07157                          0 );
<a name="l07158"></a>07158     gtk_widget_show ( bouton_affiche_sous_total_ib );
<a name="l07159"></a>07159 
<a name="l07160"></a>07160     g_signal_connect ( G_OBJECT ( bouton_utilise_ib_etat ),
<a name="l07161"></a>07161                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l07162"></a>07162                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l07163"></a>07163                          bouton_affiche_sous_total_ib );
<a name="l07164"></a>07164 
<a name="l07165"></a>07165     <span class="comment">/* mise en place du bouton pour afficher les sous categ */</span>
<a name="l07166"></a>07166 
<a name="l07167"></a>07167     bouton_afficher_sous_ib = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Display sub-budget lines&quot;</span>) );
<a name="l07168"></a>07168     gtk_box_pack_start ( GTK_BOX ( paddingbox ),
<a name="l07169"></a>07169                          bouton_afficher_sous_ib,
<a name="l07170"></a>07170                          FALSE,
<a name="l07171"></a>07171                          FALSE,
<a name="l07172"></a>07172                          0 );
<a name="l07173"></a>07173     gtk_widget_show ( bouton_afficher_sous_ib );
<a name="l07174"></a>07174 
<a name="l07175"></a>07175     g_signal_connect ( G_OBJECT ( bouton_utilise_ib_etat ),
<a name="l07176"></a>07176                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l07177"></a>07177                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l07178"></a>07178                          bouton_afficher_sous_ib );
<a name="l07179"></a>07179 
<a name="l07180"></a>07180     bouton_affiche_sous_total_sous_ib = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Display a sub-total for each sub-budget line&quot;</span>) );
<a name="l07181"></a>07181     gtk_box_pack_start ( GTK_BOX ( paddingbox ),
<a name="l07182"></a>07182                          bouton_affiche_sous_total_sous_ib,
<a name="l07183"></a>07183                          FALSE,
<a name="l07184"></a>07184                          FALSE,
<a name="l07185"></a>07185                          0 );
<a name="l07186"></a>07186     gtk_widget_show ( bouton_affiche_sous_total_sous_ib );
<a name="l07187"></a>07187 
<a name="l07188"></a>07188     g_signal_connect ( G_OBJECT ( bouton_utilise_ib_etat ),
<a name="l07189"></a>07189                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l07190"></a>07190                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l07191"></a>07191                          bouton_affiche_sous_total_sous_ib );
<a name="l07192"></a>07192 
<a name="l07193"></a>07193 
<a name="l07194"></a>07194     bouton_afficher_pas_de_sous_ib = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Display \&quot;No sub-budgetary line\&quot; if none&quot;</span>) );
<a name="l07195"></a>07195     gtk_box_pack_start ( GTK_BOX ( paddingbox ),
<a name="l07196"></a>07196                          bouton_afficher_pas_de_sous_ib,
<a name="l07197"></a>07197                          FALSE,
<a name="l07198"></a>07198                          FALSE,
<a name="l07199"></a>07199                          0 );
<a name="l07200"></a>07200     gtk_widget_show ( bouton_afficher_pas_de_sous_ib );
<a name="l07201"></a>07201 
<a name="l07202"></a>07202     g_signal_connect ( G_OBJECT ( bouton_utilise_ib_etat ),
<a name="l07203"></a>07203                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l07204"></a>07204                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l07205"></a>07205                          bouton_afficher_pas_de_sous_ib );
<a name="l07206"></a>07206 
<a name="l07207"></a>07207     <span class="keywordflow">return</span> ( vbox_onglet );
<a name="l07208"></a>07208 }
<a name="l07209"></a>07209 <span class="comment">/******************************************************************************/</span>
<a name="l07210"></a>07210 
<a name="l07211"></a>07211 <span class="comment">/******************************************************************************/</span>
<a name="l07212"></a>07212 GtkWidget *onglet_etat_mode_paiement ( <span class="keywordtype">void</span> )
<a name="l07213"></a>07213 {
<a name="l07214"></a>07214     GtkWidget *scrolled_window;
<a name="l07215"></a>07215     GtkWidget *bouton;
<a name="l07216"></a>07216     GtkWidget *vbox;
<a name="l07217"></a>07217     GtkWidget *label;
<a name="l07218"></a>07218     GtkWidget *hbox;
<a name="l07219"></a>07219     GtkWidget *vbox_onglet;
<a name="l07220"></a>07220 
<a name="l07221"></a>07221     vbox_onglet = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Payment methods&quot;</span>), <span class="stringliteral">&quot;payment.png&quot;</span> );
<a name="l07222"></a>07222     gtk_widget_show ( vbox_onglet );
<a name="l07223"></a>07223 
<a name="l07224"></a>07224     <span class="comment">/* on met dans la partie de gauche une liste contenant les modes de paiement à */</span>
<a name="l07225"></a>07225     <span class="comment">/* sélectionner */</span>
<a name="l07226"></a>07226 
<a name="l07227"></a>07227     bouton_detaille_mode_paiement_etat = gtk_check_button_new_with_label ( _(<span class="stringliteral">&quot;Select the transactions by method of payment&quot;</span>));
<a name="l07228"></a>07228     g_signal_connect_swapped ( G_OBJECT ( bouton_detaille_mode_paiement_etat ),
<a name="l07229"></a>07229                                 <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l07230"></a>07230                                 G_CALLBACK ( report_tree_update_style ),
<a name="l07231"></a>07231                                 GINT_TO_POINTER ( 8 ));
<a name="l07232"></a>07232     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l07233"></a>07233                          bouton_detaille_mode_paiement_etat,
<a name="l07234"></a>07234                          FALSE,
<a name="l07235"></a>07235                          FALSE,
<a name="l07236"></a>07236                          0 );
<a name="l07237"></a>07237     gtk_widget_show ( bouton_detaille_mode_paiement_etat );
<a name="l07238"></a>07238 
<a name="l07239"></a>07239     vbox_mode_paiement_etat = gtk_vbox_new ( FALSE, 5 );
<a name="l07240"></a>07240     gtk_box_pack_start ( GTK_BOX ( vbox_onglet ),
<a name="l07241"></a>07241                          vbox_mode_paiement_etat,
<a name="l07242"></a>07242                          TRUE,
<a name="l07243"></a>07243                          TRUE,
<a name="l07244"></a>07244                          0 );
<a name="l07245"></a>07245     gtk_widget_show ( vbox_mode_paiement_etat );
<a name="l07246"></a>07246 
<a name="l07247"></a>07247 
<a name="l07248"></a>07248     g_signal_connect ( G_OBJECT ( bouton_detaille_mode_paiement_etat ),
<a name="l07249"></a>07249                          <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l07250"></a>07250                          G_CALLBACK ( <a class="code" href="utils_8c.html#ad678079f1b9eb979a0766e9dcbec0fd3">sens_desensitive_pointeur</a> ),
<a name="l07251"></a>07251                          vbox_mode_paiement_etat );
<a name="l07252"></a>07252 
<a name="l07253"></a>07253     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;Select methods of payment to include&quot;</span>)) );
<a name="l07254"></a>07254         gtk_misc_set_padding ( GTK_MISC ( label ), 3, 0 );
<a name="l07255"></a>07255         gtk_misc_set_alignment ( GTK_MISC ( label ), 0.0, 0.0 );
<a name="l07256"></a>07256 
<a name="l07257"></a>07257     gtk_box_pack_start ( GTK_BOX ( vbox_mode_paiement_etat ),
<a name="l07258"></a>07258                          label,
<a name="l07259"></a>07259                          FALSE,
<a name="l07260"></a>07260                          FALSE,
<a name="l07261"></a>07261                          0 );
<a name="l07262"></a>07262     gtk_widget_show ( label );
<a name="l07263"></a>07263 
<a name="l07264"></a>07264     hbox = gtk_hbox_new ( FALSE,
<a name="l07265"></a>07265                           5 );
<a name="l07266"></a>07266     gtk_box_pack_start ( GTK_BOX ( vbox_mode_paiement_etat ),
<a name="l07267"></a>07267                          hbox,
<a name="l07268"></a>07268                          TRUE,
<a name="l07269"></a>07269                          TRUE,
<a name="l07270"></a>07270                          0 );
<a name="l07271"></a>07271     gtk_widget_show ( hbox );
<a name="l07272"></a>07272 
<a name="l07273"></a>07273     scrolled_window = gtk_scrolled_window_new ( FALSE,
<a name="l07274"></a>07274                                                 FALSE );
<a name="l07275"></a>07275     gtk_scrolled_window_set_policy ( GTK_SCROLLED_WINDOW ( scrolled_window ),
<a name="l07276"></a>07276                                      GTK_POLICY_AUTOMATIC,
<a name="l07277"></a>07277                                      GTK_POLICY_AUTOMATIC );
<a name="l07278"></a>07278     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l07279"></a>07279                          scrolled_window,
<a name="l07280"></a>07280                          TRUE,
<a name="l07281"></a>07281                          TRUE,
<a name="l07282"></a>07282                          0 );
<a name="l07283"></a>07283     gtk_widget_show ( scrolled_window );
<a name="l07284"></a>07284 
<a name="l07285"></a>07285     liste_mode_paiement_etat = gtk_clist_new ( 1 );
<a name="l07286"></a>07286     gtk_clist_set_selection_mode ( GTK_CLIST ( liste_mode_paiement_etat ),
<a name="l07287"></a>07287                                    GTK_SELECTION_MULTIPLE );
<a name="l07288"></a>07288     gtk_clist_set_column_auto_resize ( GTK_CLIST ( liste_mode_paiement_etat ),
<a name="l07289"></a>07289                                        0,
<a name="l07290"></a>07290                                        TRUE );
<a name="l07291"></a>07291     gtk_container_add ( GTK_CONTAINER ( scrolled_window ),
<a name="l07292"></a>07292                         liste_mode_paiement_etat );
<a name="l07293"></a>07293     gtk_widget_show ( liste_mode_paiement_etat );
<a name="l07294"></a>07294 
<a name="l07295"></a>07295     <span class="comment">/* on remplit la liste des comptes */</span>
<a name="l07296"></a>07296 
<a name="l07297"></a>07297     remplissage_liste_modes_paiement_etats ();
<a name="l07298"></a>07298 
<a name="l07299"></a>07299 
<a name="l07300"></a>07300 
<a name="l07301"></a>07301     <span class="comment">/*   sur la partie de droite, on met les boutons (dé)sélectionner tout */</span>
<a name="l07302"></a>07302 
<a name="l07303"></a>07303     vbox = gtk_vbox_new ( FALSE,
<a name="l07304"></a>07304                           5 );
<a name="l07305"></a>07305     gtk_box_pack_start ( GTK_BOX ( hbox ),
<a name="l07306"></a>07306                          vbox,
<a name="l07307"></a>07307                          FALSE,
<a name="l07308"></a>07308                          FALSE,
<a name="l07309"></a>07309                          0 );
<a name="l07310"></a>07310     gtk_widget_show ( vbox );
<a name="l07311"></a>07311 
<a name="l07312"></a>07312     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Select all&quot;</span>) );
<a name="l07313"></a>07313         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l07314"></a>07314     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l07315"></a>07315                             GTK_RELIEF_NONE );
<a name="l07316"></a>07316     g_signal_connect_swapped ( G_OBJECT  ( bouton ),
<a name="l07317"></a>07317                                 <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l07318"></a>07318                                 G_CALLBACK ( gtk_clist_select_all ),
<a name="l07319"></a>07319                                 G_OBJECT  ( liste_mode_paiement_etat ));
<a name="l07320"></a>07320     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l07321"></a>07321                          bouton,
<a name="l07322"></a>07322                          TRUE,
<a name="l07323"></a>07323                          FALSE,
<a name="l07324"></a>07324                          0 );
<a name="l07325"></a>07325     gtk_widget_show ( bouton );
<a name="l07326"></a>07326 
<a name="l07327"></a>07327     bouton = gtk_button_new_with_label ( _(<span class="stringliteral">&quot;Unselect all&quot;</span>) );
<a name="l07328"></a>07328         gtk_button_set_alignment ( GTK_BUTTON ( bouton ), 0.1, 0.0 );
<a name="l07329"></a>07329     gtk_button_set_relief ( GTK_BUTTON ( bouton ),
<a name="l07330"></a>07330                             GTK_RELIEF_NONE );
<a name="l07331"></a>07331     g_signal_connect_swapped ( G_OBJECT  ( bouton ),
<a name="l07332"></a>07332                                 <span class="stringliteral">&quot;clicked&quot;</span>,
<a name="l07333"></a>07333                                 G_CALLBACK ( gtk_clist_unselect_all ),
<a name="l07334"></a>07334                                 G_OBJECT  ( liste_mode_paiement_etat ));
<a name="l07335"></a>07335     gtk_box_pack_start ( GTK_BOX ( vbox ),
<a name="l07336"></a>07336                          bouton,
<a name="l07337"></a>07337                          TRUE,
<a name="l07338"></a>07338                          FALSE,
<a name="l07339"></a>07339                          0 );
<a name="l07340"></a>07340     gtk_widget_show ( bouton );
<a name="l07341"></a>07341 
<a name="l07342"></a>07342 
<a name="l07343"></a>07343     <span class="keywordflow">return</span> ( vbox_onglet );
<a name="l07344"></a>07344 }
<a name="l07345"></a>07345 <span class="comment">/******************************************************************************/</span>
<a name="l07346"></a>07346 
<a name="l07347"></a>07347 <span class="comment">/******************************************************************************/</span>
<a name="l07348"></a>07348 <span class="keywordtype">void</span> remplissage_liste_modes_paiement_etats ( <span class="keywordtype">void</span> )
<a name="l07349"></a>07349 {
<a name="l07350"></a>07350     GSList *liste_nom_types = NULL;
<a name="l07351"></a>07351     GSList *list_tmp;
<a name="l07352"></a>07352 
<a name="l07353"></a>07353 
<a name="l07354"></a>07354     <span class="keywordflow">if</span> ( !liste_comptes_etat )
<a name="l07355"></a>07355         <span class="keywordflow">return</span>;
<a name="l07356"></a>07356 
<a name="l07357"></a>07357     gtk_clist_clear ( GTK_CLIST ( liste_mode_paiement_etat ) );
<a name="l07358"></a>07358 
<a name="l07359"></a>07359     <span class="comment">/* create a list of unique names */</span>
<a name="l07360"></a>07360 
<a name="l07361"></a>07361     list_tmp = <a class="code" href="gsb__data__payment_8c.html#acec454aa5a57af2dd716d6b38e97baec">gsb_data_payment_get_payments_list</a> ();
<a name="l07362"></a>07362 
<a name="l07363"></a>07363     <span class="keywordflow">while</span> (list_tmp)
<a name="l07364"></a>07364     {
<a name="l07365"></a>07365         gint payment_number;
<a name="l07366"></a>07366 
<a name="l07367"></a>07367         payment_number = <a class="code" href="gsb__data__payment_8c.html#ad8738991cf8066d32f2a9a76f465f941">gsb_data_payment_get_number</a> (list_tmp -&gt; data);
<a name="l07368"></a>07368 
<a name="l07369"></a>07369         <span class="keywordflow">if</span> ( !g_slist_find_custom ( liste_nom_types,
<a name="l07370"></a>07370                                     <a class="code" href="gsb__data__payment_8c.html#a3384c18af92833d2152faad71ccd16c4">gsb_data_payment_get_name</a> (payment_number),
<a name="l07371"></a>07371                                     (GCompareFunc) <a class="code" href="etats__calculs_8c.html#a7be57203bd852c1d3aac7757b1aa17a4">cherche_string_equivalente_dans_slist</a> ))
<a name="l07372"></a>07372             liste_nom_types = g_slist_append ( liste_nom_types,
<a name="l07373"></a>07373                                                <a class="code" href="utils__str_8c.html#ad9a37361694eeaa2847b0fe11389824d">my_strdup</a> (<a class="code" href="gsb__data__payment_8c.html#a3384c18af92833d2152faad71ccd16c4">gsb_data_payment_get_name</a> (payment_number)));
<a name="l07374"></a>07374 
<a name="l07375"></a>07375         list_tmp = list_tmp -&gt; next;
<a name="l07376"></a>07376     }
<a name="l07377"></a>07377 
<a name="l07378"></a>07378     <span class="comment">/* sort and set that list in the clist and associate the name to the row */</span>
<a name="l07379"></a>07379     liste_nom_types = g_slist_sort ( liste_nom_types, (GCompareFunc) <a class="code" href="utils__str_8c.html#af2728abf4fbd2d14f13a3025211dab47">my_strcasecmp</a> );
<a name="l07380"></a>07380 
<a name="l07381"></a>07381     list_tmp = liste_nom_types;
<a name="l07382"></a>07382 
<a name="l07383"></a>07383     <span class="keywordflow">while</span> ( list_tmp )
<a name="l07384"></a>07384     {
<a name="l07385"></a>07385         gint row;
<a name="l07386"></a>07386         gchar * <span class="keywordtype">string</span> = list_tmp -&gt; data;
<a name="l07387"></a>07387 
<a name="l07388"></a>07388         row = gtk_clist_append ( GTK_CLIST ( liste_mode_paiement_etat ),
<a name="l07389"></a>07389                                  &amp;<span class="keywordtype">string</span> );
<a name="l07390"></a>07390 
<a name="l07391"></a>07391         gtk_clist_set_row_data ( GTK_CLIST ( liste_mode_paiement_etat ),
<a name="l07392"></a>07392                                  row,
<a name="l07393"></a>07393                                  list_tmp -&gt; data );
<a name="l07394"></a>07394 
<a name="l07395"></a>07395         list_tmp = list_tmp -&gt; next;
<a name="l07396"></a>07396     }
<a name="l07397"></a>07397 }
<a name="l07398"></a>07398 <span class="comment">/******************************************************************************/</span>
<a name="l07399"></a>07399 
<a name="l07400"></a>07400 
<a name="l07401"></a>07401 
<a name="l07402"></a>07402 <span class="comment">/******************************************************************************/</span>
<a name="l07403"></a>07403 <span class="keywordtype">void</span> selectionne_liste_modes_paiement_etat_courant ( <span class="keywordtype">void</span> )
<a name="l07404"></a>07404 {
<a name="l07405"></a>07405     gint i;
<a name="l07406"></a>07406     gint current_report_number;
<a name="l07407"></a>07407 
<a name="l07408"></a>07408     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l07409"></a>07409 
<a name="l07410"></a>07410 
<a name="l07411"></a>07411     <span class="keywordflow">if</span> ( !liste_comptes_etat )
<a name="l07412"></a>07412         <span class="keywordflow">return</span>;
<a name="l07413"></a>07413 
<a name="l07414"></a>07414     gtk_clist_unselect_all ( GTK_CLIST ( liste_mode_paiement_etat ));
<a name="l07415"></a>07415 
<a name="l07416"></a>07416     <span class="keywordflow">if</span> ( !<a class="code" href="gsb__data__report_8c.html#a3ceac05c6ab8d63dadc7c6245368874e">gsb_data_report_get_method_of_payment_list</a> (current_report_number))
<a name="l07417"></a>07417         <span class="keywordflow">return</span>;
<a name="l07418"></a>07418 
<a name="l07419"></a>07419     <span class="comment">/* on fait le tour de la liste pour voir s&#39;il y a un état sélectionné */</span>
<a name="l07420"></a>07420 
<a name="l07421"></a>07421     <span class="keywordflow">for</span> ( i=0 ; i &lt; GTK_CLIST ( liste_mode_paiement_etat ) -&gt; rows ; i++ )
<a name="l07422"></a>07422     {
<a name="l07423"></a>07423         <span class="keywordflow">if</span> ( g_slist_find_custom ( <a class="code" href="gsb__data__report_8c.html#a3ceac05c6ab8d63dadc7c6245368874e">gsb_data_report_get_method_of_payment_list</a> (current_report_number),
<a name="l07424"></a>07424                                    gtk_clist_get_row_data ( GTK_CLIST ( liste_mode_paiement_etat ),
<a name="l07425"></a>07425                                                             i ),
<a name="l07426"></a>07426                                    (GCompareFunc) cherche_string_equivalente_dans_slist ))
<a name="l07427"></a>07427             gtk_clist_select_row ( GTK_CLIST ( liste_mode_paiement_etat ),
<a name="l07428"></a>07428                                    i,
<a name="l07429"></a>07429                                    0 );
<a name="l07430"></a>07430     }
<a name="l07431"></a>07431 }
<a name="l07432"></a>07432 <span class="comment">/******************************************************************************/</span>
<a name="l07433"></a>07433 
<a name="l07434"></a>07434 <span class="comment">/******************************************************************************/</span>
<a name="l07435"></a>07435 <span class="keywordtype">void</span> etat_option_menu_changed (GtkWidget *optionmenu, GtkWidget *user_data)
<a name="l07436"></a>07436 {
<a name="l07437"></a>07437     gint current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a>();
<a name="l07438"></a>07438     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__report_8c.html#ae6b88858361f9e177a6be4372786a98e">gsb_data_report_get_period_split</a> (current_report_number))
<a name="l07439"></a>07439     {
<a name="l07440"></a>07440     <span class="keywordflow">if</span> (gtk_option_menu_get_history ( GTK_OPTION_MENU ( optionmenu )) == 1)
<a name="l07441"></a>07441         gtk_widget_set_sensitive ( user_data, TRUE );
<a name="l07442"></a>07442     <span class="keywordflow">else</span>
<a name="l07443"></a>07443         gtk_widget_set_sensitive ( user_data, FALSE );
<a name="l07444"></a>07444     }
<a name="l07445"></a>07445 }
<a name="l07446"></a>07446 <span class="comment">/******************************************************************************/</span>
<a name="l07447"></a>07447 
<a name="l07448"></a>07448 <span class="comment">/* Local Variables: */</span>
<a name="l07449"></a>07449 <span class="comment">/* c-basic-offset: 4 */</span>
<a name="l07450"></a>07450 <span class="comment">/* End: */</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Généré le Sat Aug 7 22:12:01 2010 pour Grisbi par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
